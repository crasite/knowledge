!function(e){e.$fuse$=e,e.pkg("default",{},function(e){return e.file("main.js",function(e,t,r,n,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),t("./style.styl");var o=t("rxjs"),s=t("@cycle/DOM"),a=t("@cycle/rxjs-run"),u=t("./general-function/dbDriver"),c=t("./general-modules/InfoSection"),l=t("./general-modules/Questioner"),f=t("./general-modules/tester"),h=t("@cycle/isolate");function p(e){var t=e.DOM,r=e.db,n=o.Observable.merge(t.select("nav p#content").events("click").mapTo("content"),t.select("nav p#question").events("click").mapTo("question"),t.select("nav p#tester").events("click").mapTo("tester")).startWith("content"),i=o.Observable.ajax("./file").map(function(e){return e.response.files}).map(function(e){var t={};return e.map(function(e){return e.split("-",2)}).filter(function(e){return e.length>1}).map(function(e){t[e[0]]=t[e[0]]?t[e[0]].concat([e[1]]):[e[1]]}),t}).map(function(e){return Object.keys(e).map(function(t){var r=e[t].map(function(e){return r=t,i=(n=e).match(/[A-Z][a-z]+/g).reduce(function(e,t){return e+" "+t}),s.a({dataset:{source:"/markdowns/"+r+"-"+n}},i);var r,n,i});return s.div([s.span(t),s.div(r)])})}).map(function(e){return s.nav(e)}),a=t.select("a").events("click").map(function(e){return e.target}).map(function(e){return{source:e.dataset.source}}).startWith({source:"/markdowns/sample.md"}),u=o.Observable.from(a).combineLatest(n).flatMap(function(e){var t=e[0];return"content"==e[1]?o.Observable.of(t):o.Observable.empty()}),p=h.default(c.default)({DOM:t,props:u}),d=o.Observable.from(a.map(function(e){return/\/([A-z-]+?).md$/.exec(e.source)[1]})),v=l.default({DOM:t,db:r,id:"q1",collectionName:d}),m=f.default({DOM:t,db:r,questionSet:d,update:v.db.mapTo(1).startWith(1).merge(a.mapTo(1))}),b=o.Observable.combineLatest(n,p.DOM,v.DOM,m.DOM).map(function(e){var t=e[0],r=e[1],n=e[2],i=e[3];return"content"==t?r:"tester"==t?i:n}).map(function(e){return s.h("main",[s.nav([s.p("#content","Content"),s.p("#question","Question"),s.p("#tester","Tester")]),e])}).startWith(s.p("Loading"));return{DOM:i.combineLatest(b).map(function(e){var t=e[0],r=e[1];return s.div("#main-container",[s.header(s.h1("Knowledge")),t,r])}),db:v.db.merge(m.db)}}e.default=p,a.run(p,{DOM:s.makeDOMDriver("#main-container"),db:u.default("main")})}),e.file("style.styl",function(e,t,r,n,i){t("fuse-box-css")("style.styl","* {\n  box-sizing: border-box;\n}\nbody {\n  height: 100%;\n}\n#main-container {\n  display: grid;\n  margin: 0 2em;\n  background-color: rgba(249,237,224,0.5);\n  min-height: 100vh;\n  border-top-left-radius: 2em;\n  border-top-right-radius: 2em;\n  grid-gap: 3em;\n}\n@media (min-width: 48em) {\n  #main-container {\n    grid-template-columns: 1fr 4fr;\n  }\n  #main-container >header {\n    grid-column: 1/3;\n  }\n}\n#main-container >header h1 {\n  text-align: center;\n}\n#main-container >nav {\n  margin: 0 1em;\n  border-top-left-radius: 0.3em;\n  border-top-right-radius: 0.3em;\n  background-color: rgba(191,242,203,0.7);\n  align-self: start;\n}\n#main-container >nav >div:first-child {\n  padding-top: 0.3em;\n}\n#main-container >nav >div:hover >div {\n  overflow: auto;\n  max-height: 5em;\n}\n#main-container >nav >div >div {\n  transition-property: all;\n  display: flex;\n  flex-direction: column;\n  transition-duration: 300ms;\n  overflow: hidden;\n  max-height: 0em;\n}\n#main-container >nav >div:hover >span {\n  padding-bottom: 0.3em;\n}\n#main-container >nav >div >span {\n  display: inline-block;\n  text-transform: capitalize;\n  background-color: #0ff;\n  width: 100%;\n  font-weight: bold;\n  font-size: 1.2em;\n}\n#main-container >nav >div a {\n  background-color: rgba(120,242,253,0.5);\n  color: #5c94f2;\n}\n#main-container >main >nav {\n  display: flex;\n}\n#main-container >main >nav >p {\n  text-align: center;\n  flex: 1;\n}\n#main-container >main >nav >p:nth-child(even) {\n  background-color: #7fffd4;\n}\n#main-container >main >nav >p:nth-child(odd) {\n  background-color: #0ff;\n}\n")}),e.file("general-function/dbDriver.js",function(e,t,r,n,i){"use strict";var o=this&&this.__assign||Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e};Object.defineProperty(e,"__esModule",{value:!0});var s=t("pouchdb"),a=t("pouchdb-find"),u=t("@cycle/run/lib/adapt"),c=t("xstream");s.plugin(a),e.default=function(e){var t=new s(e,{revs_limit:1,auto_compaction:!0});return t.createIndex({index:{fields:["collection"],name:"collectionIndex"}}).catch(),function(e){var r=c.default.create({start:function(r){e.subscribe({next:function(e){void 0!=e.collection&&("put"==e.command&&confirm("Do you want to submit the question?")&&t.put(o({},e.payload,{collection:e.collection})).then(function(t){return r.next({response:t,id:e.id})}).catch(function(t){r.next({response:t,id:e.id})}),"get"==e.command&&t.find({selector:{collection:e.collection,_id:{$eq:e.payload._id}}}).then(function(t){return r.next({response:t,id:e.id})}).catch(function(t){r.next({response:t,id:e.id})}),"alldocs"==e.command&&t.find(o({},e.payload,{selector:{collection:e.collection}})).then(function(t){return r.next({response:t,id:e.id})}).catch(function(t){r.next({response:t,id:e.id})}))},complete:function(){},error:function(){}})},stop:function(){}});return u.adapt(r)}}}),e.file("general-modules/InfoSection.js",function(e,t,r,n,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=t("rxjs"),s=t("@cycle/DOM"),a=t("markdown-it")();a.use(t("markdown-it-texmath").use(t("katex"))),e.default=function(e){var t=e.DOM,r=e.props,n=r.flatMap(function(e){return t.select(".info").elements().filter(function(e){return e.length>0}).take(1)});return r.flatMap(function(e){return o.Observable.ajax({method:"GET",url:e.source,responseType:"text"}).startWith({response:"loading"})}).map(function(e){return a.render(e.response)}).combineLatest(n).subscribe(function(e){var t=e[0];e[1][0].innerHTML=t}),{DOM:o.Observable.of(s.div(".info"))}}}),e.file("general-modules/Questioner.js",function(e,t,r,n,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=t("rxjs"),s=t("@cycle/DOM"),a=t("@cycle/isolate"),u=t("./InputField"),c=t("./InputArray");e.default=function(e){var t=e.DOM,r=(e.db,e.id),n=e.collectionName,i=o.Observable.of({name:"questionField",type:"textarea",propList:{style:"width:500px;"}}),l=a.default(u.default)({DOM:t,props:i}),f=l.value,h=o.Observable.of({name:"addField",type:"button",propList:{value:"Add"}}),p=a.default(u.default)({DOM:t,props:h}),d=p.value.filter(function(e){return""!=e}).map(function(e){return parseInt(e)}),v=o.Observable.of({name:"removeField",type:"button",propList:{value:"Remove"}}),m=a.default(u.default)({DOM:t,props:v}),b=m.value.filter(function(e){return""!=e}).map(function(e){return-1*parseInt(e)}),y=o.Observable.of({name:"submitField",type:"button",propList:{value:"Submit"}}),g=a.default(u.default)({DOM:t,props:y}),_=g.value.filter(function(e){return""!=e}),w=o.Observable.merge(d,b).scan(function(e,t){return e+t>0?e+t:0},1).startWith(1),x=c.default({DOM:t,size:w,type:o.Observable.of("text"),className:"inputField"}),k=_.withLatestFrom(o.Observable.combineLatest(f,x.value)).map(function(e){var t=e[1];return{_id:Date.now().toString(),question:t[0],answers:t[1]}}).withLatestFrom(n).map(function(e){var t=e[0];return{command:"put",collection:e[1],id:r,payload:t}});return{DOM:o.Observable.combineLatest(l.DOM,x.DOM,p.DOM,m.DOM,g.DOM).map(function(e){return s.p(e)}),db:k}}}),e.file("general-modules/InputField.js",function(e,t,r,n,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=t("@cycle/DOM");e.default=function(e){var t=e.props,r=(e.DOM,e.initialValue),n=t.flatMap(function(t){return"button"!=t.type?e.DOM.select("."+t.name).events("input"):e.DOM.select("."+t.name).events("click").mapTo({target:{value:"1"}})}).pluck("target").pluck("value").startWith(r||"").share();return{DOM:e.props.map(function(e){var t=e.name,r=e.type,n=e.propList;return"textarea"==r?o.p([o.textarea("."+t,{props:n})]):o.p([o.input("."+t,{attrs:{type:r},props:n})])}),value:n}}}),e.file("general-modules/InputArray.js",function(e,t,r,n,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=t("rxjs"),s=t("@cycle/DOM");e.default=function(e){var t=e.DOM,r=e.size,n=e.type,i=e.className,a=t.select("input").events("input").map(function(e){var t=parseInt(e.currentTarget.id),r=e.currentTarget.value;return r?{index:t,value:r}:{index:t,value:""}}).startWith(void 0),u=o.Observable.combineLatest(r,a).scan(function(e,t){var r,n=t[0],i=t[1],o=void 0;for(i&&(r=i.value,o=i.index);e.length<n;)e.push("");return e.length>n?e.pop():void 0!=o&&(e[o]=r),e},[]);return{DOM:r.combineLatest(n).map(function(e){return function(e,t,r){for(var n=[],i=0;i<e;i++)n.push(s.input("#"+i+(r?"."+r:""),{attrs:{type:t}}));return s.div(n)}(e[0],e[1],i)}),value:u}}}),e.file("general-modules/tester.js",function(e,t,r,n,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=t("rxjs"),s=t("../general-function/createVNode"),a=t("@cycle/isolate"),u=t("./InputField"),c=t("@cycle/DOM"),l=t("./InputArray");e.default=function(e){var r=e.DOM,n=e.db,i=e.questionSet,f=e.update,h=f.combineLatest(i).map(function(e){return{command:"alldocs",collection:e[1],payload:{},id:"qlist"}}),p=t("markdown-it")();p.use(t("markdown-it-texmath").use(t("katex")));var d=o.Observable.of({name:"checkButton",type:"button",propList:{value:"Check"}}),v=a.default(u.default)({DOM:r,props:d}),m=v.value.filter(function(e){return""!=e}).map(function(e){return parseInt(e)}),b=o.Observable.of({name:"nextButton",type:"button",propList:{value:"Next"}}),y=a.default(u.default)({DOM:r,props:b}),g=y.value.filter(function(e){return""!=e}).map(function(e){return parseInt(e)}).startWith(1),_=n.filter(function(e){return"qlist"==e.id}).map(function(e){if(e.response.docs){if(0==e.response.docs.length)return{docs:[{question:"Please add question",answers:[]}],arrangement:[0],index:0};var t=function(e){for(var t,r,n=e.length;0!==n;)r=Math.floor(Math.random()*n),t=e[n-=1],e[n]=e[r],e[r]=t;return e}(Array.from(Array(e.response.docs.length).keys()));return{docs:e.response.docs,arrangement:t,index:0}}}).combineLatest(g).map(function(e){var t=e[0];return e[1],t.index<t.docs.length-1?t.index+=1:t.index=0,t}).map(function(e){return e.docs[e.arrangement[e.index]]}).share(),w=_.map(function(e){return l.default({DOM:r,size:o.Observable.of(e.answers.length),type:o.Observable.of("text"),className:"answerField"})}),x=w.flatMap(function(e){return e.DOM}),k=w.flatMap(function(e){return e.value}),j=m.withLatestFrom(k,_).map(function(e){var t=e[1];return e[2].answers.map(function(e,r){return e==t[r]?"Richtig":e})}).map(function(e){return c.div(e.map(function(e){return c.span(e)}))}).startWith(null).merge(g.mapTo(null),f.mapTo(null)),S=x.combineLatest(j).map(function(e){return c.div(".result",e)});return{DOM:_.map(function(e){return s.default(p.render(e.question))}).combineLatest(S,v.DOM,y.DOM).map(function(e){return c.div(e)}),db:h}}}),e.file("general-function/createVNode.js",function(e,t,r,n,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=t("snabbdom/tovnode");e.default=function(e,t){void 0===t&&(t="DIV");var r=document.createElement(t);return r.innerHTML=e,o.toVNode(r)}}),e.entry="main.ts"}),e.pkg("fuse-box-css",{},function(t){return t.file("index.js",function(t,r,n,i,o){var s=e.isBrowser||"electron"===e.target,a=function(e,t){if(s){var r=e.replace(/[\.\/]+/g,"-");"-"===r.charAt(0)&&(r=r.substring(1));var n=document.getElementById(r);if(n)t&&(n.innerHTML=t);else{var i=document.createElement(t?"style":"link");i.id=r,i.type="text/css",t?i.innerHTML=t:(i.rel="stylesheet",i.href=e),document.getElementsByTagName("head")[0].appendChild(i)}}};void 0!==e&&s&&e.on("async",function(e){if(/\.css$/.test(e))return a(e),!1}),n.exports=a}),t.entry="index.js"}),e.pkg("rxjs",{},function(e){return e.file("Rx.js",function(e,t,r,n,i){"use strict";var o=t("./Subject");e.Subject=o.Subject,e.AnonymousSubject=o.AnonymousSubject;var s=t("./Observable");e.Observable=s.Observable,t("./add/observable/bindCallback"),t("./add/observable/bindNodeCallback"),t("./add/observable/combineLatest"),t("./add/observable/concat"),t("./add/observable/defer"),t("./add/observable/empty"),t("./add/observable/forkJoin"),t("./add/observable/from"),t("./add/observable/fromEvent"),t("./add/observable/fromEventPattern"),t("./add/observable/fromPromise"),t("./add/observable/generate"),t("./add/observable/if"),t("./add/observable/interval"),t("./add/observable/merge"),t("./add/observable/race"),t("./add/observable/never"),t("./add/observable/of"),t("./add/observable/onErrorResumeNext"),t("./add/observable/pairs"),t("./add/observable/range"),t("./add/observable/using"),t("./add/observable/throw"),t("./add/observable/timer"),t("./add/observable/zip"),t("./add/observable/dom/ajax"),t("./add/observable/dom/webSocket"),t("./add/operator/buffer"),t("./add/operator/bufferCount"),t("./add/operator/bufferTime"),t("./add/operator/bufferToggle"),t("./add/operator/bufferWhen"),t("./add/operator/catch"),t("./add/operator/combineAll"),t("./add/operator/combineLatest"),t("./add/operator/concat"),t("./add/operator/concatAll"),t("./add/operator/concatMap"),t("./add/operator/concatMapTo"),t("./add/operator/count"),t("./add/operator/dematerialize"),t("./add/operator/debounce"),t("./add/operator/debounceTime"),t("./add/operator/defaultIfEmpty"),t("./add/operator/delay"),t("./add/operator/delayWhen"),t("./add/operator/distinct"),t("./add/operator/distinctUntilChanged"),t("./add/operator/distinctUntilKeyChanged"),t("./add/operator/do"),t("./add/operator/exhaust"),t("./add/operator/exhaustMap"),t("./add/operator/expand"),t("./add/operator/elementAt"),t("./add/operator/filter"),t("./add/operator/finally"),t("./add/operator/find"),t("./add/operator/findIndex"),t("./add/operator/first"),t("./add/operator/groupBy"),t("./add/operator/ignoreElements"),t("./add/operator/isEmpty"),t("./add/operator/audit"),t("./add/operator/auditTime"),t("./add/operator/last"),t("./add/operator/let"),t("./add/operator/every"),t("./add/operator/map"),t("./add/operator/mapTo"),t("./add/operator/materialize"),t("./add/operator/max"),t("./add/operator/merge"),t("./add/operator/mergeAll"),t("./add/operator/mergeMap"),t("./add/operator/mergeMapTo"),t("./add/operator/mergeScan"),t("./add/operator/min"),t("./add/operator/multicast"),t("./add/operator/observeOn"),t("./add/operator/onErrorResumeNext"),t("./add/operator/pairwise"),t("./add/operator/partition"),t("./add/operator/pluck"),t("./add/operator/publish"),t("./add/operator/publishBehavior"),t("./add/operator/publishReplay"),t("./add/operator/publishLast"),t("./add/operator/race"),t("./add/operator/reduce"),t("./add/operator/repeat"),t("./add/operator/repeatWhen"),t("./add/operator/retry"),t("./add/operator/retryWhen"),t("./add/operator/sample"),t("./add/operator/sampleTime"),t("./add/operator/scan"),t("./add/operator/sequenceEqual"),t("./add/operator/share"),t("./add/operator/shareReplay"),t("./add/operator/single"),t("./add/operator/skip"),t("./add/operator/skipLast"),t("./add/operator/skipUntil"),t("./add/operator/skipWhile"),t("./add/operator/startWith"),t("./add/operator/subscribeOn"),t("./add/operator/switch"),t("./add/operator/switchMap"),t("./add/operator/switchMapTo"),t("./add/operator/take"),t("./add/operator/takeLast"),t("./add/operator/takeUntil"),t("./add/operator/takeWhile"),t("./add/operator/throttle"),t("./add/operator/throttleTime"),t("./add/operator/timeInterval"),t("./add/operator/timeout"),t("./add/operator/timeoutWith"),t("./add/operator/timestamp"),t("./add/operator/toArray"),t("./add/operator/toPromise"),t("./add/operator/window"),t("./add/operator/windowCount"),t("./add/operator/windowTime"),t("./add/operator/windowToggle"),t("./add/operator/windowWhen"),t("./add/operator/withLatestFrom"),t("./add/operator/zip"),t("./add/operator/zipAll");var a=t("./Subscription");e.Subscription=a.Subscription;var u=t("./Subscriber");e.Subscriber=u.Subscriber;var c=t("./AsyncSubject");e.AsyncSubject=c.AsyncSubject;var l=t("./ReplaySubject");e.ReplaySubject=l.ReplaySubject;var f=t("./BehaviorSubject");e.BehaviorSubject=f.BehaviorSubject;var h=t("./observable/ConnectableObservable");e.ConnectableObservable=h.ConnectableObservable;var p=t("./Notification");e.Notification=p.Notification;var d=t("./util/EmptyError");e.EmptyError=d.EmptyError;var v=t("./util/ArgumentOutOfRangeError");e.ArgumentOutOfRangeError=v.ArgumentOutOfRangeError;var m=t("./util/ObjectUnsubscribedError");e.ObjectUnsubscribedError=m.ObjectUnsubscribedError;var b=t("./util/TimeoutError");e.TimeoutError=b.TimeoutError;var y=t("./util/UnsubscriptionError");e.UnsubscriptionError=y.UnsubscriptionError;var g=t("./operator/timeInterval");e.TimeInterval=g.TimeInterval;var _=t("./operators/timestamp");e.Timestamp=_.Timestamp;var w=t("./testing/TestScheduler");e.TestScheduler=w.TestScheduler;var x=t("./scheduler/VirtualTimeScheduler");e.VirtualTimeScheduler=x.VirtualTimeScheduler;var k=t("./observable/dom/AjaxObservable");e.AjaxResponse=k.AjaxResponse,e.AjaxError=k.AjaxError,e.AjaxTimeoutError=k.AjaxTimeoutError;var j=t("./util/pipe");e.pipe=j.pipe;var S=t("./scheduler/asap"),O=t("./scheduler/async"),E=t("./scheduler/queue"),C=t("./scheduler/animationFrame"),A=t("./symbol/rxSubscriber"),T=t("./symbol/iterator"),M=t("./symbol/observable"),I=t("./operators");e.operators=I;var N={asap:S.asap,queue:E.queue,animationFrame:C.animationFrame,async:O.async};e.Scheduler=N;var q={rxSubscriber:A.rxSubscriber,observable:M.observable,iterator:T.iterator};e.Symbol=q}),e.file("Subject.js",function(e,t,r,n,i){"use strict";var o=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},s=t("./Observable"),a=t("./Subscriber"),u=t("./Subscription"),c=t("./util/ObjectUnsubscribedError"),l=t("./SubjectSubscription"),f=t("./symbol/rxSubscriber"),h=function(e){function t(t){e.call(this,t),this.destination=t}return o(t,e),t}(a.Subscriber);e.SubjectSubscriber=h;var p=function(e){function t(){e.call(this),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}return o(t,e),t.prototype[f.rxSubscriber]=function(){return new h(this)},t.prototype.lift=function(e){var t=new d(this,this);return t.operator=e,t},t.prototype.next=function(e){if(this.closed)throw new c.ObjectUnsubscribedError;if(!this.isStopped)for(var t=this.observers,r=t.length,n=t.slice(),i=0;i<r;i++)n[i].next(e)},t.prototype.error=function(e){if(this.closed)throw new c.ObjectUnsubscribedError;this.hasError=!0,this.thrownError=e,this.isStopped=!0;for(var t=this.observers,r=t.length,n=t.slice(),i=0;i<r;i++)n[i].error(e);this.observers.length=0},t.prototype.complete=function(){if(this.closed)throw new c.ObjectUnsubscribedError;this.isStopped=!0;for(var e=this.observers,t=e.length,r=e.slice(),n=0;n<t;n++)r[n].complete();this.observers.length=0},t.prototype.unsubscribe=function(){this.isStopped=!0,this.closed=!0,this.observers=null},t.prototype._trySubscribe=function(t){if(this.closed)throw new c.ObjectUnsubscribedError;return e.prototype._trySubscribe.call(this,t)},t.prototype._subscribe=function(e){if(this.closed)throw new c.ObjectUnsubscribedError;return this.hasError?(e.error(this.thrownError),u.Subscription.EMPTY):this.isStopped?(e.complete(),u.Subscription.EMPTY):(this.observers.push(e),new l.SubjectSubscription(this,e))},t.prototype.asObservable=function(){var e=new s.Observable;return e.source=this,e},t.create=function(e,t){return new d(e,t)},t}(s.Observable);e.Subject=p;var d=function(e){function t(t,r){e.call(this),this.destination=t,this.source=r}return o(t,e),t.prototype.next=function(e){var t=this.destination;t&&t.next&&t.next(e)},t.prototype.error=function(e){var t=this.destination;t&&t.error&&this.destination.error(e)},t.prototype.complete=function(){var e=this.destination;e&&e.complete&&this.destination.complete()},t.prototype._subscribe=function(e){return this.source?this.source.subscribe(e):u.Subscription.EMPTY},t}(p);e.AnonymousSubject=d}),e.file("Observable.js",function(e,t,r,n,i){"use strict";var o=t("./util/root"),s=t("./util/toSubscriber"),a=t("./symbol/observable"),u=t("./util/pipe"),c=function(){function e(e){this._isScalar=!1,e&&(this._subscribe=e)}return e.prototype.lift=function(t){var r=new e;return r.source=this,r.operator=t,r},e.prototype.subscribe=function(e,t,r){var n=this.operator,i=s.toSubscriber(e,t,r);if(n?n.call(i,this.source):i.add(this.source?this._subscribe(i):this._trySubscribe(i)),i.syncErrorThrowable&&(i.syncErrorThrowable=!1,i.syncErrorThrown))throw i.syncErrorValue;return i},e.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(t){e.syncErrorThrown=!0,e.syncErrorValue=t,e.error(t)}},e.prototype.forEach=function(e,t){var r=this;if(t||(o.root.Rx&&o.root.Rx.config&&o.root.Rx.config.Promise?t=o.root.Rx.config.Promise:o.root.Promise&&(t=o.root.Promise)),!t)throw new Error("no Promise impl found");return new t(function(t,n){var i;i=r.subscribe(function(t){if(i)try{e(t)}catch(e){n(e),i.unsubscribe()}else e(t)},n,t)})},e.prototype._subscribe=function(e){return this.source.subscribe(e)},e.prototype[a.observable]=function(){return this},e.prototype.pipe=function(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];return 0===e.length?this:u.pipeFromArray(e)(this)},e.prototype.toPromise=function(e){var t=this;if(e||(o.root.Rx&&o.root.Rx.config&&o.root.Rx.config.Promise?e=o.root.Rx.config.Promise:o.root.Promise&&(e=o.root.Promise)),!e)throw new Error("no Promise impl found");return new e(function(e,r){var n;t.subscribe(function(e){return n=e},function(e){return r(e)},function(){return e(n)})})},e.create=function(t){return new e(t)},e}();e.Observable=c}),e.file("util/root.js",function(e,t,r,n,i){"use strict";var o="undefined"!=typeof window&&window,s="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,a="undefined"!=typeof global&&global,u=o||a||s;e.root=u,function(){if(!u)throw new Error("RxJS could not find any global context (window, self, global)")}()}),e.file("util/toSubscriber.js",function(e,t,r,n,i){"use strict";var o=t("../Subscriber"),s=t("../symbol/rxSubscriber"),a=t("../Observer");e.toSubscriber=function(e,t,r){if(e){if(e instanceof o.Subscriber)return e;if(e[s.rxSubscriber])return e[s.rxSubscriber]()}return e||t||r?new o.Subscriber(e,t,r):new o.Subscriber(a.empty)}}),e.file("Subscriber.js",function(e,t,r,n,i){"use strict";var o=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},s=t("./util/isFunction"),a=t("./Subscription"),u=t("./Observer"),c=t("./symbol/rxSubscriber"),l=function(e){function t(r,n,i){switch(e.call(this),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=u.empty;break;case 1:if(!r){this.destination=u.empty;break}if("object"==typeof r){r instanceof t?(this.destination=r,this.destination.add(this)):(this.syncErrorThrowable=!0,this.destination=new f(this,r));break}default:this.syncErrorThrowable=!0,this.destination=new f(this,r,n,i)}}return o(t,e),t.prototype[c.rxSubscriber]=function(){return this},t.create=function(e,r,n){var i=new t(e,r,n);return i.syncErrorThrowable=!1,i},t.prototype.next=function(e){this.isStopped||this._next(e)},t.prototype.error=function(e){this.isStopped||(this.isStopped=!0,this._error(e))},t.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},t.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this))},t.prototype._next=function(e){this.destination.next(e)},t.prototype._error=function(e){this.destination.error(e),this.unsubscribe()},t.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},t.prototype._unsubscribeAndRecycle=function(){var e=this._parent,t=this._parents;return this._parent=null,this._parents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parent=e,this._parents=t,this},t}(a.Subscription);e.Subscriber=l;var f=function(e){function t(t,r,n,i){var o;e.call(this),this._parentSubscriber=t;var a=this;s.isFunction(r)?o=r:r&&(o=r.next,n=r.error,i=r.complete,r!==u.empty&&(a=Object.create(r),s.isFunction(a.unsubscribe)&&this.add(a.unsubscribe.bind(a)),a.unsubscribe=this.unsubscribe.bind(this))),this._context=a,this._next=o,this._error=n,this._complete=i}return o(t,e),t.prototype.next=function(e){if(!this.isStopped&&this._next){var t=this._parentSubscriber;t.syncErrorThrowable?this.__tryOrSetError(t,this._next,e)&&this.unsubscribe():this.__tryOrUnsub(this._next,e)}},t.prototype.error=function(e){if(!this.isStopped){var t=this._parentSubscriber;if(this._error)t.syncErrorThrowable?(this.__tryOrSetError(t,this._error,e),this.unsubscribe()):(this.__tryOrUnsub(this._error,e),this.unsubscribe());else{if(!t.syncErrorThrowable)throw this.unsubscribe(),e;t.syncErrorValue=e,t.syncErrorThrown=!0,this.unsubscribe()}}},t.prototype.complete=function(){var e=this;if(!this.isStopped){var t=this._parentSubscriber;if(this._complete){var r=function(){return e._complete.call(e._context)};t.syncErrorThrowable?(this.__tryOrSetError(t,r),this.unsubscribe()):(this.__tryOrUnsub(r),this.unsubscribe())}else this.unsubscribe()}},t.prototype.__tryOrUnsub=function(e,t){try{e.call(this._context,t)}catch(e){throw this.unsubscribe(),e}},t.prototype.__tryOrSetError=function(e,t,r){try{t.call(this._context,r)}catch(t){return e.syncErrorValue=t,e.syncErrorThrown=!0,!0}return!1},t.prototype._unsubscribe=function(){var e=this._parentSubscriber;this._context=null,this._parentSubscriber=null,e.unsubscribe()},t}(l)}),e.file("util/isFunction.js",function(e,t,r,n,i){"use strict";e.isFunction=function(e){return"function"==typeof e}}),e.file("Subscription.js",function(e,t,r,n,i){"use strict";var o=t("./util/isArray"),s=t("./util/isObject"),a=t("./util/isFunction"),u=t("./util/tryCatch"),c=t("./util/errorObject"),l=t("./util/UnsubscriptionError"),f=function(){function e(e){this.closed=!1,this._parent=null,this._parents=null,this._subscriptions=null,e&&(this._unsubscribe=e)}var t;return e.prototype.unsubscribe=function(){var e,t=!1;if(!this.closed){var r=this._parent,n=this._parents,i=this._unsubscribe,f=this._subscriptions;this.closed=!0,this._parent=null,this._parents=null,this._subscriptions=null;for(var p=-1,d=n?n.length:0;r;)r.remove(this),r=++p<d&&n[p]||null;if(a.isFunction(i))u.tryCatch(i).call(this)===c.errorObject&&(t=!0,e=e||(c.errorObject.e instanceof l.UnsubscriptionError?h(c.errorObject.e.errors):[c.errorObject.e]));if(o.isArray(f))for(p=-1,d=f.length;++p<d;){var v=f[p];if(s.isObject(v))if(u.tryCatch(v.unsubscribe).call(v)===c.errorObject){t=!0,e=e||[];var m=c.errorObject.e;m instanceof l.UnsubscriptionError?e=e.concat(h(m.errors)):e.push(m)}}if(t)throw new l.UnsubscriptionError(e)}},e.prototype.add=function(t){if(!t||t===e.EMPTY)return e.EMPTY;if(t===this)return this;var r=t;switch(typeof t){case"function":r=new e(t);case"object":if(r.closed||"function"!=typeof r.unsubscribe)return r;if(this.closed)return r.unsubscribe(),r;if("function"!=typeof r._addParent){var n=r;(r=new e)._subscriptions=[n]}break;default:throw new Error("unrecognized teardown "+t+" added to Subscription.")}return(this._subscriptions||(this._subscriptions=[])).push(r),r._addParent(this),r},e.prototype.remove=function(e){var t=this._subscriptions;if(t){var r=t.indexOf(e);-1!==r&&t.splice(r,1)}},e.prototype._addParent=function(e){var t=this._parent,r=this._parents;t&&t!==e?r?-1===r.indexOf(e)&&r.push(e):this._parents=[e]:this._parent=e},e.EMPTY=((t=new e).closed=!0,t),e}();function h(e){return e.reduce(function(e,t){return e.concat(t instanceof l.UnsubscriptionError?t.errors:t)},[])}e.Subscription=f}),e.file("util/isArray.js",function(e,t,r,n,i){"use strict";e.isArray=Array.isArray||function(e){return e&&"number"==typeof e.length}}),e.file("util/isObject.js",function(e,t,r,n,i){"use strict";e.isObject=function(e){return null!=e&&"object"==typeof e}}),e.file("util/tryCatch.js",function(e,t,r,n,i){"use strict";var o,s=t("./errorObject");function a(){try{return o.apply(this,arguments)}catch(e){return s.errorObject.e=e,s.errorObject}}e.tryCatch=function(e){return o=e,a}}),e.file("util/errorObject.js",function(e,t,r,n,i){"use strict";e.errorObject={e:{}}}),e.file("util/UnsubscriptionError.js",function(e,t,r,n,i){"use strict";var o=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},s=function(e){function t(t){e.call(this),this.errors=t;var r=Error.call(this,t?t.length+" errors occurred during unsubscription:\n  "+t.map(function(e,t){return t+1+") "+e.toString()}).join("\n  "):"");this.name=r.name="UnsubscriptionError",this.stack=r.stack,this.message=r.message}return o(t,e),t}(Error);e.UnsubscriptionError=s}),e.file("Observer.js",function(e,t,r,n,i){"use strict";e.empty={closed:!0,next:function(e){},error:function(e){throw e},complete:function(){}}}),e.file("symbol/rxSubscriber.js",function(e,t,r,n,i){"use strict";var o=t("../util/root").root.Symbol;e.rxSubscriber="function"==typeof o&&"function"==typeof o.for?o.for("rxSubscriber"):"@@rxSubscriber",e.$$rxSubscriber=e.rxSubscriber}),e.file("symbol/observable.js",function(e,t,r,n,i){"use strict";var o=t("../util/root");function s(e){var t,r=e.Symbol;return"function"==typeof r?r.observable?t=r.observable:(t=r("observable"),r.observable=t):t="@@observable",t}e.getSymbolObservable=s,e.observable=s(o.root),e.$$observable=e.observable}),e.file("util/pipe.js",function(e,t,r,n,i){"use strict";var o=t("./noop");function s(e){return e?1===e.length?e[0]:function(t){return e.reduce(function(e,t){return t(e)},t)}:o.noop}e.pipe=function(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];return s(e)},e.pipeFromArray=s}),e.file("util/noop.js",function(e,t,r,n,i){"use strict";e.noop=function(){}}),e.file("util/ObjectUnsubscribedError.js",function(e,t,r,n,i){"use strict";var o=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},s=function(e){function t(){var t=e.call(this,"object unsubscribed");this.name=t.name="ObjectUnsubscribedError",this.stack=t.stack,this.message=t.message}return o(t,e),t}(Error);e.ObjectUnsubscribedError=s}),e.file("SubjectSubscription.js",function(e,t,r,n,i){"use strict";var o=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},s=function(e){function t(t,r){e.call(this),this.subject=t,this.subscriber=r,this.closed=!1}return o(t,e),t.prototype.unsubscribe=function(){if(!this.closed){this.closed=!0;var e=this.subject,t=e.observers;if(this.subject=null,t&&0!==t.length&&!e.isStopped&&!e.closed){var r=t.indexOf(this.subscriber);-1!==r&&t.splice(r,1)}}},t}(t("./Subscription").Subscription);e.SubjectSubscription=s}),e.file("add/observable/bindCallback.js",function(e,t,r,n,i){"use strict";var o=t("../../Observable"),s=t("../../observable/bindCallback");o.Observable.bindCallback=s.bindCallback}),e.file("observable/bindCallback.js",function(e,t,r,n,i){"use strict";var o=t("./BoundCallbackObservable");e.bindCallback=o.BoundCallbackObservable.create}),e.file("observable/BoundCallbackObservable.js",function(e,t,r,n,i){"use strict";var o=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},s=t("../Observable"),a=t("../util/tryCatch"),u=t("../util/errorObject"),c=t("../AsyncSubject"),l=function(e){function t(t,r,n,i,o){e.call(this),this.callbackFunc=t,this.selector=r,this.args=n,this.context=i,this.scheduler=o}return o(t,e),t.create=function(e,r,n){return void 0===r&&(r=void 0),function(){for(var i=[],o=0;o<arguments.length;o++)i[o-0]=arguments[o];return new t(e,r,i,this,n)}},t.prototype._subscribe=function(e){var r=this.callbackFunc,n=this.args,i=this.scheduler,o=this.subject;if(i)return i.schedule(t.dispatch,0,{source:this,subscriber:e,context:this.context});if(!o){o=this.subject=new c.AsyncSubject;var s=function e(){for(var t=[],r=0;r<arguments.length;r++)t[r-0]=arguments[r];var n=e.source,i=n.selector,o=n.subject;if(i){var s=a.tryCatch(i).apply(this,t);s===u.errorObject?o.error(u.errorObject.e):(o.next(s),o.complete())}else o.next(t.length<=1?t[0]:t),o.complete()};s.source=this,a.tryCatch(r).apply(this.context,n.concat(s))===u.errorObject&&o.error(u.errorObject.e)}return o.subscribe(e)},t.dispatch=function(e){var t=this,r=e.source,n=e.subscriber,i=e.context,o=r.callbackFunc,s=r.args,l=r.scheduler,p=r.subject;if(!p){p=r.subject=new c.AsyncSubject;var d=function e(){for(var r=[],n=0;n<arguments.length;n++)r[n-0]=arguments[n];var i=e.source,o=i.selector,s=i.subject;if(o){var c=a.tryCatch(o).apply(this,r);c===u.errorObject?t.add(l.schedule(h,0,{err:u.errorObject.e,subject:s})):t.add(l.schedule(f,0,{value:c,subject:s}))}else{var p=r.length<=1?r[0]:r;t.add(l.schedule(f,0,{value:p,subject:s}))}};d.source=r,a.tryCatch(o).apply(i,s.concat(d))===u.errorObject&&p.error(u.errorObject.e)}t.add(p.subscribe(n))},t}(s.Observable);function f(e){var t=e.value,r=e.subject;r.next(t),r.complete()}function h(e){var t=e.err;e.subject.error(t)}e.BoundCallbackObservable=l}),e.file("AsyncSubject.js",function(e,t,r,n,i){"use strict";var o=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},s=t("./Subject"),a=t("./Subscription"),u=function(e){function t(){e.apply(this,arguments),this.value=null,this.hasNext=!1,this.hasCompleted=!1}return o(t,e),t.prototype._subscribe=function(t){return this.hasError?(t.error(this.thrownError),a.Subscription.EMPTY):this.hasCompleted&&this.hasNext?(t.next(this.value),t.complete(),a.Subscription.EMPTY):e.prototype._subscribe.call(this,t)},t.prototype.next=function(e){this.hasCompleted||(this.value=e,this.hasNext=!0)},t.prototype.error=function(t){this.hasCompleted||e.prototype.error.call(this,t)},t.prototype.complete=function(){this.hasCompleted=!0,this.hasNext&&e.prototype.next.call(this,this.value),e.prototype.complete.call(this)},t}(s.Subject);e.AsyncSubject=u}),e.file("add/observable/bindNodeCallback.js",function(e,t,r,n,i){"use strict";var o=t("../../Observable"),s=t("../../observable/bindNodeCallback");o.Observable.bindNodeCallback=s.bindNodeCallback}),e.file("observable/bindNodeCallback.js",function(e,t,r,n,i){"use strict";var o=t("./BoundNodeCallbackObservable");e.bindNodeCallback=o.BoundNodeCallbackObservable.create}),e.file("observable/BoundNodeCallbackObservable.js",function(e,t,r,n,i){"use strict";var o=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},s=t("../Observable"),a=t("../util/tryCatch"),u=t("../util/errorObject"),c=t("../AsyncSubject"),l=function(e){function t(t,r,n,i,o){e.call(this),this.callbackFunc=t,this.selector=r,this.args=n,this.context=i,this.scheduler=o}return o(t,e),t.create=function(e,r,n){return void 0===r&&(r=void 0),function(){for(var i=[],o=0;o<arguments.length;o++)i[o-0]=arguments[o];return new t(e,r,i,this,n)}},t.prototype._subscribe=function(e){var t=this.callbackFunc,r=this.args,n=this.scheduler,i=this.subject;if(n)return n.schedule(f,0,{source:this,subscriber:e,context:this.context});if(!i){i=this.subject=new c.AsyncSubject;var o=function e(){for(var t=[],r=0;r<arguments.length;r++)t[r-0]=arguments[r];var n=e.source,i=n.selector,o=n.subject,s=t.shift();if(s)o.error(s);else if(i){var c=a.tryCatch(i).apply(this,t);c===u.errorObject?o.error(u.errorObject.e):(o.next(c),o.complete())}else o.next(t.length<=1?t[0]:t),o.complete()};o.source=this,a.tryCatch(t).apply(this.context,r.concat(o))===u.errorObject&&i.error(u.errorObject.e)}return i.subscribe(e)},t}(s.Observable);function f(e){var t=this,r=e.source,n=e.subscriber,i=e.context,o=r,s=o.callbackFunc,l=o.args,f=o.scheduler,d=r.subject;if(!d){d=r.subject=new c.AsyncSubject;var v=function e(){for(var r=[],n=0;n<arguments.length;n++)r[n-0]=arguments[n];var i=e.source,o=i.selector,s=i.subject,c=r.shift();if(c)t.add(f.schedule(p,0,{err:c,subject:s}));else if(o){var l=a.tryCatch(o).apply(this,r);l===u.errorObject?t.add(f.schedule(p,0,{err:u.errorObject.e,subject:s})):t.add(f.schedule(h,0,{value:l,subject:s}))}else{var d=r.length<=1?r[0]:r;t.add(f.schedule(h,0,{value:d,subject:s}))}};v.source=r,a.tryCatch(s).apply(i,l.concat(v))===u.errorObject&&t.add(f.schedule(p,0,{err:u.errorObject.e,subject:d}))}t.add(d.subscribe(n))}function h(e){var t=e.value,r=e.subject;r.next(t),r.complete()}function p(e){var t=e.err;e.subject.error(t)}e.BoundNodeCallbackObservable=l}),e.file("add/observable/combineLatest.js",function(e,t,r,n,i){"use strict";var o=t("../../Observable"),s=t("../../observable/combineLatest");o.Observable.combineLatest=s.combineLatest}),e.file("observable/combineLatest.js",function(e,t,r,n,i){"use strict";var o=t("../util/isScheduler"),s=t("../util/isArray"),a=t("./ArrayObservable"),u=t("../operators/combineLatest");e.combineLatest=function(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];var r=null,n=null;return o.isScheduler(e[e.length-1])&&(n=e.pop()),"function"==typeof e[e.length-1]&&(r=e.pop()),1===e.length&&s.isArray(e[0])&&(e=e[0]),new a.ArrayObservable(e,n).lift(new u.CombineLatestOperator(r))}}),e.file("util/isScheduler.js",function(e,t,r,n,i){"use strict";e.isScheduler=function(e){return e&&"function"==typeof e.schedule}}),e.file("observable/ArrayObservable.js",function(e,t,r,n,i){"use strict";var o=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},s=t("../Observable"),a=t("./ScalarObservable"),u=t("./EmptyObservable"),c=t("../util/isScheduler"),l=function(e){function t(t,r){e.call(this),this.array=t,this.scheduler=r,r||1!==t.length||(this._isScalar=!0,this.value=t[0])}return o(t,e),t.create=function(e,r){return new t(e,r)},t.of=function(){for(var e=[],r=0;r<arguments.length;r++)e[r-0]=arguments[r];var n=e[e.length-1];c.isScheduler(n)?e.pop():n=null;var i=e.length;return i>1?new t(e,n):1===i?new a.ScalarObservable(e[0],n):new u.EmptyObservable(n)},t.dispatch=function(e){var t=e.array,r=e.index,n=e.count,i=e.subscriber;r>=n?i.complete():(i.next(t[r]),i.closed||(e.index=r+1,this.schedule(e)))},t.prototype._subscribe=function(e){var r=this.array,n=r.length,i=this.scheduler;if(i)return i.schedule(t.dispatch,0,{array:r,index:0,count:n,subscriber:e});for(var o=0;o<n&&!e.closed;o++)e.next(r[o]);e.complete()},t}(s.Observable);e.ArrayObservable=l}),e.file("observable/ScalarObservable.js",function(e,t,r,n,i){"use strict";var o=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},s=function(e){function t(t,r){e.call(this),this.value=t,this.scheduler=r,this._isScalar=!0,r&&(this._isScalar=!1)}return o(t,e),t.create=function(e,r){return new t(e,r)},t.dispatch=function(e){var t=e.done,r=e.value,n=e.subscriber;t?n.complete():(n.next(r),n.closed||(e.done=!0,this.schedule(e)))},t.prototype._subscribe=function(e){var r=this.value,n=this.scheduler;if(n)return n.schedule(t.dispatch,0,{done:!1,value:r,subscriber:e});e.next(r),e.closed||e.complete()},t}(t("../Observable").Observable);e.ScalarObservable=s}),e.file("observable/EmptyObservable.js",function(e,t,r,n,i){"use strict";var o=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},s=function(e){function t(t){e.call(this),this.scheduler=t}return o(t,e),t.create=function(e){return new t(e)},t.dispatch=function(e){e.subscriber.complete()},t.prototype._subscribe=function(e){var r=this.scheduler;if(r)return r.schedule(t.dispatch,0,{subscriber:e});e.complete()},t}(t("../Observable").Observable);e.EmptyObservable=s}),e.file("operators/combineLatest.js",function(e,t,r,n,i){"use strict";var o=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},s=t("../observable/ArrayObservable"),a=t("../util/isArray"),u=t("../OuterSubscriber"),c=t("../util/subscribeToResult"),l={};e.combineLatest=function(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];var r=null;return"function"==typeof e[e.length-1]&&(r=e.pop()),1===e.length&&a.isArray(e[0])&&(e=e[0].slice()),function(t){return t.lift.call(new s.ArrayObservable([t].concat(e)),new f(r))}};var f=function(){function e(e){this.project=e}return e.prototype.call=function(e,t){return t.subscribe(new h(e,this.project))},e}();e.CombineLatestOperator=f;var h=function(e){function t(t,r){e.call(this,t),this.project=r,this.active=0,this.values=[],this.observables=[]}return o(t,e),t.prototype._next=function(e){this.values.push(l),this.observables.push(e)},t.prototype._complete=function(){var e=this.observables,t=e.length;if(0===t)this.destination.complete();else{this.active=t,this.toRespond=t;for(var r=0;r<t;r++){var n=e[r];this.add(c.subscribeToResult(this,n,n,r))}}},t.prototype.notifyComplete=function(e){0==(this.active-=1)&&this.destination.complete()},t.prototype.notifyNext=function(e,t,r,n,i){var o=this.values,s=o[r],a=this.toRespond?s===l?--this.toRespond:this.toRespond:0;o[r]=t,0===a&&(this.project?this._tryProject(o):this.destination.next(o.slice()))},t.prototype._tryProject=function(e){var t;try{t=this.project.apply(this,e)}catch(e){return void this.destination.error(e)}this.destination.next(t)},t}(u.OuterSubscriber);e.CombineLatestSubscriber=h}),e.file("OuterSubscriber.js",function(e,t,r,n,i){"use strict";var o=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},s=function(e){function t(){e.apply(this,arguments)}return o(t,e),t.prototype.notifyNext=function(e,t,r,n,i){this.destination.next(t)},t.prototype.notifyError=function(e,t){this.destination.error(e)},t.prototype.notifyComplete=function(e){this.destination.complete()},t}(t("./Subscriber").Subscriber);e.OuterSubscriber=s}),e.file("util/subscribeToResult.js",function(e,t,r,n,i){"use strict";var o=t("./root"),s=t("./isArrayLike"),a=t("./isPromise"),u=t("./isObject"),c=t("../Observable"),l=t("../symbol/iterator"),f=t("../InnerSubscriber"),h=t("../symbol/observable");e.subscribeToResult=function(e,t,r,n){var i=new f.InnerSubscriber(e,r,n);if(i.closed)return null;if(t instanceof c.Observable)return t._isScalar?(i.next(t.value),i.complete(),null):(i.syncErrorThrowable=!0,t.subscribe(i));if(s.isArrayLike(t)){for(var p=0,d=t.length;p<d&&!i.closed;p++)i.next(t[p]);i.closed||i.complete()}else{if(a.isPromise(t))return t.then(function(e){i.closed||(i.next(e),i.complete())},function(e){return i.error(e)}).then(null,function(e){o.root.setTimeout(function(){throw e})}),i;if(t&&"function"==typeof t[l.iterator])for(var v=t[l.iterator]();;){var m=v.next();if(m.done){i.complete();break}if(i.next(m.value),i.closed)break}else if(t&&"function"==typeof t[h.observable]){var b=t[h.observable]();if("function"==typeof b.subscribe)return b.subscribe(new f.InnerSubscriber(e,r,n));i.error(new TypeError("Provided object does not correctly implement Symbol.observable"))}else{var y="You provided "+(u.isObject(t)?"an invalid object":"'"+t+"'")+" where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.";i.error(new TypeError(y))}}return null}}),e.file("util/isArrayLike.js",function(e,t,r,n,i){"use strict";e.isArrayLike=function(e){return e&&"number"==typeof e.length}}),e.file("util/isPromise.js",function(e,t,r,n,i){"use strict";e.isPromise=function(e){return e&&"function"!=typeof e.subscribe&&"function"==typeof e.then}}),e.file("symbol/iterator.js",function(e,t,r,n,i){"use strict";var o=t("../util/root");function s(e){var t=e.Symbol;if("function"==typeof t)return t.iterator||(t.iterator=t("iterator polyfill")),t.iterator;var r=e.Set;if(r&&"function"==typeof(new r)["@@iterator"])return"@@iterator";var n=e.Map;if(n)for(var i=Object.getOwnPropertyNames(n.prototype),o=0;o<i.length;++o){var s=i[o];if("entries"!==s&&"size"!==s&&n.prototype[s]===n.prototype.entries)return s}return"@@iterator"}e.symbolIteratorPonyfill=s,e.iterator=s(o.root),e.$$iterator=e.iterator}),e.file("InnerSubscriber.js",function(e,t,r,n,i){"use strict";var o=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},s=function(e){function t(t,r,n){e.call(this),this.parent=t,this.outerValue=r,this.outerIndex=n,this.index=0}return o(t,e),t.prototype._next=function(e){this.parent.notifyNext(this.outerValue,e,this.outerIndex,this.index++,this)},t.prototype._error=function(e){this.parent.notifyError(e,this),this.unsubscribe()},t.prototype._complete=function(){this.parent.notifyComplete(this),this.unsubscribe()},t}(t("./Subscriber").Subscriber);e.InnerSubscriber=s}),e.file("add/observable/concat.js",function(e,t,r,n,i){"use strict";var o=t("../../Observable"),s=t("../../observable/concat");o.Observable.concat=s.concat}),e.file("observable/concat.js",function(e,t,r,n,i){"use strict";var o=t("../util/isScheduler"),s=t("./of"),a=t("./from"),u=t("../operators/concatAll");e.concat=function(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];return 1===e.length||2===e.length&&o.isScheduler(e[1])?a.from(e[0]):u.concatAll()(s.of.apply(void 0,e))}}),e.file("observable/of.js",function(e,t,r,n,i){"use strict";var o=t("./ArrayObservable");e.of=o.ArrayObservable.of}),e.file("observable/from.js",function(e,t,r,n,i){"use strict";var o=t("./FromObservable");e.from=o.FromObservable.create}),e.file("observable/FromObservable.js",function(e,t,r,n,i){"use strict";var o=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},s=t("../util/isArray"),a=t("../util/isArrayLike"),u=t("../util/isPromise"),c=t("./PromiseObservable"),l=t("./IteratorObservable"),f=t("./ArrayObservable"),h=t("./ArrayLikeObservable"),p=t("../symbol/iterator"),d=t("../Observable"),v=t("../operators/observeOn"),m=t("../symbol/observable"),b=function(e){function t(t,r){e.call(this,null),this.ish=t,this.scheduler=r}return o(t,e),t.create=function(e,r){if(null!=e){if("function"==typeof e[m.observable])return e instanceof d.Observable&&!r?e:new t(e,r);if(s.isArray(e))return new f.ArrayObservable(e,r);if(u.isPromise(e))return new c.PromiseObservable(e,r);if("function"==typeof e[p.iterator]||"string"==typeof e)return new l.IteratorObservable(e,r);if(a.isArrayLike(e))return new h.ArrayLikeObservable(e,r)}throw new TypeError((null!==e&&typeof e||e)+" is not observable")},t.prototype._subscribe=function(e){var t=this.ish,r=this.scheduler;return null==r?t[m.observable]().subscribe(e):t[m.observable]().subscribe(new v.ObserveOnSubscriber(e,r,0))},t}(d.Observable);e.FromObservable=b}),e.file("observable/PromiseObservable.js",function(e,t,r,n,i){"use strict";var o=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},s=t("../util/root"),a=function(e){function t(t,r){e.call(this),this.promise=t,this.scheduler=r}return o(t,e),t.create=function(e,r){return new t(e,r)},t.prototype._subscribe=function(e){var t=this,r=this.promise,n=this.scheduler;if(null==n)this._isScalar?e.closed||(e.next(this.value),e.complete()):r.then(function(r){t.value=r,t._isScalar=!0,e.closed||(e.next(r),e.complete())},function(t){e.closed||e.error(t)}).then(null,function(e){s.root.setTimeout(function(){throw e})});else if(this._isScalar){if(!e.closed)return n.schedule(u,0,{value:this.value,subscriber:e})}else r.then(function(r){t.value=r,t._isScalar=!0,e.closed||e.add(n.schedule(u,0,{value:r,subscriber:e}))},function(t){e.closed||e.add(n.schedule(c,0,{err:t,subscriber:e}))}).then(null,function(e){s.root.setTimeout(function(){throw e})})},t}(t("../Observable").Observable);function u(e){var t=e.value,r=e.subscriber;r.closed||(r.next(t),r.complete())}function c(e){var t=e.err,r=e.subscriber;r.closed||r.error(t)}e.PromiseObservable=a}),e.file("observable/IteratorObservable.js",function(e,t,r,n,i){"use strict";var o=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},s=t("../util/root"),a=t("../Observable"),u=t("../symbol/iterator"),c=function(e){function t(t,r){if(e.call(this),this.scheduler=r,null==t)throw new Error("iterator cannot be null.");this.iterator=function(e){var t=e[u.iterator];if(!t&&"string"==typeof e)return new l(e);if(!t&&void 0!==e.length)return new f(e);if(!t)throw new TypeError("object is not iterable");return e[u.iterator]()}(t)}return o(t,e),t.create=function(e,r){return new t(e,r)},t.dispatch=function(e){var t=e.index,r=e.hasError,n=e.iterator,i=e.subscriber;if(r)i.error(e.error);else{var o=n.next();o.done?i.complete():(i.next(o.value),e.index=t+1,i.closed?"function"==typeof n.return&&n.return():this.schedule(e))}},t.prototype._subscribe=function(e){var r=this.iterator,n=this.scheduler;if(n)return n.schedule(t.dispatch,0,{index:0,iterator:r,subscriber:e});for(;;){var i=r.next();if(i.done){e.complete();break}if(e.next(i.value),e.closed){"function"==typeof r.return&&r.return();break}}},t}(a.Observable);e.IteratorObservable=c;var l=function(){function e(e,t,r){void 0===t&&(t=0),void 0===r&&(r=e.length),this.str=e,this.idx=t,this.len=r}return e.prototype[u.iterator]=function(){return this},e.prototype.next=function(){return this.idx<this.len?{done:!1,value:this.str.charAt(this.idx++)}:{done:!0,value:void 0}},e}(),f=function(){function e(e,t,r){void 0===t&&(t=0),void 0===r&&(r=function(e){var t=+e.length;if(isNaN(t))return 0;if(0===t||(r=t,"number"!=typeof r||!s.root.isFinite(r)))return t;var r;if(n=t,i=+n,(t=(0===i?i:isNaN(i)?i:i<0?-1:1)*Math.floor(Math.abs(t)))<=0)return 0;var n,i;if(t>h)return h;return t}(e)),this.arr=e,this.idx=t,this.len=r}return e.prototype[u.iterator]=function(){return this},e.prototype.next=function(){return this.idx<this.len?{done:!1,value:this.arr[this.idx++]}:{done:!0,value:void 0}},e}();var h=Math.pow(2,53)-1}),e.file("observable/ArrayLikeObservable.js",function(e,t,r,n,i){"use strict";var o=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},s=t("../Observable"),a=t("./ScalarObservable"),u=t("./EmptyObservable"),c=function(e){function t(t,r){e.call(this),this.arrayLike=t,this.scheduler=r,r||1!==t.length||(this._isScalar=!0,this.value=t[0])}return o(t,e),t.create=function(e,r){var n=e.length;return 0===n?new u.EmptyObservable:1===n?new a.ScalarObservable(e[0],r):new t(e,r)},t.dispatch=function(e){var t=e.arrayLike,r=e.index,n=e.length,i=e.subscriber;i.closed||(r>=n?i.complete():(i.next(t[r]),e.index=r+1,this.schedule(e)))},t.prototype._subscribe=function(e){var r=this.arrayLike,n=this.scheduler,i=r.length;if(n)return n.schedule(t.dispatch,0,{arrayLike:r,index:0,length:i,subscriber:e});for(var o=0;o<i&&!e.closed;o++)e.next(r[o]);e.complete()},t}(s.Observable);e.ArrayLikeObservable=c}),e.file("operators/observeOn.js",function(e,t,r,n,i){"use strict";var o=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},s=t("../Subscriber"),a=t("../Notification");e.observeOn=function(e,t){return void 0===t&&(t=0),function(r){return r.lift(new u(e,t))}};var u=function(){function e(e,t){void 0===t&&(t=0),this.scheduler=e,this.delay=t}return e.prototype.call=function(e,t){return t.subscribe(new c(e,this.scheduler,this.delay))},e}();e.ObserveOnOperator=u;var c=function(e){function t(t,r,n){void 0===n&&(n=0),e.call(this,t),this.scheduler=r,this.delay=n}return o(t,e),t.dispatch=function(e){var t=e.notification,r=e.destination;t.observe(r),this.unsubscribe()},t.prototype.scheduleMessage=function(e){this.add(this.scheduler.schedule(t.dispatch,this.delay,new l(e,this.destination)))},t.prototype._next=function(e){this.scheduleMessage(a.Notification.createNext(e))},t.prototype._error=function(e){this.scheduleMessage(a.Notification.createError(e))},t.prototype._complete=function(){this.scheduleMessage(a.Notification.createComplete())},t}(s.Subscriber);e.ObserveOnSubscriber=c;var l=function(){return function(e,t){this.notification=e,this.destination=t}}();e.ObserveOnMessage=l}),e.file("Notification.js",function(e,t,r,n,i){"use strict";var o=t("./Observable"),s=function(){function e(e,t,r){this.kind=e,this.value=t,this.error=r,this.hasValue="N"===e}return e.prototype.observe=function(e){switch(this.kind){case"N":return e.next&&e.next(this.value);case"E":return e.error&&e.error(this.error);case"C":return e.complete&&e.complete()}},e.prototype.do=function(e,t,r){switch(this.kind){case"N":return e&&e(this.value);case"E":return t&&t(this.error);case"C":return r&&r()}},e.prototype.accept=function(e,t,r){return e&&"function"==typeof e.next?this.observe(e):this.do(e,t,r)},e.prototype.toObservable=function(){switch(this.kind){case"N":return o.Observable.of(this.value);case"E":return o.Observable.throw(this.error);case"C":return o.Observable.empty()}throw new Error("unexpected notification kind value")},e.createNext=function(t){return void 0!==t?new e("N",t):e.undefinedValueNotification},e.createError=function(t){return new e("E",void 0,t)},e.createComplete=function(){return e.completeNotification},e.completeNotification=new e("C"),e.undefinedValueNotification=new e("N",void 0),e}();e.Notification=s}),e.file("operators/concatAll.js",function(e,t,r,n,i){"use strict";var o=t("./mergeAll");e.concatAll=function(){return o.mergeAll(1)}}),e.file("operators/mergeAll.js",function(e,t,r,n,i){"use strict";var o=t("./mergeMap"),s=t("../util/identity");e.mergeAll=function(e){return void 0===e&&(e=Number.POSITIVE_INFINITY),o.mergeMap(s.identity,null,e)}}),e.file("operators/mergeMap.js",function(e,t,r,n,i){"use strict";var o=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},s=t("../util/subscribeToResult"),a=t("../OuterSubscriber");e.mergeMap=function(e,t,r){return void 0===r&&(r=Number.POSITIVE_INFINITY),function(n){return"number"==typeof t&&(r=t,t=null),n.lift(new u(e,t,r))}};var u=function(){function e(e,t,r){void 0===r&&(r=Number.POSITIVE_INFINITY),this.project=e,this.resultSelector=t,this.concurrent=r}return e.prototype.call=function(e,t){return t.subscribe(new c(e,this.project,this.resultSelector,this.concurrent))},e}();e.MergeMapOperator=u;var c=function(e){function t(t,r,n,i){void 0===i&&(i=Number.POSITIVE_INFINITY),e.call(this,t),this.project=r,this.resultSelector=n,this.concurrent=i,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}return o(t,e),t.prototype._next=function(e){this.active<this.concurrent?this._tryNext(e):this.buffer.push(e)},t.prototype._tryNext=function(e){var t,r=this.index++;try{t=this.project(e,r)}catch(e){return void this.destination.error(e)}this.active++,this._innerSub(t,e,r)},t.prototype._innerSub=function(e,t,r){this.add(s.subscribeToResult(this,e,t,r))},t.prototype._complete=function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete()},t.prototype.notifyNext=function(e,t,r,n,i){this.resultSelector?this._notifyResultSelector(e,t,r,n):this.destination.next(t)},t.prototype._notifyResultSelector=function(e,t,r,n){var i;try{i=this.resultSelector(e,t,r,n)}catch(e){return void this.destination.error(e)}this.destination.next(i)},t.prototype.notifyComplete=function(e){var t=this.buffer;this.remove(e),this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()},t}(a.OuterSubscriber);e.MergeMapSubscriber=c}),e.file("util/identity.js",function(e,t,r,n,i){"use strict";e.identity=function(e){return e}}),e.file("add/observable/defer.js",function(e,t,r,n,i){"use strict";var o=t("../../Observable"),s=t("../../observable/defer");o.Observable.defer=s.defer}),e.file("observable/defer.js",function(e,t,r,n,i){"use strict";var o=t("./DeferObservable");e.defer=o.DeferObservable.create}),e.file("observable/DeferObservable.js",function(e,t,r,n,i){"use strict";var o=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},s=t("../Observable"),a=t("../util/subscribeToResult"),u=t("../OuterSubscriber"),c=function(e){function t(t){e.call(this),this.observableFactory=t}return o(t,e),t.create=function(e){return new t(e)},t.prototype._subscribe=function(e){return new l(e,this.observableFactory)},t}(s.Observable);e.DeferObservable=c;var l=function(e){function t(t,r){e.call(this,t),this.factory=r,this.tryDefer()}return o(t,e),t.prototype.tryDefer=function(){try{this._callFactory()}catch(e){this._error(e)}},t.prototype._callFactory=function(){var e=this.factory();e&&this.add(a.subscribeToResult(this,e))},t}(u.OuterSubscriber)}),e.file("add/observable/empty.js",function(e,t,r,n,i){"use strict";var o=t("../../Observable"),s=t("../../observable/empty");o.Observable.empty=s.empty}),e.file("observable/empty.js",function(e,t,r,n,i){"use strict";var o=t("./EmptyObservable");e.empty=o.EmptyObservable.create}),e.file("add/observable/forkJoin.js",function(e,t,r,n,i){"use strict";var o=t("../../Observable"),s=t("../../observable/forkJoin");o.Observable.forkJoin=s.forkJoin}),e.file("observable/forkJoin.js",function(e,t,r,n,i){"use strict";var o=t("./ForkJoinObservable");e.forkJoin=o.ForkJoinObservable.create}),e.file("observable/ForkJoinObservable.js",function(e,t,r,n,i){"use strict";var o=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},s=t("../Observable"),a=t("./EmptyObservable"),u=t("../util/isArray"),c=t("../util/subscribeToResult"),l=t("../OuterSubscriber"),f=function(e){function t(t,r){e.call(this),this.sources=t,this.resultSelector=r}return o(t,e),t.create=function(){for(var e=[],r=0;r<arguments.length;r++)e[r-0]=arguments[r];if(null===e||0===arguments.length)return new a.EmptyObservable;var n=null;return"function"==typeof e[e.length-1]&&(n=e.pop()),1===e.length&&u.isArray(e[0])&&(e=e[0]),0===e.length?new a.EmptyObservable:new t(e,n)},t.prototype._subscribe=function(e){return new h(e,this.sources,this.resultSelector)},t}(s.Observable);e.ForkJoinObservable=f;var h=function(e){function t(t,r,n){e.call(this,t),this.sources=r,this.resultSelector=n,this.completed=0,this.haveValues=0;var i=r.length;this.total=i,this.values=new Array(i);for(var o=0;o<i;o++){var s=r[o],a=c.subscribeToResult(this,s,null,o);a&&(a.outerIndex=o,this.add(a))}}return o(t,e),t.prototype.notifyNext=function(e,t,r,n,i){this.values[r]=t,i._hasValue||(i._hasValue=!0,this.haveValues++)},t.prototype.notifyComplete=function(e){var t=this.destination,r=this.haveValues,n=this.resultSelector,i=this.values,o=i.length;if(e._hasValue){if(this.completed++,this.completed===o){if(r===o){var s=n?n.apply(this,i):i;t.next(s)}t.complete()}}else t.complete()},t}(l.OuterSubscriber)}),e.file("add/observable/from.js",function(e,t,r,n,i){"use strict";var o=t("../../Observable"),s=t("../../observable/from");o.Observable.from=s.from}),e.file("add/observable/fromEvent.js",function(e,t,r,n,i){"use strict";var o=t("../../Observable"),s=t("../../observable/fromEvent");o.Observable.fromEvent=s.fromEvent}),e.file("observable/fromEvent.js",function(e,t,r,n,i){"use strict";var o=t("./FromEventObservable");e.fromEvent=o.FromEventObservable.create}),e.file("observable/FromEventObservable.js",function(e,t,r,n,i){"use strict";var o=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},s=t("../Observable"),a=t("../util/tryCatch"),u=t("../util/isFunction"),c=t("../util/errorObject"),l=t("../Subscription"),f=Object.prototype.toString;var h=function(e){function t(t,r,n,i){e.call(this),this.sourceObj=t,this.eventName=r,this.selector=n,this.options=i}return o(t,e),t.create=function(e,r,n,i){return u.isFunction(n)&&(i=n,n=void 0),new t(e,r,i,n)},t.setupSubscription=function(e,r,n,i,o){var s,a,u,c,h,p;if((p=e)&&"[object NodeList]"===f.call(p)||(h=e)&&"[object HTMLCollection]"===f.call(h))for(var d=0,v=e.length;d<v;d++)t.setupSubscription(e[d],r,n,i,o);else if(c=e,c&&"function"==typeof c.addEventListener&&"function"==typeof c.removeEventListener){var m=e;e.addEventListener(r,n,o),s=function(){return m.removeEventListener(r,n)}}else if(u=e,u&&"function"==typeof u.on&&"function"==typeof u.off){var b=e;e.on(r,n),s=function(){return b.off(r,n)}}else{if(!(a=e)||"function"!=typeof a.addListener||"function"!=typeof a.removeListener)throw new TypeError("Invalid event target");var y=e;e.addListener(r,n),s=function(){return y.removeListener(r,n)}}i.add(new l.Subscription(s))},t.prototype._subscribe=function(e){var r=this.sourceObj,n=this.eventName,i=this.options,o=this.selector,s=o?function(){for(var t=[],r=0;r<arguments.length;r++)t[r-0]=arguments[r];var n=a.tryCatch(o).apply(void 0,t);n===c.errorObject?e.error(c.errorObject.e):e.next(n)}:function(t){return e.next(t)};t.setupSubscription(r,n,s,e,i)},t}(s.Observable);e.FromEventObservable=h}),e.file("add/observable/fromEventPattern.js",function(e,t,r,n,i){"use strict";var o=t("../../Observable"),s=t("../../observable/fromEventPattern");o.Observable.fromEventPattern=s.fromEventPattern}),e.file("observable/fromEventPattern.js",function(e,t,r,n,i){"use strict";var o=t("./FromEventPatternObservable");e.fromEventPattern=o.FromEventPatternObservable.create}),e.file("observable/FromEventPatternObservable.js",function(e,t,r,n,i){"use strict";var o=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},s=t("../util/isFunction"),a=t("../Observable"),u=t("../Subscription"),c=function(e){function t(t,r,n){e.call(this),this.addHandler=t,this.removeHandler=r,this.selector=n}return o(t,e),t.create=function(e,r,n){return new t(e,r,n)},t.prototype._subscribe=function(e){var t=this,r=this.removeHandler,n=this.selector?function(){for(var r=[],n=0;n<arguments.length;n++)r[n-0]=arguments[n];t._callSelector(e,r)}:function(t){e.next(t)},i=this._callAddHandler(n,e);s.isFunction(r)&&e.add(new u.Subscription(function(){r(n,i)}))},t.prototype._callSelector=function(e,t){try{var r=this.selector.apply(this,t);e.next(r)}catch(t){e.error(t)}},t.prototype._callAddHandler=function(e,t){try{return this.addHandler(e)||null}catch(e){t.error(e)}},t}(a.Observable);e.FromEventPatternObservable=c}),e.file("add/observable/fromPromise.js",function(e,t,r,n,i){"use strict";var o=t("../../Observable"),s=t("../../observable/fromPromise");o.Observable.fromPromise=s.fromPromise}),e.file("observable/fromPromise.js",function(e,t,r,n,i){"use strict";var o=t("./PromiseObservable");e.fromPromise=o.PromiseObservable.create}),e.file("add/observable/generate.js",function(e,t,r,n,i){"use strict";var o=t("../../Observable"),s=t("../../observable/generate");o.Observable.generate=s.generate}),e.file("observable/generate.js",function(e,t,r,n,i){"use strict";var o=t("./GenerateObservable");e.generate=o.GenerateObservable.create}),e.file("observable/GenerateObservable.js",function(e,t,r,n,i){"use strict";var o=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},s=t("../Observable"),a=t("../util/isScheduler"),u=function(e){return e},c=function(e){function t(t,r,n,i,o){e.call(this),this.initialState=t,this.condition=r,this.iterate=n,this.resultSelector=i,this.scheduler=o}return o(t,e),t.create=function(e,r,n,i,o){return 1==arguments.length?new t(e.initialState,e.condition,e.iterate,e.resultSelector||u,e.scheduler):void 0===i||a.isScheduler(i)?new t(e,r,n,u,i):new t(e,r,n,i,o)},t.prototype._subscribe=function(e){var r=this.initialState;if(this.scheduler)return this.scheduler.schedule(t.dispatch,0,{subscriber:e,iterate:this.iterate,condition:this.condition,resultSelector:this.resultSelector,state:r});for(var n=this.condition,i=this.resultSelector,o=this.iterate;;){if(n){var s=void 0;try{s=n(r)}catch(t){return void e.error(t)}if(!s){e.complete();break}}var a=void 0;try{a=i(r)}catch(t){return void e.error(t)}if(e.next(a),e.closed)break;try{r=o(r)}catch(t){return void e.error(t)}}},t.dispatch=function(e){var t=e.subscriber,r=e.condition;if(!t.closed){if(e.needIterate)try{e.state=e.iterate(e.state)}catch(e){return void t.error(e)}else e.needIterate=!0;if(r){var n=void 0;try{n=r(e.state)}catch(e){return void t.error(e)}if(!n)return void t.complete();if(t.closed)return}var i;try{i=e.resultSelector(e.state)}catch(e){return void t.error(e)}if(!t.closed&&(t.next(i),!t.closed))return this.schedule(e)}},t}(s.Observable);e.GenerateObservable=c}),e.file("add/observable/if.js",function(e,t,r,n,i){"use strict";var o=t("../../Observable"),s=t("../../observable/if");o.Observable.if=s._if}),e.file("observable/if.js",function(e,t,r,n,i){"use strict";var o=t("./IfObservable");e._if=o.IfObservable.create}),e.file("observable/IfObservable.js",function(e,t,r,n,i){"use strict";var o=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},s=t("../Observable"),a=t("../util/subscribeToResult"),u=t("../OuterSubscriber"),c=function(e){function t(t,r,n){e.call(this),this.condition=t,this.thenSource=r,this.elseSource=n}return o(t,e),t.create=function(e,r,n){return new t(e,r,n)},t.prototype._subscribe=function(e){var t=this.condition,r=this.thenSource,n=this.elseSource;return new l(e,t,r,n)},t}(s.Observable);e.IfObservable=c;var l=function(e){function t(t,r,n,i){e.call(this,t),this.condition=r,this.thenSource=n,this.elseSource=i,this.tryIf()}return o(t,e),t.prototype.tryIf=function(){var e=this.condition,t=this.thenSource,r=this.elseSource;try{var n=e()?t:r;n?this.add(a.subscribeToResult(this,n)):this._complete()}catch(e){this._error(e)}},t}(u.OuterSubscriber)}),e.file("add/observable/interval.js",function(e,t,r,n,i){"use strict";var o=t("../../Observable"),s=t("../../observable/interval");o.Observable.interval=s.interval}),e.file("observable/interval.js",function(e,t,r,n,i){"use strict";var o=t("./IntervalObservable");e.interval=o.IntervalObservable.create}),e.file("observable/IntervalObservable.js",function(e,t,r,n,i){"use strict";var o=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},s=t("../util/isNumeric"),a=t("../Observable"),u=t("../scheduler/async"),c=function(e){function t(t,r){void 0===t&&(t=0),void 0===r&&(r=u.async),e.call(this),this.period=t,this.scheduler=r,(!s.isNumeric(t)||t<0)&&(this.period=0),r&&"function"==typeof r.schedule||(this.scheduler=u.async)}return o(t,e),t.create=function(e,r){return void 0===e&&(e=0),void 0===r&&(r=u.async),new t(e,r)},t.dispatch=function(e){var t=e.index,r=e.subscriber,n=e.period;r.next(t),r.closed||(e.index+=1,this.schedule(e,n))},t.prototype._subscribe=function(e){var r=this.period,n=this.scheduler;e.add(n.schedule(t.dispatch,r,{index:0,subscriber:e,period:r}))},t}(a.Observable);e.IntervalObservable=c}),e.file("util/isNumeric.js",function(e,t,r,n,i){"use strict";var o=t("../util/isArray");e.isNumeric=function(e){return!o.isArray(e)&&e-parseFloat(e)+1>=0}}),e.file("scheduler/async.js",function(e,t,r,n,i){"use strict";var o=t("./AsyncAction"),s=t("./AsyncScheduler");e.async=new s.AsyncScheduler(o.AsyncAction)}),e.file("scheduler/AsyncAction.js",function(e,t,r,n,i){"use strict";var o=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},s=t("../util/root"),a=function(e){function t(t,r){e.call(this,t,r),this.scheduler=t,this.work=r,this.pending=!1}return o(t,e),t.prototype.schedule=function(e,t){if(void 0===t&&(t=0),this.closed)return this;this.state=e,this.pending=!0;var r=this.id,n=this.scheduler;return null!=r&&(this.id=this.recycleAsyncId(n,r,t)),this.delay=t,this.id=this.id||this.requestAsyncId(n,this.id,t),this},t.prototype.requestAsyncId=function(e,t,r){return void 0===r&&(r=0),s.root.setInterval(e.flush.bind(e,this),r)},t.prototype.recycleAsyncId=function(e,t,r){if(void 0===r&&(r=0),null!==r&&this.delay===r&&!1===this.pending)return t;s.root.clearInterval(t)},t.prototype.execute=function(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var r=this._execute(e,t);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},t.prototype._execute=function(e,t){var r=!1,n=void 0;try{this.work(e)}catch(e){r=!0,n=!!e&&e||new Error(e)}if(r)return this.unsubscribe(),n},t.prototype._unsubscribe=function(){var e=this.id,t=this.scheduler,r=t.actions,n=r.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==n&&r.splice(n,1),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null},t}(t("./Action").Action);e.AsyncAction=a}),e.file("scheduler/Action.js",function(e,t,r,n,i){"use strict";var o=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},s=function(e){function t(t,r){e.call(this)}return o(t,e),t.prototype.schedule=function(e,t){return void 0===t&&(t=0),this},t}(t("../Subscription").Subscription);e.Action=s}),e.file("scheduler/AsyncScheduler.js",function(e,t,r,n,i){"use strict";var o=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},s=function(e){function t(){e.apply(this,arguments),this.actions=[],this.active=!1,this.scheduled=void 0}return o(t,e),t.prototype.flush=function(e){var t=this.actions;if(this.active)t.push(e);else{var r;this.active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=t.shift());if(this.active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}},t}(t("../Scheduler").Scheduler);e.AsyncScheduler=s}),e.file("Scheduler.js",function(e,t,r,n,i){"use strict";var o=function(){function e(t,r){void 0===r&&(r=e.now),this.SchedulerAction=t,this.now=r}return e.prototype.schedule=function(e,t,r){return void 0===t&&(t=0),new this.SchedulerAction(this,e).schedule(r,t)},e.now=Date.now?Date.now:function(){return+new Date},e}();e.Scheduler=o}),e.file("add/observable/merge.js",function(e,t,r,n,i){"use strict";var o=t("../../Observable"),s=t("../../observable/merge");o.Observable.merge=s.merge}),e.file("observable/merge.js",function(e,t,r,n,i){"use strict";var o=t("../Observable"),s=t("./ArrayObservable"),a=t("../util/isScheduler"),u=t("../operators/mergeAll");e.merge=function(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];var r=Number.POSITIVE_INFINITY,n=null,i=e[e.length-1];return a.isScheduler(i)?(n=e.pop(),e.length>1&&"number"==typeof e[e.length-1]&&(r=e.pop())):"number"==typeof i&&(r=e.pop()),null===n&&1===e.length&&e[0]instanceof o.Observable?e[0]:u.mergeAll(r)(new s.ArrayObservable(e,n))}}),e.file("add/observable/race.js",function(e,t,r,n,i){"use strict";var o=t("../../Observable"),s=t("../../observable/race");o.Observable.race=s.race}),e.file("observable/race.js",function(e,t,r,n,i){"use strict";var o=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},s=t("../util/isArray"),a=t("../observable/ArrayObservable"),u=t("../OuterSubscriber"),c=t("../util/subscribeToResult");e.race=function(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];if(1===e.length){if(!s.isArray(e[0]))return e[0];e=e[0]}return new a.ArrayObservable(e).lift(new l)};var l=function(){function e(){}return e.prototype.call=function(e,t){return t.subscribe(new f(e))},e}();e.RaceOperator=l;var f=function(e){function t(t){e.call(this,t),this.hasFirst=!1,this.observables=[],this.subscriptions=[]}return o(t,e),t.prototype._next=function(e){this.observables.push(e)},t.prototype._complete=function(){var e=this.observables,t=e.length;if(0===t)this.destination.complete();else{for(var r=0;r<t&&!this.hasFirst;r++){var n=e[r],i=c.subscribeToResult(this,n,n,r);this.subscriptions&&this.subscriptions.push(i),this.add(i)}this.observables=null}},t.prototype.notifyNext=function(e,t,r,n,i){if(!this.hasFirst){this.hasFirst=!0;for(var o=0;o<this.subscriptions.length;o++)if(o!==r){var s=this.subscriptions[o];s.unsubscribe(),this.remove(s)}this.subscriptions=null}this.destination.next(t)},t}(u.OuterSubscriber);e.RaceSubscriber=f}),e.file("add/observable/never.js",function(e,t,r,n,i){"use strict";var o=t("../../Observable"),s=t("../../observable/never");o.Observable.never=s.never}),e.file("observable/never.js",function(e,t,r,n,i){"use strict";var o=t("./NeverObservable");e.never=o.NeverObservable.create}),e.file("observable/NeverObservable.js",function(e,t,r,n,i){"use strict";var o=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},s=t("../Observable"),a=t("../util/noop"),u=function(e){function t(){e.call(this)}return o(t,e),t.create=function(){return new t},t.prototype._subscribe=function(e){a.noop()},t}(s.Observable);e.NeverObservable=u}),e.file("add/observable/of.js",function(e,t,r,n,i){"use strict";var o=t("../../Observable"),s=t("../../observable/of");o.Observable.of=s.of}),e.file("add/observable/onErrorResumeNext.js",function(e,t,r,n,i){"use strict";var o=t("../../Observable"),s=t("../../observable/onErrorResumeNext");o.Observable.onErrorResumeNext=s.onErrorResumeNext}),e.file("observable/onErrorResumeNext.js",function(e,t,r,n,i){"use strict";var o=t("../operators/onErrorResumeNext");e.onErrorResumeNext=o.onErrorResumeNextStatic}),e.file("operators/onErrorResumeNext.js",function(e,t,r,n,i){"use strict";var o=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},s=t("../observable/FromObservable"),a=t("../util/isArray"),u=t("../OuterSubscriber"),c=t("../util/subscribeToResult");e.onErrorResumeNext=function(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];return 1===e.length&&a.isArray(e[0])&&(e=e[0]),function(t){return t.lift(new l(e))}},e.onErrorResumeNextStatic=function(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];var r;return 1===e.length&&a.isArray(e[0])&&(e=e[0]),r=e.shift(),new s.FromObservable(r,null).lift(new l(e))};var l=function(){function e(e){this.nextSources=e}return e.prototype.call=function(e,t){return t.subscribe(new f(e,this.nextSources))},e}(),f=function(e){function t(t,r){e.call(this,t),this.destination=t,this.nextSources=r}return o(t,e),t.prototype.notifyError=function(e,t){this.subscribeToNextSource()},t.prototype.notifyComplete=function(e){this.subscribeToNextSource()},t.prototype._error=function(e){this.subscribeToNextSource()},t.prototype._complete=function(){this.subscribeToNextSource()},t.prototype.subscribeToNextSource=function(){var e=this.nextSources.shift();e?this.add(c.subscribeToResult(this,e)):this.destination.complete()},t}(u.OuterSubscriber)}),e.file("add/observable/pairs.js",function(e,t,r,n,i){"use strict";var o=t("../../Observable"),s=t("../../observable/pairs");o.Observable.pairs=s.pairs}),e.file("observable/pairs.js",function(e,t,r,n,i){"use strict";var o=t("./PairsObservable");e.pairs=o.PairsObservable.create}),e.file("observable/PairsObservable.js",function(e,t,r,n,i){"use strict";var o=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)};function s(e){var t=e.obj,r=e.keys,n=e.length,i=e.index,o=e.subscriber;if(i!==n){var s=r[i];o.next([s,t[s]]),e.index=i+1,this.schedule(e)}else o.complete()}var a=function(e){function t(t,r){e.call(this),this.obj=t,this.scheduler=r,this.keys=Object.keys(t)}return o(t,e),t.create=function(e,r){return new t(e,r)},t.prototype._subscribe=function(e){var t=this.keys,r=this.scheduler,n=t.length;if(r)return r.schedule(s,0,{obj:this.obj,keys:t,length:n,index:0,subscriber:e});for(var i=0;i<n;i++){var o=t[i];e.next([o,this.obj[o]])}e.complete()},t}(t("../Observable").Observable);e.PairsObservable=a}),e.file("add/observable/range.js",function(e,t,r,n,i){"use strict";var o=t("../../Observable"),s=t("../../observable/range");o.Observable.range=s.range}),e.file("observable/range.js",function(e,t,r,n,i){"use strict";var o=t("./RangeObservable");e.range=o.RangeObservable.create}),e.file("observable/RangeObservable.js",function(e,t,r,n,i){"use strict";var o=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},s=function(e){function t(t,r,n){e.call(this),this.start=t,this._count=r,this.scheduler=n}return o(t,e),t.create=function(e,r,n){return void 0===e&&(e=0),void 0===r&&(r=0),new t(e,r,n)},t.dispatch=function(e){var t=e.start,r=e.index,n=e.count,i=e.subscriber;r>=n?i.complete():(i.next(t),i.closed||(e.index=r+1,e.start=t+1,this.schedule(e)))},t.prototype._subscribe=function(e){var r=0,n=this.start,i=this._count,o=this.scheduler;if(o)return o.schedule(t.dispatch,0,{index:r,count:i,start:n,subscriber:e});for(;;){if(r++>=i){e.complete();break}if(e.next(n++),e.closed)break}},t}(t("../Observable").Observable);e.RangeObservable=s}),e.file("add/observable/using.js",function(e,t,r,n,i){"use strict";var o=t("../../Observable"),s=t("../../observable/using");o.Observable.using=s.using}),e.file("observable/using.js",function(e,t,r,n,i){"use strict";var o=t("./UsingObservable");e.using=o.UsingObservable.create}),e.file("observable/UsingObservable.js",function(e,t,r,n,i){"use strict";var o=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},s=t("../Observable"),a=t("../util/subscribeToResult"),u=t("../OuterSubscriber"),c=function(e){function t(t,r){e.call(this),this.resourceFactory=t,this.observableFactory=r}return o(t,e),t.create=function(e,r){return new t(e,r)},t.prototype._subscribe=function(e){var t,r=this.resourceFactory,n=this.observableFactory;try{return t=r(),new l(e,t,n)}catch(t){e.error(t)}},t}(s.Observable);e.UsingObservable=c;var l=function(e){function t(t,r,n){e.call(this,t),this.resource=r,this.observableFactory=n,t.add(r),this.tryUse()}return o(t,e),t.prototype.tryUse=function(){try{var e=this.observableFactory.call(this,this.resource);e&&this.add(a.subscribeToResult(this,e))}catch(e){this._error(e)}},t}(u.OuterSubscriber)}),e.file("add/observable/throw.js",function(e,t,r,n,i){"use strict";var o=t("../../Observable"),s=t("../../observable/throw");o.Observable.throw=s._throw}),e.file("observable/throw.js",function(e,t,r,n,i){"use strict";var o=t("./ErrorObservable");e._throw=o.ErrorObservable.create}),e.file("observable/ErrorObservable.js",function(e,t,r,n,i){"use strict";var o=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},s=function(e){function t(t,r){e.call(this),this.error=t,this.scheduler=r}return o(t,e),t.create=function(e,r){return new t(e,r)},t.dispatch=function(e){var t=e.error;e.subscriber.error(t)},t.prototype._subscribe=function(e){var r=this.error,n=this.scheduler;if(e.syncErrorThrowable=!0,n)return n.schedule(t.dispatch,0,{error:r,subscriber:e});e.error(r)},t}(t("../Observable").Observable);e.ErrorObservable=s}),e.file("add/observable/timer.js",function(e,t,r,n,i){"use strict";var o=t("../../Observable"),s=t("../../observable/timer");o.Observable.timer=s.timer}),e.file("observable/timer.js",function(e,t,r,n,i){"use strict";var o=t("./TimerObservable");e.timer=o.TimerObservable.create}),e.file("observable/TimerObservable.js",function(e,t,r,n,i){"use strict";var o=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},s=t("../util/isNumeric"),a=t("../Observable"),u=t("../scheduler/async"),c=t("../util/isScheduler"),l=t("../util/isDate"),f=function(e){function t(t,r,n){void 0===t&&(t=0),e.call(this),this.period=-1,this.dueTime=0,s.isNumeric(r)?this.period=Number(r)<1?1:Number(r):c.isScheduler(r)&&(n=r),c.isScheduler(n)||(n=u.async),this.scheduler=n,this.dueTime=l.isDate(t)?+t-this.scheduler.now():t}return o(t,e),t.create=function(e,r,n){return void 0===e&&(e=0),new t(e,r,n)},t.dispatch=function(e){var t=e.index,r=e.period,n=e.subscriber;if(n.next(t),!n.closed){if(-1===r)return n.complete();e.index=t+1,this.schedule(e,r)}},t.prototype._subscribe=function(e){var r=this.period,n=this.dueTime;return this.scheduler.schedule(t.dispatch,n,{index:0,period:r,subscriber:e})},t}(a.Observable);e.TimerObservable=f}),e.file("util/isDate.js",function(e,t,r,n,i){"use strict";e.isDate=function(e){return e instanceof Date&&!isNaN(+e)}}),e.file("add/observable/zip.js",function(e,t,r,n,i){"use strict";var o=t("../../Observable"),s=t("../../observable/zip");o.Observable.zip=s.zip}),e.file("observable/zip.js",function(e,t,r,n,i){"use strict";var o=t("../operators/zip");e.zip=o.zipStatic}),e.file("operators/zip.js",function(e,t,r,n,i){"use strict";var o=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},s=t("../observable/ArrayObservable"),a=t("../util/isArray"),u=t("../Subscriber"),c=t("../OuterSubscriber"),l=t("../util/subscribeToResult"),f=t("../symbol/iterator");function h(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];var r=e[e.length-1];return"function"==typeof r&&e.pop(),new s.ArrayObservable(e).lift(new p(r))}e.zip=function(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];return function(t){return t.lift.call(h.apply(void 0,[t].concat(e)))}},e.zipStatic=h;var p=function(){function e(e){this.project=e}return e.prototype.call=function(e,t){return t.subscribe(new d(e,this.project))},e}();e.ZipOperator=p;var d=function(e){function t(t,r,n){void 0===n&&(n=Object.create(null)),e.call(this,t),this.iterators=[],this.active=0,this.project="function"==typeof r?r:null,this.values=n}return o(t,e),t.prototype._next=function(e){var t=this.iterators;a.isArray(e)?t.push(new m(e)):"function"==typeof e[f.iterator]?t.push(new v(e[f.iterator]())):t.push(new b(this.destination,this,e))},t.prototype._complete=function(){var e=this.iterators,t=e.length;if(0!==t){this.active=t;for(var r=0;r<t;r++){var n=e[r];n.stillUnsubscribed?this.add(n.subscribe(n,r)):this.active--}}else this.destination.complete()},t.prototype.notifyInactive=function(){this.active--,0===this.active&&this.destination.complete()},t.prototype.checkIterators=function(){for(var e=this.iterators,t=e.length,r=this.destination,n=0;n<t;n++){if("function"==typeof(s=e[n]).hasValue&&!s.hasValue())return}var i=!1,o=[];for(n=0;n<t;n++){var s,a=(s=e[n]).next();if(s.hasCompleted()&&(i=!0),a.done)return void r.complete();o.push(a.value)}this.project?this._tryProject(o):r.next(o),i&&r.complete()},t.prototype._tryProject=function(e){var t;try{t=this.project.apply(this,e)}catch(e){return void this.destination.error(e)}this.destination.next(t)},t}(u.Subscriber);e.ZipSubscriber=d;var v=function(){function e(e){this.iterator=e,this.nextResult=e.next()}return e.prototype.hasValue=function(){return!0},e.prototype.next=function(){var e=this.nextResult;return this.nextResult=this.iterator.next(),e},e.prototype.hasCompleted=function(){var e=this.nextResult;return e&&e.done},e}(),m=function(){function e(e){this.array=e,this.index=0,this.length=0,this.length=e.length}return e.prototype[f.iterator]=function(){return this},e.prototype.next=function(e){var t=this.index++,r=this.array;return t<this.length?{value:r[t],done:!1}:{value:null,done:!0}},e.prototype.hasValue=function(){return this.array.length>this.index},e.prototype.hasCompleted=function(){return this.array.length===this.index},e}(),b=function(e){function t(t,r,n){e.call(this,t),this.parent=r,this.observable=n,this.stillUnsubscribed=!0,this.buffer=[],this.isComplete=!1}return o(t,e),t.prototype[f.iterator]=function(){return this},t.prototype.next=function(){var e=this.buffer;return 0===e.length&&this.isComplete?{value:null,done:!0}:{value:e.shift(),done:!1}},t.prototype.hasValue=function(){return this.buffer.length>0},t.prototype.hasCompleted=function(){return 0===this.buffer.length&&this.isComplete},t.prototype.notifyComplete=function(){this.buffer.length>0?(this.isComplete=!0,this.parent.notifyInactive()):this.destination.complete()},t.prototype.notifyNext=function(e,t,r,n,i){this.buffer.push(t),this.parent.checkIterators()},t.prototype.subscribe=function(e,t){return l.subscribeToResult(this,this.observable,this,t)},t}(c.OuterSubscriber)}),e.file("add/observable/dom/ajax.js",function(e,t,r,n,i){"use strict";var o=t("../../../Observable"),s=t("../../../observable/dom/ajax");o.Observable.ajax=s.ajax}),e.file("observable/dom/ajax.js",function(e,t,r,n,i){"use strict";var o=t("./AjaxObservable");e.ajax=o.AjaxObservable.create}),e.file("observable/dom/AjaxObservable.js",function(e,t,r,n,i){"use strict";var o=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},s=t("../../util/root"),a=t("../../util/tryCatch"),u=t("../../util/errorObject"),c=t("../../Observable"),l=t("../../Subscriber"),f=t("../../operators/map");function h(e,t){return void 0===t&&(t=null),new g({method:"GET",url:e,headers:t})}function p(e,t,r){return new g({method:"POST",url:e,body:t,headers:r})}function d(e,t){return new g({method:"DELETE",url:e,headers:t})}function v(e,t,r){return new g({method:"PUT",url:e,body:t,headers:r})}function m(e,t,r){return new g({method:"PATCH",url:e,body:t,headers:r})}e.ajaxGet=h,e.ajaxPost=p,e.ajaxDelete=d,e.ajaxPut=v,e.ajaxPatch=m;var b=f.map(function(e,t){return e.response});function y(e,t){return b(new g({method:"GET",url:e,responseType:"json",headers:t}))}e.ajaxGetJSON=y;var g=function(e){function t(t){e.call(this);var r={async:!0,createXHR:function(){return this.crossDomain?function(){if(s.root.XMLHttpRequest)return new s.root.XMLHttpRequest;if(s.root.XDomainRequest)return new s.root.XDomainRequest;throw new Error("CORS is not supported by your browser")}.call(this):function(){if(s.root.XMLHttpRequest)return new s.root.XMLHttpRequest;var e=void 0;try{for(var t=["Msxml2.XMLHTTP","Microsoft.XMLHTTP","Msxml2.XMLHTTP.4.0"],r=0;r<3;r++)try{if(e=t[r],new s.root.ActiveXObject(e))break}catch(e){}return new s.root.ActiveXObject(e)}catch(e){throw new Error("XMLHttpRequest is not supported by your browser")}}()},crossDomain:!1,withCredentials:!1,headers:{},method:"GET",responseType:"json",timeout:0};if("string"==typeof t)r.url=t;else for(var n in t)t.hasOwnProperty(n)&&(r[n]=t[n]);this.request=r}var r;return o(t,e),t.prototype._subscribe=function(e){return new _(e,this.request)},t.create=((r=function(e){return new t(e)}).get=h,r.post=p,r.delete=d,r.put=v,r.patch=m,r.getJSON=y,r),t}(c.Observable);e.AjaxObservable=g;var _=function(e){function t(t,r){e.call(this,t),this.request=r,this.done=!1;var n=r.headers=r.headers||{};r.crossDomain||n["X-Requested-With"]||(n["X-Requested-With"]="XMLHttpRequest"),"Content-Type"in n||s.root.FormData&&r.body instanceof s.root.FormData||void 0===r.body||(n["Content-Type"]="application/x-www-form-urlencoded; charset=UTF-8"),r.body=this.serializeBody(r.body,r.headers["Content-Type"]),this.send()}return o(t,e),t.prototype.next=function(e){this.done=!0;var t=this.xhr,r=this.request,n=this.destination,i=new w(e,t,r);n.next(i)},t.prototype.send=function(){var e=this.request,t=this.request,r=t.user,n=t.method,i=t.url,o=t.async,s=t.password,c=t.headers,l=t.body,f=e.createXHR,h=a.tryCatch(f).call(e);if(h===u.errorObject)this.error(u.errorObject.e);else{this.xhr=h,this.setupEvents(h,e);if((r?a.tryCatch(h.open).call(h,n,i,o,r,s):a.tryCatch(h.open).call(h,n,i,o))===u.errorObject)return this.error(u.errorObject.e),null;if(o&&(h.timeout=e.timeout,h.responseType=e.responseType),"withCredentials"in h&&(h.withCredentials=!!e.withCredentials),this.setHeaders(h,c),(l?a.tryCatch(h.send).call(h,l):a.tryCatch(h.send).call(h))===u.errorObject)return this.error(u.errorObject.e),null}return h},t.prototype.serializeBody=function(e,t){if(!e||"string"==typeof e)return e;if(s.root.FormData&&e instanceof s.root.FormData)return e;if(t){var r=t.indexOf(";");-1!==r&&(t=t.substring(0,r))}switch(t){case"application/x-www-form-urlencoded":return Object.keys(e).map(function(t){return encodeURI(t)+"="+encodeURI(e[t])}).join("&");case"application/json":return JSON.stringify(e);default:return e}},t.prototype.setHeaders=function(e,t){for(var r in t)t.hasOwnProperty(r)&&e.setRequestHeader(r,t[r])},t.prototype.setupEvents=function(e,t){var r=t.progressSubscriber;function n(e){var t=n,r=t.subscriber,i=t.progressSubscriber,o=t.request;i&&i.error(e),r.error(new j(this,o))}if(e.ontimeout=n,n.request=t,n.subscriber=this,n.progressSubscriber=r,e.upload&&"withCredentials"in e){var i,o;if(r)i=function(e){i.progressSubscriber.next(e)},s.root.XDomainRequest?e.onprogress=i:e.upload.onprogress=i,i.progressSubscriber=r;o=function(e){var t=o,r=t.progressSubscriber,n=t.subscriber,i=t.request;r&&r.error(e),n.error(new x("ajax error",this,i))},e.onerror=o,o.request=t,o.subscriber=this,o.progressSubscriber=r}function a(e){var t=a,r=t.subscriber,n=t.progressSubscriber,i=t.request;if(4===this.readyState){var o=1223===this.status?204:this.status,s="text"===this.responseType?this.response||this.responseText:this.response;0===o&&(o=s?200:0),200<=o&&o<300?(n&&n.complete(),r.next(e),r.complete()):(n&&n.error(e),r.error(new x("ajax error "+o,this,i)))}}e.onreadystatechange=a,a.subscriber=this,a.progressSubscriber=r,a.request=t},t.prototype.unsubscribe=function(){var t=this.done,r=this.xhr;!t&&r&&4!==r.readyState&&"function"==typeof r.abort&&r.abort(),e.prototype.unsubscribe.call(this)},t}(l.Subscriber);e.AjaxSubscriber=_;var w=function(){return function(e,t,r){this.originalEvent=e,this.xhr=t,this.request=r,this.status=t.status,this.responseType=t.responseType||r.responseType,this.response=k(this.responseType,t)}}();e.AjaxResponse=w;var x=function(e){function t(t,r,n){e.call(this,t),this.message=t,this.xhr=r,this.request=n,this.status=r.status,this.responseType=r.responseType||n.responseType,this.response=k(this.responseType,r)}return o(t,e),t}(Error);function k(e,t){switch(e){case"json":return"response"in t?t.responseType?t.response:JSON.parse(t.response||t.responseText||"null"):JSON.parse(t.responseText||"null");case"xml":return t.responseXML;case"text":default:return"response"in t?t.response:t.responseText}}e.AjaxError=x;var j=function(e){function t(t,r){e.call(this,"ajax timeout",t,r)}return o(t,e),t}(x);e.AjaxTimeoutError=j}),e.file("operators/map.js",function(e,t,r,n,i){"use strict";var o=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},s=t("../Subscriber");e.map=function(e,t){return function(r){if("function"!=typeof e)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return r.lift(new a(e,t))}};var a=function(){function e(e,t){this.project=e,this.thisArg=t}return e.prototype.call=function(e,t){return t.subscribe(new u(e,this.project,this.thisArg))},e}();e.MapOperator=a;var u=function(e){function t(t,r,n){e.call(this,t),this.project=r,this.count=0,this.thisArg=n||this}return o(t,e),t.prototype._next=function(e){var t;try{t=this.project.call(this.thisArg,e,this.count++)}catch(e){return void this.destination.error(e)}this.destination.next(t)},t}(s.Subscriber)}),e.file("add/observable/dom/webSocket.js",function(e,t,r,n,i){"use strict";var o=t("../../../Observable"),s=t("../../../observable/dom/webSocket");o.Observable.webSocket=s.webSocket}),e.file("observable/dom/webSocket.js",function(e,t,r,n,i){"use strict";var o=t("./WebSocketSubject");e.webSocket=o.WebSocketSubject.create}),e.file("observable/dom/WebSocketSubject.js",function(e,t,r,n,i){"use strict";var o=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},s=t("../../Subject"),a=t("../../Subscriber"),u=t("../../Observable"),c=t("../../Subscription"),l=t("../../util/root"),f=t("../../ReplaySubject"),h=t("../../util/tryCatch"),p=t("../../util/errorObject"),d=t("../../util/assign"),v=function(e){function t(t,r){if(t instanceof u.Observable)e.call(this,r,t);else{if(e.call(this),this.WebSocketCtor=l.root.WebSocket,this._output=new s.Subject,"string"==typeof t?this.url=t:d.assign(this,t),!this.WebSocketCtor)throw new Error("no WebSocket constructor can be found");this.destination=new f.ReplaySubject}}return o(t,e),t.prototype.resultSelector=function(e){return JSON.parse(e.data)},t.create=function(e){return new t(e)},t.prototype.lift=function(e){var r=new t(this,this.destination);return r.operator=e,r},t.prototype._resetState=function(){this.socket=null,this.source||(this.destination=new f.ReplaySubject),this._output=new s.Subject},t.prototype.multiplex=function(e,t,r){var n=this;return new u.Observable(function(i){var o=h.tryCatch(e)();o===p.errorObject?i.error(p.errorObject.e):n.next(o);var s=n.subscribe(function(e){var t=h.tryCatch(r)(e);t===p.errorObject?i.error(p.errorObject.e):t&&i.next(e)},function(e){return i.error(e)},function(){return i.complete()});return function(){var e=h.tryCatch(t)();e===p.errorObject?i.error(p.errorObject.e):n.next(e),s.unsubscribe()}})},t.prototype._connectSocket=function(){var e=this,t=this.WebSocketCtor,r=this._output,n=null;try{n=this.protocol?new t(this.url,this.protocol):new t(this.url),this.socket=n,this.binaryType&&(this.socket.binaryType=this.binaryType)}catch(e){return void r.error(e)}var i=new c.Subscription(function(){e.socket=null,n&&1===n.readyState&&n.close()});n.onopen=function(t){var o=e.openObserver;o&&o.next(t);var s=e.destination;e.destination=a.Subscriber.create(function(e){return 1===n.readyState&&n.send(e)},function(t){var i=e.closingObserver;i&&i.next(void 0),t&&t.code?n.close(t.code,t.reason):r.error(new TypeError("WebSocketSubject.error must be called with an object with an error code, and an optional reason: { code: number, reason: string }")),e._resetState()},function(){var t=e.closingObserver;t&&t.next(void 0),n.close(),e._resetState()}),s&&s instanceof f.ReplaySubject&&i.add(s.subscribe(e.destination))},n.onerror=function(t){e._resetState(),r.error(t)},n.onclose=function(t){e._resetState();var n=e.closeObserver;n&&n.next(t),t.wasClean?r.complete():r.error(t)},n.onmessage=function(t){var n=h.tryCatch(e.resultSelector)(t);n===p.errorObject?r.error(p.errorObject.e):r.next(n)}},t.prototype._subscribe=function(e){var t=this,r=this.source;if(r)return r.subscribe(e);this.socket||this._connectSocket();var n=new c.Subscription;return n.add(this._output.subscribe(e)),n.add(function(){var e=t.socket;0===t._output.observers.length&&(e&&1===e.readyState&&e.close(),t._resetState())}),n},t.prototype.unsubscribe=function(){var t=this.source,r=this.socket;r&&1===r.readyState&&(r.close(),this._resetState()),e.prototype.unsubscribe.call(this),t||(this.destination=new f.ReplaySubject)},t}(s.AnonymousSubject);e.WebSocketSubject=v}),e.file("ReplaySubject.js",function(e,t,r,n,i){"use strict";var o=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},s=t("./Subject"),a=t("./scheduler/queue"),u=t("./Subscription"),c=t("./operators/observeOn"),l=t("./util/ObjectUnsubscribedError"),f=t("./SubjectSubscription"),h=function(e){function t(t,r,n){void 0===t&&(t=Number.POSITIVE_INFINITY),void 0===r&&(r=Number.POSITIVE_INFINITY),e.call(this),this.scheduler=n,this._events=[],this._bufferSize=t<1?1:t,this._windowTime=r<1?1:r}return o(t,e),t.prototype.next=function(t){var r=this._getNow();this._events.push(new p(r,t)),this._trimBufferThenGetEvents(),e.prototype.next.call(this,t)},t.prototype._subscribe=function(e){var t,r=this._trimBufferThenGetEvents(),n=this.scheduler;if(this.closed)throw new l.ObjectUnsubscribedError;this.hasError?t=u.Subscription.EMPTY:this.isStopped?t=u.Subscription.EMPTY:(this.observers.push(e),t=new f.SubjectSubscription(this,e)),n&&e.add(e=new c.ObserveOnSubscriber(e,n));for(var i=r.length,o=0;o<i&&!e.closed;o++)e.next(r[o].value);return this.hasError?e.error(this.thrownError):this.isStopped&&e.complete(),t},t.prototype._getNow=function(){return(this.scheduler||a.queue).now()},t.prototype._trimBufferThenGetEvents=function(){for(var e=this._getNow(),t=this._bufferSize,r=this._windowTime,n=this._events,i=n.length,o=0;o<i&&!(e-n[o].time<r);)o++;return i>t&&(o=Math.max(o,i-t)),o>0&&n.splice(0,o),n},t}(s.Subject);e.ReplaySubject=h;var p=function(){return function(e,t){this.time=e,this.value=t}}()}),e.file("scheduler/queue.js",function(e,t,r,n,i){"use strict";var o=t("./QueueAction"),s=t("./QueueScheduler");e.queue=new s.QueueScheduler(o.QueueAction)}),e.file("scheduler/QueueAction.js",function(e,t,r,n,i){"use strict";var o=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},s=function(e){function t(t,r){e.call(this,t,r),this.scheduler=t,this.work=r}return o(t,e),t.prototype.schedule=function(t,r){return void 0===r&&(r=0),r>0?e.prototype.schedule.call(this,t,r):(this.delay=r,this.state=t,this.scheduler.flush(this),this)},t.prototype.execute=function(t,r){return r>0||this.closed?e.prototype.execute.call(this,t,r):this._execute(t,r)},t.prototype.requestAsyncId=function(t,r,n){return void 0===n&&(n=0),null!==n&&n>0||null===n&&this.delay>0?e.prototype.requestAsyncId.call(this,t,r,n):t.flush(this)},t}(t("./AsyncAction").AsyncAction);e.QueueAction=s}),e.file("scheduler/QueueScheduler.js",function(e,t,r,n,i){"use strict";var o=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},s=function(e){function t(){e.apply(this,arguments)}return o(t,e),t}(t("./AsyncScheduler").AsyncScheduler);e.QueueScheduler=s}),e.file("util/assign.js",function(e,t,r,n,i){"use strict";var o=t("./root");function s(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];for(var n=t.length,i=0;i<n;i++){var o=t[i];for(var s in o)o.hasOwnProperty(s)&&(e[s]=o[s])}return e}function a(e){return e.Object.assign||s}e.assignImpl=s,e.getAssign=a,e.assign=a(o.root)}),e.file("add/operator/buffer.js",function(e,t,r,n,i){"use strict";var o=t("../../Observable"),s=t("../../operator/buffer");o.Observable.prototype.buffer=s.buffer}),e.file("operator/buffer.js",function(e,t,r,n,i){"use strict";var o=t("../operators/buffer");e.buffer=function(e){return o.buffer(e)(this)}}),e.file("operators/buffer.js",function(e,t,r,n,i){"use strict";var o=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},s=t("../OuterSubscriber"),a=t("../util/subscribeToResult");e.buffer=function(e){return function(t){return t.lift(new u(e))}};var u=function(){function e(e){this.closingNotifier=e}return e.prototype.call=function(e,t){return t.subscribe(new c(e,this.closingNotifier))},e}(),c=function(e){function t(t,r){e.call(this,t),this.buffer=[],this.add(a.subscribeToResult(this,r))}return o(t,e),t.prototype._next=function(e){this.buffer.push(e)},t.prototype.notifyNext=function(e,t,r,n,i){var o=this.buffer;this.buffer=[],this.destination.next(o)},t}(s.OuterSubscriber)}),e.file("add/operator/bufferCount.js",function(e,t,r,n,i){"use strict";var o=t("../../Observable"),s=t("../../operator/bufferCount");o.Observable.prototype.bufferCount=s.bufferCount}),e.file("operator/bufferCount.js",function(e,t,r,n,i){"use strict";var o=t("../operators/bufferCount");e.bufferCount=function(e,t){return void 0===t&&(t=null),o.bufferCount(e,t)(this)}}),e.file("operators/bufferCount.js",function(e,t,r,n,i){"use strict";var o=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},s=t("../Subscriber");e.bufferCount=function(e,t){return void 0===t&&(t=null),function(r){return r.lift(new a(e,t))}};var a=function(){function e(e,t){this.bufferSize=e,this.startBufferEvery=t,this.subscriberClass=t&&e!==t?c:u}return e.prototype.call=function(e,t){return t.subscribe(new this.subscriberClass(e,this.bufferSize,this.startBufferEvery))},e}(),u=function(e){function t(t,r){e.call(this,t),this.bufferSize=r,this.buffer=[]}return o(t,e),t.prototype._next=function(e){var t=this.buffer;t.push(e),t.length==this.bufferSize&&(this.destination.next(t),this.buffer=[])},t.prototype._complete=function(){var t=this.buffer;t.length>0&&this.destination.next(t),e.prototype._complete.call(this)},t}(s.Subscriber),c=function(e){function t(t,r,n){e.call(this,t),this.bufferSize=r,this.startBufferEvery=n,this.buffers=[],this.count=0}return o(t,e),t.prototype._next=function(e){var t=this.bufferSize,r=this.startBufferEvery,n=this.buffers,i=this.count;this.count++,i%r==0&&n.push([]);for(var o=n.length;o--;){var s=n[o];s.push(e),s.length===t&&(n.splice(o,1),this.destination.next(s))}},t.prototype._complete=function(){for(var t=this.buffers,r=this.destination;t.length>0;){var n=t.shift();n.length>0&&r.next(n)}e.prototype._complete.call(this)},t}(s.Subscriber)}),e.file("add/operator/bufferTime.js",function(e,t,r,n,i){"use strict";var o=t("../../Observable"),s=t("../../operator/bufferTime");o.Observable.prototype.bufferTime=s.bufferTime}),e.file("operator/bufferTime.js",function(e,t,r,n,i){"use strict";var o=t("../scheduler/async"),s=t("../util/isScheduler"),a=t("../operators/bufferTime");e.bufferTime=function(e){var t=arguments.length,r=o.async;s.isScheduler(arguments[arguments.length-1])&&(r=arguments[arguments.length-1],t--);var n=null;t>=2&&(n=arguments[1]);var i=Number.POSITIVE_INFINITY;return t>=3&&(i=arguments[2]),a.bufferTime(e,n,i,r)(this)}}),e.file("operators/bufferTime.js",function(e,t,r,n,i){"use strict";var o=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},s=t("../scheduler/async"),a=t("../Subscriber"),u=t("../util/isScheduler");e.bufferTime=function(e){var t=arguments.length,r=s.async;u.isScheduler(arguments[arguments.length-1])&&(r=arguments[arguments.length-1],t--);var n=null;t>=2&&(n=arguments[1]);var i=Number.POSITIVE_INFINITY;return t>=3&&(i=arguments[2]),function(t){return t.lift(new c(e,n,i,r))}};var c=function(){function e(e,t,r,n){this.bufferTimeSpan=e,this.bufferCreationInterval=t,this.maxBufferSize=r,this.scheduler=n}return e.prototype.call=function(e,t){return t.subscribe(new f(e,this.bufferTimeSpan,this.bufferCreationInterval,this.maxBufferSize,this.scheduler))},e}(),l=function(){return function(){this.buffer=[]}}(),f=function(e){function t(t,r,n,i,o){e.call(this,t),this.bufferTimeSpan=r,this.bufferCreationInterval=n,this.maxBufferSize=i,this.scheduler=o,this.contexts=[];var s=this.openContext();if(this.timespanOnly=null==n||n<0,this.timespanOnly){var a={subscriber:this,context:s,bufferTimeSpan:r};this.add(s.closeAction=o.schedule(h,r,a))}else{var u={subscriber:this,context:s},c={bufferTimeSpan:r,bufferCreationInterval:n,subscriber:this,scheduler:o};this.add(s.closeAction=o.schedule(d,r,u)),this.add(o.schedule(p,n,c))}}return o(t,e),t.prototype._next=function(e){for(var t,r=this.contexts,n=r.length,i=0;i<n;i++){var o=r[i],s=o.buffer;s.push(e),s.length==this.maxBufferSize&&(t=o)}t&&this.onBufferFull(t)},t.prototype._error=function(t){this.contexts.length=0,e.prototype._error.call(this,t)},t.prototype._complete=function(){for(var t=this.contexts,r=this.destination;t.length>0;){var n=t.shift();r.next(n.buffer)}e.prototype._complete.call(this)},t.prototype._unsubscribe=function(){this.contexts=null},t.prototype.onBufferFull=function(e){this.closeContext(e);var t=e.closeAction;if(t.unsubscribe(),this.remove(t),!this.closed&&this.timespanOnly){e=this.openContext();var r=this.bufferTimeSpan,n={subscriber:this,context:e,bufferTimeSpan:r};this.add(e.closeAction=this.scheduler.schedule(h,r,n))}},t.prototype.openContext=function(){var e=new l;return this.contexts.push(e),e},t.prototype.closeContext=function(e){this.destination.next(e.buffer);var t=this.contexts;(t?t.indexOf(e):-1)>=0&&t.splice(t.indexOf(e),1)},t}(a.Subscriber);function h(e){var t=e.subscriber,r=e.context;r&&t.closeContext(r),t.closed||(e.context=t.openContext(),e.context.closeAction=this.schedule(e,e.bufferTimeSpan))}function p(e){var t=e.bufferCreationInterval,r=e.bufferTimeSpan,n=e.subscriber,i=e.scheduler,o=n.openContext();n.closed||(n.add(o.closeAction=i.schedule(d,r,{subscriber:n,context:o})),this.schedule(e,t))}function d(e){var t=e.subscriber,r=e.context;t.closeContext(r)}}),e.file("add/operator/bufferToggle.js",function(e,t,r,n,i){"use strict";var o=t("../../Observable"),s=t("../../operator/bufferToggle");o.Observable.prototype.bufferToggle=s.bufferToggle}),e.file("operator/bufferToggle.js",function(e,t,r,n,i){"use strict";var o=t("../operators/bufferToggle");e.bufferToggle=function(e,t){return o.bufferToggle(e,t)(this)}}),e.file("operators/bufferToggle.js",function(e,t,r,n,i){"use strict";var o=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},s=t("../Subscription"),a=t("../util/subscribeToResult"),u=t("../OuterSubscriber");e.bufferToggle=function(e,t){return function(r){return r.lift(new c(e,t))}};var c=function(){function e(e,t){this.openings=e,this.closingSelector=t}return e.prototype.call=function(e,t){return t.subscribe(new l(e,this.openings,this.closingSelector))},e}(),l=function(e){function t(t,r,n){e.call(this,t),this.openings=r,this.closingSelector=n,this.contexts=[],this.add(a.subscribeToResult(this,r))}return o(t,e),t.prototype._next=function(e){for(var t=this.contexts,r=t.length,n=0;n<r;n++)t[n].buffer.push(e)},t.prototype._error=function(t){for(var r=this.contexts;r.length>0;){var n=r.shift();n.subscription.unsubscribe(),n.buffer=null,n.subscription=null}this.contexts=null,e.prototype._error.call(this,t)},t.prototype._complete=function(){for(var t=this.contexts;t.length>0;){var r=t.shift();this.destination.next(r.buffer),r.subscription.unsubscribe(),r.buffer=null,r.subscription=null}this.contexts=null,e.prototype._complete.call(this)},t.prototype.notifyNext=function(e,t,r,n,i){e?this.closeBuffer(e):this.openBuffer(t)},t.prototype.notifyComplete=function(e){this.closeBuffer(e.context)},t.prototype.openBuffer=function(e){try{var t=this.closingSelector.call(this,e);t&&this.trySubscribe(t)}catch(e){this._error(e)}},t.prototype.closeBuffer=function(e){var t=this.contexts;if(t&&e){var r=e.buffer,n=e.subscription;this.destination.next(r),t.splice(t.indexOf(e),1),this.remove(n),n.unsubscribe()}},t.prototype.trySubscribe=function(e){var t=this.contexts,r=new s.Subscription,n={buffer:[],subscription:r};t.push(n);var i=a.subscribeToResult(this,e,n);!i||i.closed?this.closeBuffer(n):(i.context=n,this.add(i),r.add(i))},t}(u.OuterSubscriber)}),e.file("add/operator/bufferWhen.js",function(e,t,r,n,i){"use strict";var o=t("../../Observable"),s=t("../../operator/bufferWhen");o.Observable.prototype.bufferWhen=s.bufferWhen}),e.file("operator/bufferWhen.js",function(e,t,r,n,i){"use strict";var o=t("../operators/bufferWhen");e.bufferWhen=function(e){return o.bufferWhen(e)(this)}}),e.file("operators/bufferWhen.js",function(e,t,r,n,i){"use strict";var o=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},s=t("../Subscription"),a=t("../util/tryCatch"),u=t("../util/errorObject"),c=t("../OuterSubscriber"),l=t("../util/subscribeToResult");e.bufferWhen=function(e){return function(t){return t.lift(new f(e))}};var f=function(){function e(e){this.closingSelector=e}return e.prototype.call=function(e,t){return t.subscribe(new h(e,this.closingSelector))},e}(),h=function(e){function t(t,r){e.call(this,t),this.closingSelector=r,this.subscribing=!1,this.openBuffer()}return o(t,e),t.prototype._next=function(e){this.buffer.push(e)},t.prototype._complete=function(){var t=this.buffer;t&&this.destination.next(t),e.prototype._complete.call(this)},t.prototype._unsubscribe=function(){this.buffer=null,this.subscribing=!1},t.prototype.notifyNext=function(e,t,r,n,i){this.openBuffer()},t.prototype.notifyComplete=function(){this.subscribing?this.complete():this.openBuffer()},t.prototype.openBuffer=function(){var e=this.closingSubscription;e&&(this.remove(e),e.unsubscribe());var t=this.buffer;this.buffer&&this.destination.next(t),this.buffer=[];var r=a.tryCatch(this.closingSelector)();r===u.errorObject?this.error(u.errorObject.e):(e=new s.Subscription,this.closingSubscription=e,this.add(e),this.subscribing=!0,e.add(l.subscribeToResult(this,r)),this.subscribing=!1)},t}(c.OuterSubscriber)}),e.file("add/operator/catch.js",function(e,t,r,n,i){"use strict";var o=t("../../Observable"),s=t("../../operator/catch");o.Observable.prototype.catch=s._catch,o.Observable.prototype._catch=s._catch}),e.file("operator/catch.js",function(e,t,r,n,i){"use strict";var o=t("../operators/catchError");e._catch=function(e){return o.catchError(e)(this)}}),e.file("operators/catchError.js",function(e,t,r,n,i){"use strict";var o=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},s=t("../OuterSubscriber"),a=t("../util/subscribeToResult");e.catchError=function(e){return function(t){var r=new u(e),n=t.lift(r);return r.caught=n}};var u=function(){function e(e){this.selector=e}return e.prototype.call=function(e,t){return t.subscribe(new c(e,this.selector,this.caught))},e}(),c=function(e){function t(t,r,n){e.call(this,t),this.selector=r,this.caught=n}return o(t,e),t.prototype.error=function(t){if(!this.isStopped){var r=void 0;try{r=this.selector(t,this.caught)}catch(t){return void e.prototype.error.call(this,t)}this._unsubscribeAndRecycle(),this.add(a.subscribeToResult(this,r))}},t}(s.OuterSubscriber)}),e.file("add/operator/combineAll.js",function(e,t,r,n,i){"use strict";var o=t("../../Observable"),s=t("../../operator/combineAll");o.Observable.prototype.combineAll=s.combineAll}),e.file("operator/combineAll.js",function(e,t,r,n,i){"use strict";var o=t("../operators/combineAll");e.combineAll=function(e){return o.combineAll(e)(this)}}),e.file("operators/combineAll.js",function(e,t,r,n,i){"use strict";var o=t("../operators/combineLatest");e.combineAll=function(e){return function(t){return t.lift(new o.CombineLatestOperator(e))}}}),e.file("add/operator/combineLatest.js",function(e,t,r,n,i){"use strict";var o=t("../../Observable"),s=t("../../operator/combineLatest");o.Observable.prototype.combineLatest=s.combineLatest}),e.file("operator/combineLatest.js",function(e,t,r,n,i){"use strict";var o=t("../operators/combineLatest");e.combineLatest=function(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];return o.combineLatest.apply(void 0,e)(this)}}),e.file("add/operator/concat.js",function(e,t,r,n,i){"use strict";var o=t("../../Observable"),s=t("../../operator/concat");o.Observable.prototype.concat=s.concat}),e.file("operator/concat.js",function(e,t,r,n,i){"use strict";var o=t("../operators/concat"),s=t("../observable/concat");e.concatStatic=s.concat,e.concat=function(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];return o.concat.apply(void 0,e)(this)}}),e.file("operators/concat.js",function(e,t,r,n,i){"use strict";var o=t("../observable/concat"),s=t("../observable/concat");e.concatStatic=s.concat,e.concat=function(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];return function(t){return t.lift.call(o.concat.apply(void 0,[t].concat(e)))}}}),e.file("add/operator/concatAll.js",function(e,t,r,n,i){"use strict";var o=t("../../Observable"),s=t("../../operator/concatAll");o.Observable.prototype.concatAll=s.concatAll}),e.file("operator/concatAll.js",function(e,t,r,n,i){"use strict";var o=t("../operators/concatAll");e.concatAll=function(){return o.concatAll()(this)}}),e.file("add/operator/concatMap.js",function(e,t,r,n,i){"use strict";var o=t("../../Observable"),s=t("../../operator/concatMap");o.Observable.prototype.concatMap=s.concatMap}),e.file("operator/concatMap.js",function(e,t,r,n,i){"use strict";var o=t("../operators/concatMap");e.concatMap=function(e,t){return o.concatMap(e,t)(this)}}),e.file("operators/concatMap.js",function(e,t,r,n,i){"use strict";var o=t("./mergeMap");e.concatMap=function(e,t){return o.mergeMap(e,t,1)}}),e.file("add/operator/concatMapTo.js",function(e,t,r,n,i){"use strict";var o=t("../../Observable"),s=t("../../operator/concatMapTo");o.Observable.prototype.concatMapTo=s.concatMapTo}),e.file("operator/concatMapTo.js",function(e,t,r,n,i){"use strict";var o=t("../operators/concatMapTo");e.concatMapTo=function(e,t){return o.concatMapTo(e,t)(this)}}),e.file("operators/concatMapTo.js",function(e,t,r,n,i){"use strict";var o=t("./concatMap");e.concatMapTo=function(e,t){return o.concatMap(function(){return e},t)}}),e.file("add/operator/count.js",function(e,t,r,n,i){"use strict";var o=t("../../Observable"),s=t("../../operator/count");o.Observable.prototype.count=s.count}),e.file("operator/count.js",function(e,t,r,n,i){"use strict";var o=t("../operators/count");e.count=function(e){return o.count(e)(this)}}),e.file("operators/count.js",function(e,t,r,n,i){"use strict";var o=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},s=t("../Subscriber");e.count=function(e){return function(t){return t.lift(new a(e,t))}};var a=function(){function e(e,t){this.predicate=e,this.source=t}return e.prototype.call=function(e,t){return t.subscribe(new u(e,this.predicate,this.source))},e}(),u=function(e){function t(t,r,n){e.call(this,t),this.predicate=r,this.source=n,this.count=0,this.index=0}return o(t,e),t.prototype._next=function(e){this.predicate?this._tryPredicate(e):this.count++},t.prototype._tryPredicate=function(e){var t;try{t=this.predicate(e,this.index++,this.source)}catch(e){return void this.destination.error(e)}t&&this.count++},t.prototype._complete=function(){this.destination.next(this.count),this.destination.complete()},t}(s.Subscriber)}),e.file("add/operator/dematerialize.js",function(e,t,r,n,i){"use strict";var o=t("../../Observable"),s=t("../../operator/dematerialize");o.Observable.prototype.dematerialize=s.dematerialize}),e.file("operator/dematerialize.js",function(e,t,r,n,i){"use strict";var o=t("../operators/dematerialize");e.dematerialize=function(){return o.dematerialize()(this)}}),e.file("operators/dematerialize.js",function(e,t,r,n,i){"use strict";var o=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},s=t("../Subscriber");e.dematerialize=function(){return function(e){return e.lift(new a)}};var a=function(){function e(){}return e.prototype.call=function(e,t){return t.subscribe(new u(e))},e}(),u=function(e){function t(t){e.call(this,t)}return o(t,e),t.prototype._next=function(e){e.observe(this.destination)},t}(s.Subscriber)}),e.file("add/operator/debounce.js",function(e,t,r,n,i){"use strict";var o=t("../../Observable"),s=t("../../operator/debounce");o.Observable.prototype.debounce=s.debounce}),e.file("operator/debounce.js",function(e,t,r,n,i){"use strict";var o=t("../operators/debounce");e.debounce=function(e){return o.debounce(e)(this)}}),e.file("operators/debounce.js",function(e,t,r,n,i){"use strict";var o=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},s=t("../OuterSubscriber"),a=t("../util/subscribeToResult");e.debounce=function(e){return function(t){return t.lift(new u(e))}};var u=function(){function e(e){this.durationSelector=e}return e.prototype.call=function(e,t){return t.subscribe(new c(e,this.durationSelector))},e}(),c=function(e){function t(t,r){e.call(this,t),this.durationSelector=r,this.hasValue=!1,this.durationSubscription=null}return o(t,e),t.prototype._next=function(e){try{var t=this.durationSelector.call(this,e);t&&this._tryNext(e,t)}catch(e){this.destination.error(e)}},t.prototype._complete=function(){this.emitValue(),this.destination.complete()},t.prototype._tryNext=function(e,t){var r=this.durationSubscription;this.value=e,this.hasValue=!0,r&&(r.unsubscribe(),this.remove(r)),(r=a.subscribeToResult(this,t)).closed||this.add(this.durationSubscription=r)},t.prototype.notifyNext=function(e,t,r,n,i){this.emitValue()},t.prototype.notifyComplete=function(){this.emitValue()},t.prototype.emitValue=function(){if(this.hasValue){var t=this.value,r=this.durationSubscription;r&&(this.durationSubscription=null,r.unsubscribe(),this.remove(r)),this.value=null,this.hasValue=!1,e.prototype._next.call(this,t)}},t}(s.OuterSubscriber)}),e.file("add/operator/debounceTime.js",function(e,t,r,n,i){"use strict";var o=t("../../Observable"),s=t("../../operator/debounceTime");o.Observable.prototype.debounceTime=s.debounceTime}),e.file("operator/debounceTime.js",function(e,t,r,n,i){"use strict";var o=t("../scheduler/async"),s=t("../operators/debounceTime");e.debounceTime=function(e,t){return void 0===t&&(t=o.async),s.debounceTime(e,t)(this)}}),e.file("operators/debounceTime.js",function(e,t,r,n,i){"use strict";var o=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},s=t("../Subscriber"),a=t("../scheduler/async");e.debounceTime=function(e,t){return void 0===t&&(t=a.async),function(r){return r.lift(new u(e,t))}};var u=function(){function e(e,t){this.dueTime=e,this.scheduler=t}return e.prototype.call=function(e,t){return t.subscribe(new c(e,this.dueTime,this.scheduler))},e}(),c=function(e){function t(t,r,n){e.call(this,t),this.dueTime=r,this.scheduler=n,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}return o(t,e),t.prototype._next=function(e){this.clearDebounce(),this.lastValue=e,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(l,this.dueTime,this))},t.prototype._complete=function(){this.debouncedNext(),this.destination.complete()},t.prototype.debouncedNext=function(){this.clearDebounce(),this.hasValue&&(this.destination.next(this.lastValue),this.lastValue=null,this.hasValue=!1)},t.prototype.clearDebounce=function(){var e=this.debouncedSubscription;null!==e&&(this.remove(e),e.unsubscribe(),this.debouncedSubscription=null)},t}(s.Subscriber);function l(e){e.debouncedNext()}}),e.file("add/operator/defaultIfEmpty.js",function(e,t,r,n,i){"use strict";var o=t("../../Observable"),s=t("../../operator/defaultIfEmpty");o.Observable.prototype.defaultIfEmpty=s.defaultIfEmpty}),e.file("operator/defaultIfEmpty.js",function(e,t,r,n,i){"use strict";var o=t("../operators/defaultIfEmpty");e.defaultIfEmpty=function(e){return void 0===e&&(e=null),o.defaultIfEmpty(e)(this)}}),e.file("operators/defaultIfEmpty.js",function(e,t,r,n,i){"use strict";var o=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},s=t("../Subscriber");e.defaultIfEmpty=function(e){return void 0===e&&(e=null),function(t){return t.lift(new a(e))}};var a=function(){function e(e){this.defaultValue=e}return e.prototype.call=function(e,t){return t.subscribe(new u(e,this.defaultValue))},e}(),u=function(e){function t(t,r){e.call(this,t),this.defaultValue=r,this.isEmpty=!0}return o(t,e),t.prototype._next=function(e){this.isEmpty=!1,this.destination.next(e)},t.prototype._complete=function(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()},t}(s.Subscriber)}),e.file("add/operator/delay.js",function(e,t,r,n,i){"use strict";var o=t("../../Observable"),s=t("../../operator/delay");o.Observable.prototype.delay=s.delay}),e.file("operator/delay.js",function(e,t,r,n,i){"use strict";var o=t("../scheduler/async"),s=t("../operators/delay");e.delay=function(e,t){return void 0===t&&(t=o.async),s.delay(e,t)(this)}}),e.file("operators/delay.js",function(e,t,r,n,i){"use strict";var o=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},s=t("../scheduler/async"),a=t("../util/isDate"),u=t("../Subscriber"),c=t("../Notification");e.delay=function(e,t){void 0===t&&(t=s.async);var r=a.isDate(e)?+e-t.now():Math.abs(e);return function(e){return e.lift(new l(r,t))}};var l=function(){function e(e,t){this.delay=e,this.scheduler=t}return e.prototype.call=function(e,t){return t.subscribe(new f(e,this.delay,this.scheduler))},e}(),f=function(e){function t(t,r,n){e.call(this,t),this.delay=r,this.scheduler=n,this.queue=[],this.active=!1,this.errored=!1}return o(t,e),t.dispatch=function(e){for(var t=e.source,r=t.queue,n=e.scheduler,i=e.destination;r.length>0&&r[0].time-n.now()<=0;)r.shift().notification.observe(i);if(r.length>0){var o=Math.max(0,r[0].time-n.now());this.schedule(e,o)}else t.active=!1},t.prototype._schedule=function(e){this.active=!0,this.add(e.schedule(t.dispatch,this.delay,{source:this,destination:this.destination,scheduler:e}))},t.prototype.scheduleNotification=function(e){if(!0!==this.errored){var t=this.scheduler,r=new h(t.now()+this.delay,e);this.queue.push(r),!1===this.active&&this._schedule(t)}},t.prototype._next=function(e){this.scheduleNotification(c.Notification.createNext(e))},t.prototype._error=function(e){this.errored=!0,this.queue=[],this.destination.error(e)},t.prototype._complete=function(){this.scheduleNotification(c.Notification.createComplete())},t}(u.Subscriber),h=function(){return function(e,t){this.time=e,this.notification=t}}()}),e.file("add/operator/delayWhen.js",function(e,t,r,n,i){"use strict";var o=t("../../Observable"),s=t("../../operator/delayWhen");o.Observable.prototype.delayWhen=s.delayWhen}),e.file("operator/delayWhen.js",function(e,t,r,n,i){"use strict";var o=t("../operators/delayWhen");e.delayWhen=function(e,t){return o.delayWhen(e,t)(this)}}),e.file("operators/delayWhen.js",function(e,t,r,n,i){"use strict";var o=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},s=t("../Subscriber"),a=t("../Observable"),u=t("../OuterSubscriber"),c=t("../util/subscribeToResult");e.delayWhen=function(e,t){return t?function(r){return new h(r,t).lift(new l(e))}:function(t){return t.lift(new l(e))}};var l=function(){function e(e){this.delayDurationSelector=e}return e.prototype.call=function(e,t){return t.subscribe(new f(e,this.delayDurationSelector))},e}(),f=function(e){function t(t,r){e.call(this,t),this.delayDurationSelector=r,this.completed=!1,this.delayNotifierSubscriptions=[],this.values=[]}return o(t,e),t.prototype.notifyNext=function(e,t,r,n,i){this.destination.next(e),this.removeSubscription(i),this.tryComplete()},t.prototype.notifyError=function(e,t){this._error(e)},t.prototype.notifyComplete=function(e){var t=this.removeSubscription(e);t&&this.destination.next(t),this.tryComplete()},t.prototype._next=function(e){try{var t=this.delayDurationSelector(e);t&&this.tryDelay(t,e)}catch(e){this.destination.error(e)}},t.prototype._complete=function(){this.completed=!0,this.tryComplete()},t.prototype.removeSubscription=function(e){e.unsubscribe();var t=this.delayNotifierSubscriptions.indexOf(e),r=null;return-1!==t&&(r=this.values[t],this.delayNotifierSubscriptions.splice(t,1),this.values.splice(t,1)),r},t.prototype.tryDelay=function(e,t){var r=c.subscribeToResult(this,e,t);r&&!r.closed&&(this.add(r),this.delayNotifierSubscriptions.push(r)),this.values.push(t)},t.prototype.tryComplete=function(){this.completed&&0===this.delayNotifierSubscriptions.length&&this.destination.complete()},t}(u.OuterSubscriber),h=function(e){function t(t,r){e.call(this),this.source=t,this.subscriptionDelay=r}return o(t,e),t.prototype._subscribe=function(e){this.subscriptionDelay.subscribe(new p(e,this.source))},t}(a.Observable),p=function(e){function t(t,r){e.call(this),this.parent=t,this.source=r,this.sourceSubscribed=!1}return o(t,e),t.prototype._next=function(e){this.subscribeToSource()},t.prototype._error=function(e){this.unsubscribe(),this.parent.error(e)},t.prototype._complete=function(){this.subscribeToSource()},t.prototype.subscribeToSource=function(){this.sourceSubscribed||(this.sourceSubscribed=!0,this.unsubscribe(),this.source.subscribe(this.parent))},t}(s.Subscriber)}),e.file("add/operator/distinct.js",function(e,t,r,n,i){"use strict";var o=t("../../Observable"),s=t("../../operator/distinct");o.Observable.prototype.distinct=s.distinct}),e.file("operator/distinct.js",function(e,t,r,n,i){"use strict";var o=t("../operators/distinct");e.distinct=function(e,t){return o.distinct(e,t)(this)}}),e.file("operators/distinct.js",function(e,t,r,n,i){"use strict";var o=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},s=t("../OuterSubscriber"),a=t("../util/subscribeToResult"),u=t("../util/Set");e.distinct=function(e,t){return function(r){return r.lift(new c(e,t))}};var c=function(){function e(e,t){this.keySelector=e,this.flushes=t}return e.prototype.call=function(e,t){return t.subscribe(new l(e,this.keySelector,this.flushes))},e}(),l=function(e){function t(t,r,n){e.call(this,t),this.keySelector=r,this.values=new u.Set,n&&this.add(a.subscribeToResult(this,n))}return o(t,e),t.prototype.notifyNext=function(e,t,r,n,i){this.values.clear()},t.prototype.notifyError=function(e,t){this._error(e)},t.prototype._next=function(e){this.keySelector?this._useKeySelector(e):this._finalizeNext(e,e)},t.prototype._useKeySelector=function(e){var t,r=this.destination;try{t=this.keySelector(e)}catch(e){return void r.error(e)}this._finalizeNext(t,e)},t.prototype._finalizeNext=function(e,t){var r=this.values;r.has(e)||(r.add(e),this.destination.next(t))},t}(s.OuterSubscriber);e.DistinctSubscriber=l}),e.file("util/Set.js",function(e,t,r,n,i){"use strict";var o=t("./root");function s(){return function(){function e(){this._values=[]}return e.prototype.add=function(e){this.has(e)||this._values.push(e)},e.prototype.has=function(e){return-1!==this._values.indexOf(e)},Object.defineProperty(e.prototype,"size",{get:function(){return this._values.length},enumerable:!0,configurable:!0}),e.prototype.clear=function(){this._values.length=0},e}()}e.minimalSetImpl=s,e.Set=o.root.Set||s()}),e.file("add/operator/distinctUntilChanged.js",function(e,t,r,n,i){"use strict";var o=t("../../Observable"),s=t("../../operator/distinctUntilChanged");o.Observable.prototype.distinctUntilChanged=s.distinctUntilChanged}),e.file("operator/distinctUntilChanged.js",function(e,t,r,n,i){"use strict";var o=t("../operators/distinctUntilChanged");e.distinctUntilChanged=function(e,t){return o.distinctUntilChanged(e,t)(this)}}),e.file("operators/distinctUntilChanged.js",function(e,t,r,n,i){"use strict";var o=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},s=t("../Subscriber"),a=t("../util/tryCatch"),u=t("../util/errorObject");e.distinctUntilChanged=function(e,t){return function(r){return r.lift(new c(e,t))}};var c=function(){function e(e,t){this.compare=e,this.keySelector=t}return e.prototype.call=function(e,t){return t.subscribe(new l(e,this.compare,this.keySelector))},e}(),l=function(e){function t(t,r,n){e.call(this,t),this.keySelector=n,this.hasKey=!1,"function"==typeof r&&(this.compare=r)}return o(t,e),t.prototype.compare=function(e,t){return e===t},t.prototype._next=function(e){var t=e;if(this.keySelector&&(t=a.tryCatch(this.keySelector)(e))===u.errorObject)return this.destination.error(u.errorObject.e);var r=!1;if(this.hasKey){if((r=a.tryCatch(this.compare)(this.key,t))===u.errorObject)return this.destination.error(u.errorObject.e)}else this.hasKey=!0;!1===Boolean(r)&&(this.key=t,this.destination.next(e))},t}(s.Subscriber)}),e.file("add/operator/distinctUntilKeyChanged.js",function(e,t,r,n,i){"use strict";var o=t("../../Observable"),s=t("../../operator/distinctUntilKeyChanged");o.Observable.prototype.distinctUntilKeyChanged=s.distinctUntilKeyChanged}),e.file("operator/distinctUntilKeyChanged.js",function(e,t,r,n,i){"use strict";var o=t("../operators/distinctUntilKeyChanged");e.distinctUntilKeyChanged=function(e,t){return o.distinctUntilKeyChanged(e,t)(this)}}),e.file("operators/distinctUntilKeyChanged.js",function(e,t,r,n,i){"use strict";var o=t("./distinctUntilChanged");e.distinctUntilKeyChanged=function(e,t){return o.distinctUntilChanged(function(r,n){return t?t(r[e],n[e]):r[e]===n[e]})}}),e.file("add/operator/do.js",function(e,t,r,n,i){"use strict";var o=t("../../Observable"),s=t("../../operator/do");o.Observable.prototype.do=s._do,o.Observable.prototype._do=s._do}),e.file("operator/do.js",function(e,t,r,n,i){"use strict";var o=t("../operators/tap");e._do=function(e,t,r){return o.tap(e,t,r)(this)}}),e.file("operators/tap.js",function(e,t,r,n,i){"use strict";var o=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},s=t("../Subscriber");e.tap=function(e,t,r){return function(n){return n.lift(new a(e,t,r))}};var a=function(){function e(e,t,r){this.nextOrObserver=e,this.error=t,this.complete=r}return e.prototype.call=function(e,t){return t.subscribe(new u(e,this.nextOrObserver,this.error,this.complete))},e}(),u=function(e){function t(t,r,n,i){e.call(this,t);var o=new s.Subscriber(r,n,i);o.syncErrorThrowable=!0,this.add(o),this.safeSubscriber=o}return o(t,e),t.prototype._next=function(e){var t=this.safeSubscriber;t.next(e),t.syncErrorThrown?this.destination.error(t.syncErrorValue):this.destination.next(e)},t.prototype._error=function(e){var t=this.safeSubscriber;t.error(e),t.syncErrorThrown?this.destination.error(t.syncErrorValue):this.destination.error(e)},t.prototype._complete=function(){var e=this.safeSubscriber;e.complete(),e.syncErrorThrown?this.destination.error(e.syncErrorValue):this.destination.complete()},t}(s.Subscriber)}),e.file("add/operator/exhaust.js",function(e,t,r,n,i){"use strict";var o=t("../../Observable"),s=t("../../operator/exhaust");o.Observable.prototype.exhaust=s.exhaust}),e.file("operator/exhaust.js",function(e,t,r,n,i){"use strict";var o=t("../operators/exhaust");e.exhaust=function(){return o.exhaust()(this)}}),e.file("operators/exhaust.js",function(e,t,r,n,i){"use strict";var o=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},s=t("../OuterSubscriber"),a=t("../util/subscribeToResult");e.exhaust=function(){return function(e){return e.lift(new u)}};var u=function(){function e(){}return e.prototype.call=function(e,t){return t.subscribe(new c(e))},e}(),c=function(e){function t(t){e.call(this,t),this.hasCompleted=!1,this.hasSubscription=!1}return o(t,e),t.prototype._next=function(e){this.hasSubscription||(this.hasSubscription=!0,this.add(a.subscribeToResult(this,e)))},t.prototype._complete=function(){this.hasCompleted=!0,this.hasSubscription||this.destination.complete()},t.prototype.notifyComplete=function(e){this.remove(e),this.hasSubscription=!1,this.hasCompleted&&this.destination.complete()},t}(s.OuterSubscriber)}),e.file("add/operator/exhaustMap.js",function(e,t,r,n,i){"use strict";var o=t("../../Observable"),s=t("../../operator/exhaustMap");o.Observable.prototype.exhaustMap=s.exhaustMap}),e.file("operator/exhaustMap.js",function(e,t,r,n,i){"use strict";var o=t("../operators/exhaustMap");e.exhaustMap=function(e,t){return o.exhaustMap(e,t)(this)}}),e.file("operators/exhaustMap.js",function(e,t,r,n,i){"use strict";var o=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},s=t("../OuterSubscriber"),a=t("../util/subscribeToResult");e.exhaustMap=function(e,t){return function(r){return r.lift(new u(e,t))}};var u=function(){function e(e,t){this.project=e,this.resultSelector=t}return e.prototype.call=function(e,t){return t.subscribe(new c(e,this.project,this.resultSelector))},e}(),c=function(e){function t(t,r,n){e.call(this,t),this.project=r,this.resultSelector=n,this.hasSubscription=!1,this.hasCompleted=!1,this.index=0}return o(t,e),t.prototype._next=function(e){this.hasSubscription||this.tryNext(e)},t.prototype.tryNext=function(e){var t=this.index++,r=this.destination;try{var n=this.project(e,t);this.hasSubscription=!0,this.add(a.subscribeToResult(this,n,e,t))}catch(e){r.error(e)}},t.prototype._complete=function(){this.hasCompleted=!0,this.hasSubscription||this.destination.complete()},t.prototype.notifyNext=function(e,t,r,n,i){var o=this.resultSelector,s=this.destination;o?this.trySelectResult(e,t,r,n):s.next(t)},t.prototype.trySelectResult=function(e,t,r,n){var i=this.resultSelector,o=this.destination;try{var s=i(e,t,r,n);o.next(s)}catch(e){o.error(e)}},t.prototype.notifyError=function(e){this.destination.error(e)},t.prototype.notifyComplete=function(e){this.remove(e),this.hasSubscription=!1,this.hasCompleted&&this.destination.complete()},t}(s.OuterSubscriber)}),e.file("add/operator/expand.js",function(e,t,r,n,i){"use strict";var o=t("../../Observable"),s=t("../../operator/expand");o.Observable.prototype.expand=s.expand}),e.file("operator/expand.js",function(e,t,r,n,i){"use strict";var o=t("../operators/expand");e.expand=function(e,t,r){return void 0===t&&(t=Number.POSITIVE_INFINITY),void 0===r&&(r=void 0),t=(t||0)<1?Number.POSITIVE_INFINITY:t,o.expand(e,t,r)(this)}}),e.file("operators/expand.js",function(e,t,r,n,i){"use strict";var o=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},s=t("../util/tryCatch"),a=t("../util/errorObject"),u=t("../OuterSubscriber"),c=t("../util/subscribeToResult");e.expand=function(e,t,r){return void 0===t&&(t=Number.POSITIVE_INFINITY),void 0===r&&(r=void 0),t=(t||0)<1?Number.POSITIVE_INFINITY:t,function(n){return n.lift(new l(e,t,r))}};var l=function(){function e(e,t,r){this.project=e,this.concurrent=t,this.scheduler=r}return e.prototype.call=function(e,t){return t.subscribe(new f(e,this.project,this.concurrent,this.scheduler))},e}();e.ExpandOperator=l;var f=function(e){function t(t,r,n,i){e.call(this,t),this.project=r,this.concurrent=n,this.scheduler=i,this.index=0,this.active=0,this.hasCompleted=!1,n<Number.POSITIVE_INFINITY&&(this.buffer=[])}return o(t,e),t.dispatch=function(e){var t=e.subscriber,r=e.result,n=e.value,i=e.index;t.subscribeToProjection(r,n,i)},t.prototype._next=function(e){var r=this.destination;if(r.closed)this._complete();else{var n=this.index++;if(this.active<this.concurrent){r.next(e);var i=s.tryCatch(this.project)(e,n);if(i===a.errorObject)r.error(a.errorObject.e);else if(this.scheduler){var o={subscriber:this,result:i,value:e,index:n};this.add(this.scheduler.schedule(t.dispatch,0,o))}else this.subscribeToProjection(i,e,n)}else this.buffer.push(e)}},t.prototype.subscribeToProjection=function(e,t,r){this.active++,this.add(c.subscribeToResult(this,e,t,r))},t.prototype._complete=function(){this.hasCompleted=!0,this.hasCompleted&&0===this.active&&this.destination.complete()},t.prototype.notifyNext=function(e,t,r,n,i){this._next(t)},t.prototype.notifyComplete=function(e){var t=this.buffer;this.remove(e),this.active--,t&&t.length>0&&this._next(t.shift()),this.hasCompleted&&0===this.active&&this.destination.complete()},t}(u.OuterSubscriber);e.ExpandSubscriber=f}),e.file("add/operator/elementAt.js",function(e,t,r,n,i){"use strict";var o=t("../../Observable"),s=t("../../operator/elementAt");o.Observable.prototype.elementAt=s.elementAt}),e.file("operator/elementAt.js",function(e,t,r,n,i){"use strict";var o=t("../operators/elementAt");e.elementAt=function(e,t){return o.elementAt(e,t)(this)}}),e.file("operators/elementAt.js",function(e,t,r,n,i){"use strict";var o=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},s=t("../Subscriber"),a=t("../util/ArgumentOutOfRangeError");e.elementAt=function(e,t){return function(r){return r.lift(new u(e,t))}};var u=function(){function e(e,t){if(this.index=e,this.defaultValue=t,e<0)throw new a.ArgumentOutOfRangeError}return e.prototype.call=function(e,t){return t.subscribe(new c(e,this.index,this.defaultValue))},e}(),c=function(e){function t(t,r,n){e.call(this,t),this.index=r,this.defaultValue=n}return o(t,e),t.prototype._next=function(e){0==this.index--&&(this.destination.next(e),this.destination.complete())},t.prototype._complete=function(){var e=this.destination;this.index>=0&&(void 0!==this.defaultValue?e.next(this.defaultValue):e.error(new a.ArgumentOutOfRangeError)),e.complete()},t}(s.Subscriber)}),e.file("util/ArgumentOutOfRangeError.js",function(e,t,r,n,i){"use strict";var o=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},s=function(e){function t(){var t=e.call(this,"argument out of range");this.name=t.name="ArgumentOutOfRangeError",this.stack=t.stack,this.message=t.message}return o(t,e),t}(Error);e.ArgumentOutOfRangeError=s}),e.file("add/operator/filter.js",function(e,t,r,n,i){"use strict";var o=t("../../Observable"),s=t("../../operator/filter");o.Observable.prototype.filter=s.filter}),e.file("operator/filter.js",function(e,t,r,n,i){"use strict";var o=t("../operators/filter");e.filter=function(e,t){return o.filter(e,t)(this)}}),e.file("operators/filter.js",function(e,t,r,n,i){"use strict";var o=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},s=t("../Subscriber");e.filter=function(e,t){return function(r){return r.lift(new a(e,t))}};var a=function(){function e(e,t){this.predicate=e,this.thisArg=t}return e.prototype.call=function(e,t){return t.subscribe(new u(e,this.predicate,this.thisArg))},e}(),u=function(e){function t(t,r,n){e.call(this,t),this.predicate=r,this.thisArg=n,this.count=0}return o(t,e),t.prototype._next=function(e){var t;try{t=this.predicate.call(this.thisArg,e,this.count++)}catch(e){return void this.destination.error(e)}t&&this.destination.next(e)},t}(s.Subscriber)}),e.file("add/operator/finally.js",function(e,t,r,n,i){"use strict";var o=t("../../Observable"),s=t("../../operator/finally");o.Observable.prototype.finally=s._finally,o.Observable.prototype._finally=s._finally}),e.file("operator/finally.js",function(e,t,r,n,i){"use strict";var o=t("../operators/finalize");e._finally=function(e){return o.finalize(e)(this)}}),e.file("operators/finalize.js",function(e,t,r,n,i){"use strict";var o=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},s=t("../Subscriber"),a=t("../Subscription");e.finalize=function(e){return function(t){return t.lift(new u(e))}};var u=function(){function e(e){this.callback=e}return e.prototype.call=function(e,t){return t.subscribe(new c(e,this.callback))},e}(),c=function(e){function t(t,r){e.call(this,t),this.add(new a.Subscription(r))}return o(t,e),t}(s.Subscriber)}),e.file("add/operator/find.js",function(e,t,r,n,i){"use strict";var o=t("../../Observable"),s=t("../../operator/find");o.Observable.prototype.find=s.find}),e.file("operator/find.js",function(e,t,r,n,i){"use strict";var o=t("../operators/find");e.find=function(e,t){return o.find(e,t)(this)}}),e.file("operators/find.js",function(e,t,r,n,i){"use strict";var o=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},s=t("../Subscriber");e.find=function(e,t){if("function"!=typeof e)throw new TypeError("predicate is not a function");return function(r){return r.lift(new a(e,r,!1,t))}};var a=function(){function e(e,t,r,n){this.predicate=e,this.source=t,this.yieldIndex=r,this.thisArg=n}return e.prototype.call=function(e,t){return t.subscribe(new u(e,this.predicate,this.source,this.yieldIndex,this.thisArg))},e}();e.FindValueOperator=a;var u=function(e){function t(t,r,n,i,o){e.call(this,t),this.predicate=r,this.source=n,this.yieldIndex=i,this.thisArg=o,this.index=0}return o(t,e),t.prototype.notifyComplete=function(e){var t=this.destination;t.next(e),t.complete()},t.prototype._next=function(e){var t=this.predicate,r=this.thisArg,n=this.index++;try{t.call(r||this,e,n,this.source)&&this.notifyComplete(this.yieldIndex?n:e)}catch(e){this.destination.error(e)}},t.prototype._complete=function(){this.notifyComplete(this.yieldIndex?-1:void 0)},t}(s.Subscriber);e.FindValueSubscriber=u}),e.file("add/operator/findIndex.js",function(e,t,r,n,i){"use strict";var o=t("../../Observable"),s=t("../../operator/findIndex");o.Observable.prototype.findIndex=s.findIndex}),e.file("operator/findIndex.js",function(e,t,r,n,i){"use strict";var o=t("../operators/findIndex");e.findIndex=function(e,t){return o.findIndex(e,t)(this)}}),e.file("operators/findIndex.js",function(e,t,r,n,i){"use strict";var o=t("../operators/find");e.findIndex=function(e,t){return function(r){return r.lift(new o.FindValueOperator(e,r,!0,t))}}}),e.file("add/operator/first.js",function(e,t,r,n,i){"use strict";var o=t("../../Observable"),s=t("../../operator/first");o.Observable.prototype.first=s.first}),e.file("operator/first.js",function(e,t,r,n,i){"use strict";var o=t("../operators/first");e.first=function(e,t,r){return o.first(e,t,r)(this)}}),e.file("operators/first.js",function(e,t,r,n,i){"use strict";var o=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},s=t("../Subscriber"),a=t("../util/EmptyError");e.first=function(e,t,r){return function(n){return n.lift(new u(e,t,r,n))}};var u=function(){function e(e,t,r,n){this.predicate=e,this.resultSelector=t,this.defaultValue=r,this.source=n}return e.prototype.call=function(e,t){return t.subscribe(new c(e,this.predicate,this.resultSelector,this.defaultValue,this.source))},e}(),c=function(e){function t(t,r,n,i,o){e.call(this,t),this.predicate=r,this.resultSelector=n,this.defaultValue=i,this.source=o,this.index=0,this.hasCompleted=!1,this._emitted=!1}return o(t,e),t.prototype._next=function(e){var t=this.index++;this.predicate?this._tryPredicate(e,t):this._emit(e,t)},t.prototype._tryPredicate=function(e,t){var r;try{r=this.predicate(e,t,this.source)}catch(e){return void this.destination.error(e)}r&&this._emit(e,t)},t.prototype._emit=function(e,t){this.resultSelector?this._tryResultSelector(e,t):this._emitFinal(e)},t.prototype._tryResultSelector=function(e,t){var r;try{r=this.resultSelector(e,t)}catch(e){return void this.destination.error(e)}this._emitFinal(r)},t.prototype._emitFinal=function(e){var t=this.destination;this._emitted||(this._emitted=!0,t.next(e),t.complete(),this.hasCompleted=!0)},t.prototype._complete=function(){var e=this.destination;this.hasCompleted||void 0===this.defaultValue?this.hasCompleted||e.error(new a.EmptyError):(e.next(this.defaultValue),e.complete())},t}(s.Subscriber)}),e.file("util/EmptyError.js",function(e,t,r,n,i){"use strict";var o=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},s=function(e){function t(){var t=e.call(this,"no elements in sequence");this.name=t.name="EmptyError",this.stack=t.stack,this.message=t.message}return o(t,e),t}(Error);e.EmptyError=s}),e.file("add/operator/groupBy.js",function(e,t,r,n,i){"use strict";var o=t("../../Observable"),s=t("../../operator/groupBy");o.Observable.prototype.groupBy=s.groupBy}),e.file("operator/groupBy.js",function(e,t,r,n,i){"use strict";var o=t("../operators/groupBy");e.GroupedObservable=o.GroupedObservable,e.groupBy=function(e,t,r,n){return o.groupBy(e,t,r,n)(this)}}),e.file("operators/groupBy.js",function(e,t,r,n,i){"use strict";var o=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},s=t("../Subscriber"),a=t("../Subscription"),u=t("../Observable"),c=t("../Subject"),l=t("../util/Map"),f=t("../util/FastMap");e.groupBy=function(e,t,r,n){return function(i){return i.lift(new h(e,t,r,n))}};var h=function(){function e(e,t,r,n){this.keySelector=e,this.elementSelector=t,this.durationSelector=r,this.subjectSelector=n}return e.prototype.call=function(e,t){return t.subscribe(new p(e,this.keySelector,this.elementSelector,this.durationSelector,this.subjectSelector))},e}(),p=function(e){function t(t,r,n,i,o){e.call(this,t),this.keySelector=r,this.elementSelector=n,this.durationSelector=i,this.subjectSelector=o,this.groups=null,this.attemptedToUnsubscribe=!1,this.count=0}return o(t,e),t.prototype._next=function(e){var t;try{t=this.keySelector(e)}catch(e){return void this.error(e)}this._group(e,t)},t.prototype._group=function(e,t){var r=this.groups;r||(r=this.groups="string"==typeof t?new f.FastMap:new l.Map);var n,i=r.get(t);if(this.elementSelector)try{n=this.elementSelector(e)}catch(e){this.error(e)}else n=e;if(!i){i=this.subjectSelector?this.subjectSelector():new c.Subject,r.set(t,i);var o=new v(t,i,this);if(this.destination.next(o),this.durationSelector){var s=void 0;try{s=this.durationSelector(new v(t,i))}catch(e){return void this.error(e)}this.add(s.subscribe(new d(t,i,this)))}}i.closed||i.next(n)},t.prototype._error=function(e){var t=this.groups;t&&(t.forEach(function(t,r){t.error(e)}),t.clear()),this.destination.error(e)},t.prototype._complete=function(){var e=this.groups;e&&(e.forEach(function(e,t){e.complete()}),e.clear()),this.destination.complete()},t.prototype.removeGroup=function(e){this.groups.delete(e)},t.prototype.unsubscribe=function(){this.closed||(this.attemptedToUnsubscribe=!0,0===this.count&&e.prototype.unsubscribe.call(this))},t}(s.Subscriber),d=function(e){function t(t,r,n){e.call(this,r),this.key=t,this.group=r,this.parent=n}return o(t,e),t.prototype._next=function(e){this.complete()},t.prototype._unsubscribe=function(){var e=this.parent,t=this.key;this.key=this.parent=null,e&&e.removeGroup(t)},t}(s.Subscriber),v=function(e){function t(t,r,n){e.call(this),this.key=t,this.groupSubject=r,this.refCountSubscription=n}return o(t,e),t.prototype._subscribe=function(e){var t=new a.Subscription,r=this.refCountSubscription,n=this.groupSubject;return r&&!r.closed&&t.add(new m(r)),t.add(n.subscribe(e)),t},t}(u.Observable);e.GroupedObservable=v;var m=function(e){function t(t){e.call(this),this.parent=t,t.count++}return o(t,e),t.prototype.unsubscribe=function(){var t=this.parent;t.closed||this.closed||(e.prototype.unsubscribe.call(this),t.count-=1,0===t.count&&t.attemptedToUnsubscribe&&t.unsubscribe())},t}(a.Subscription)}),e.file("util/Map.js",function(e,t,r,n,i){"use strict";var o=t("./root"),s=t("./MapPolyfill");e.Map=o.root.Map||s.MapPolyfill}),e.file("util/MapPolyfill.js",function(e,t,r,n,i){"use strict";var o=function(){function e(){this.size=0,this._values=[],this._keys=[]}return e.prototype.get=function(e){var t=this._keys.indexOf(e);return-1===t?void 0:this._values[t]},e.prototype.set=function(e,t){var r=this._keys.indexOf(e);return-1===r?(this._keys.push(e),this._values.push(t),this.size++):this._values[r]=t,this},e.prototype.delete=function(e){var t=this._keys.indexOf(e);return-1!==t&&(this._values.splice(t,1),this._keys.splice(t,1),this.size--,!0)},e.prototype.clear=function(){this._keys.length=0,this._values.length=0,this.size=0},e.prototype.forEach=function(e,t){for(var r=0;r<this.size;r++)e.call(t,this._values[r],this._keys[r])},e}();e.MapPolyfill=o}),e.file("util/FastMap.js",function(e,t,r,n,i){"use strict";var o=function(){function e(){this.values={}}return e.prototype.delete=function(e){return this.values[e]=null,!0},e.prototype.set=function(e,t){return this.values[e]=t,this},e.prototype.get=function(e){return this.values[e]},e.prototype.forEach=function(e,t){var r=this.values;for(var n in r)r.hasOwnProperty(n)&&null!==r[n]&&e.call(t,r[n],n)},e.prototype.clear=function(){this.values={}},e}();e.FastMap=o}),e.file("add/operator/ignoreElements.js",function(e,t,r,n,i){"use strict";var o=t("../../Observable"),s=t("../../operator/ignoreElements");o.Observable.prototype.ignoreElements=s.ignoreElements}),e.file("operator/ignoreElements.js",function(e,t,r,n,i){"use strict";var o=t("../operators/ignoreElements");e.ignoreElements=function(){return o.ignoreElements()(this)}}),e.file("operators/ignoreElements.js",function(e,t,r,n,i){"use strict";var o=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},s=t("../Subscriber"),a=t("../util/noop");e.ignoreElements=function(){return function(e){return e.lift(new u)}};var u=function(){function e(){}return e.prototype.call=function(e,t){return t.subscribe(new c(e))},e}(),c=function(e){function t(){e.apply(this,arguments)}return o(t,e),t.prototype._next=function(e){a.noop()},t}(s.Subscriber)}),e.file("add/operator/isEmpty.js",function(e,t,r,n,i){"use strict";var o=t("../../Observable"),s=t("../../operator/isEmpty");o.Observable.prototype.isEmpty=s.isEmpty}),e.file("operator/isEmpty.js",function(e,t,r,n,i){"use strict";var o=t("../operators/isEmpty");e.isEmpty=function(){return o.isEmpty()(this)}}),e.file("operators/isEmpty.js",function(e,t,r,n,i){"use strict";var o=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},s=t("../Subscriber");e.isEmpty=function(){return function(e){return e.lift(new a)}};var a=function(){function e(){}return e.prototype.call=function(e,t){return t.subscribe(new u(e))},e}(),u=function(e){function t(t){e.call(this,t)}return o(t,e),t.prototype.notifyComplete=function(e){var t=this.destination;t.next(e),t.complete()},t.prototype._next=function(e){this.notifyComplete(!1)},t.prototype._complete=function(){this.notifyComplete(!0)},t}(s.Subscriber)}),e.file("add/operator/audit.js",function(e,t,r,n,i){"use strict";var o=t("../../Observable"),s=t("../../operator/audit");o.Observable.prototype.audit=s.audit}),e.file("operator/audit.js",function(e,t,r,n,i){"use strict";var o=t("../operators/audit");e.audit=function(e){return o.audit(e)(this)}}),e.file("operators/audit.js",function(e,t,r,n,i){"use strict";var o=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},s=t("../util/tryCatch"),a=t("../util/errorObject"),u=t("../OuterSubscriber"),c=t("../util/subscribeToResult");e.audit=function(e){return function(t){return t.lift(new l(e))}};var l=function(){function e(e){this.durationSelector=e}return e.prototype.call=function(e,t){return t.subscribe(new f(e,this.durationSelector))},e}(),f=function(e){function t(t,r){e.call(this,t),this.durationSelector=r,this.hasValue=!1}return o(t,e),t.prototype._next=function(e){if(this.value=e,this.hasValue=!0,!this.throttled){var t=s.tryCatch(this.durationSelector)(e);if(t===a.errorObject)this.destination.error(a.errorObject.e);else{var r=c.subscribeToResult(this,t);r.closed?this.clearThrottle():this.add(this.throttled=r)}}},t.prototype.clearThrottle=function(){var e=this.value,t=this.hasValue,r=this.throttled;r&&(this.remove(r),this.throttled=null,r.unsubscribe()),t&&(this.value=null,this.hasValue=!1,this.destination.next(e))},t.prototype.notifyNext=function(e,t,r,n){this.clearThrottle()},t.prototype.notifyComplete=function(){this.clearThrottle()},t}(u.OuterSubscriber)}),e.file("add/operator/auditTime.js",function(e,t,r,n,i){"use strict";var o=t("../../Observable"),s=t("../../operator/auditTime");o.Observable.prototype.auditTime=s.auditTime}),e.file("operator/auditTime.js",function(e,t,r,n,i){"use strict";var o=t("../scheduler/async"),s=t("../operators/auditTime");e.auditTime=function(e,t){return void 0===t&&(t=o.async),s.auditTime(e,t)(this)}}),e.file("operators/auditTime.js",function(e,t,r,n,i){"use strict";var o=t("../scheduler/async"),s=t("./audit"),a=t("../observable/timer");e.auditTime=function(e,t){return void 0===t&&(t=o.async),s.audit(function(){return a.timer(e,t)})}}),e.file("add/operator/last.js",function(e,t,r,n,i){"use strict";var o=t("../../Observable"),s=t("../../operator/last");o.Observable.prototype.last=s.last}),e.file("operator/last.js",function(e,t,r,n,i){"use strict";var o=t("../operators/last");e.last=function(e,t,r){return o.last(e,t,r)(this)}}),e.file("operators/last.js",function(e,t,r,n,i){"use strict";var o=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},s=t("../Subscriber"),a=t("../util/EmptyError");e.last=function(e,t,r){return function(n){return n.lift(new u(e,t,r,n))}};var u=function(){function e(e,t,r,n){this.predicate=e,this.resultSelector=t,this.defaultValue=r,this.source=n}return e.prototype.call=function(e,t){return t.subscribe(new c(e,this.predicate,this.resultSelector,this.defaultValue,this.source))},e}(),c=function(e){function t(t,r,n,i,o){e.call(this,t),this.predicate=r,this.resultSelector=n,this.defaultValue=i,this.source=o,this.hasValue=!1,this.index=0,void 0!==i&&(this.lastValue=i,this.hasValue=!0)}return o(t,e),t.prototype._next=function(e){var t=this.index++;if(this.predicate)this._tryPredicate(e,t);else{if(this.resultSelector)return void this._tryResultSelector(e,t);this.lastValue=e,this.hasValue=!0}},t.prototype._tryPredicate=function(e,t){var r;try{r=this.predicate(e,t,this.source)}catch(e){return void this.destination.error(e)}if(r){if(this.resultSelector)return void this._tryResultSelector(e,t);this.lastValue=e,this.hasValue=!0}},t.prototype._tryResultSelector=function(e,t){var r;try{r=this.resultSelector(e,t)}catch(e){return void this.destination.error(e)}this.lastValue=r,this.hasValue=!0},t.prototype._complete=function(){var e=this.destination;this.hasValue?(e.next(this.lastValue),e.complete()):e.error(new a.EmptyError)},t}(s.Subscriber)}),e.file("add/operator/let.js",function(e,t,r,n,i){"use strict";var o=t("../../Observable"),s=t("../../operator/let");o.Observable.prototype.let=s.letProto,o.Observable.prototype.letBind=s.letProto}),e.file("operator/let.js",function(e,t,r,n,i){"use strict";e.letProto=function(e){return e(this)}}),e.file("add/operator/every.js",function(e,t,r,n,i){"use strict";var o=t("../../Observable"),s=t("../../operator/every");o.Observable.prototype.every=s.every}),e.file("operator/every.js",function(e,t,r,n,i){"use strict";var o=t("../operators/every");e.every=function(e,t){return o.every(e,t)(this)}}),e.file("operators/every.js",function(e,t,r,n,i){"use strict";var o=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},s=t("../Subscriber");e.every=function(e,t){return function(r){return r.lift(new a(e,t,r))}};var a=function(){function e(e,t,r){this.predicate=e,this.thisArg=t,this.source=r}return e.prototype.call=function(e,t){return t.subscribe(new u(e,this.predicate,this.thisArg,this.source))},e}(),u=function(e){function t(t,r,n,i){e.call(this,t),this.predicate=r,this.thisArg=n,this.source=i,this.index=0,this.thisArg=n||this}return o(t,e),t.prototype.notifyComplete=function(e){this.destination.next(e),this.destination.complete()},t.prototype._next=function(e){var t=!1;try{t=this.predicate.call(this.thisArg,e,this.index++,this.source)}catch(e){return void this.destination.error(e)}t||this.notifyComplete(!1)},t.prototype._complete=function(){this.notifyComplete(!0)},t}(s.Subscriber)}),e.file("add/operator/map.js",function(e,t,r,n,i){"use strict";var o=t("../../Observable"),s=t("../../operator/map");o.Observable.prototype.map=s.map}),e.file("operator/map.js",function(e,t,r,n,i){"use strict";var o=t("../operators/map");e.map=function(e,t){return o.map(e,t)(this)}}),e.file("add/operator/mapTo.js",function(e,t,r,n,i){"use strict";var o=t("../../Observable"),s=t("../../operator/mapTo");o.Observable.prototype.mapTo=s.mapTo}),e.file("operator/mapTo.js",function(e,t,r,n,i){"use strict";var o=t("../operators/mapTo");e.mapTo=function(e){return o.mapTo(e)(this)}}),e.file("operators/mapTo.js",function(e,t,r,n,i){"use strict";var o=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},s=t("../Subscriber");e.mapTo=function(e){return function(t){return t.lift(new a(e))}};var a=function(){function e(e){this.value=e}return e.prototype.call=function(e,t){return t.subscribe(new u(e,this.value))},e}(),u=function(e){function t(t,r){e.call(this,t),this.value=r}return o(t,e),t.prototype._next=function(e){this.destination.next(this.value)},t}(s.Subscriber)}),e.file("add/operator/materialize.js",function(e,t,r,n,i){"use strict";var o=t("../../Observable"),s=t("../../operator/materialize");o.Observable.prototype.materialize=s.materialize}),e.file("operator/materialize.js",function(e,t,r,n,i){"use strict";var o=t("../operators/materialize");e.materialize=function(){return o.materialize()(this)}}),e.file("operators/materialize.js",function(e,t,r,n,i){"use strict";var o=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},s=t("../Subscriber"),a=t("../Notification");e.materialize=function(){return function(e){return e.lift(new u)}};var u=function(){function e(){}return e.prototype.call=function(e,t){return t.subscribe(new c(e))},e}(),c=function(e){function t(t){e.call(this,t)}return o(t,e),t.prototype._next=function(e){this.destination.next(a.Notification.createNext(e))},t.prototype._error=function(e){var t=this.destination;t.next(a.Notification.createError(e)),t.complete()},t.prototype._complete=function(){var e=this.destination;e.next(a.Notification.createComplete()),e.complete()},t}(s.Subscriber)}),e.file("add/operator/max.js",function(e,t,r,n,i){"use strict";var o=t("../../Observable"),s=t("../../operator/max");o.Observable.prototype.max=s.max}),e.file("operator/max.js",function(e,t,r,n,i){"use strict";var o=t("../operators/max");e.max=function(e){return o.max(e)(this)}}),e.file("operators/max.js",function(e,t,r,n,i){"use strict";var o=t("./reduce");e.max=function(e){var t="function"==typeof e?function(t,r){return e(t,r)>0?t:r}:function(e,t){return e>t?e:t};return o.reduce(t)}}),e.file("operators/reduce.js",function(e,t,r,n,i){"use strict";var o=t("./scan"),s=t("./takeLast"),a=t("./defaultIfEmpty"),u=t("../util/pipe");e.reduce=function(e,t){return arguments.length>=2?function(r){return u.pipe(o.scan(e,t),s.takeLast(1),a.defaultIfEmpty(t))(r)}:function(t){return u.pipe(o.scan(function(t,r,n){return e(t,r,n+1)}),s.takeLast(1))(t)}}}),e.file("operators/scan.js",function(e,t,r,n,i){"use strict";var o=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},s=t("../Subscriber");e.scan=function(e,t){var r=!1;return arguments.length>=2&&(r=!0),function(n){return n.lift(new a(e,t,r))}};var a=function(){function e(e,t,r){void 0===r&&(r=!1),this.accumulator=e,this.seed=t,this.hasSeed=r}return e.prototype.call=function(e,t){return t.subscribe(new u(e,this.accumulator,this.seed,this.hasSeed))},e}(),u=function(e){function t(t,r,n,i){e.call(this,t),this.accumulator=r,this._seed=n,this.hasSeed=i,this.index=0}return o(t,e),Object.defineProperty(t.prototype,"seed",{get:function(){return this._seed},set:function(e){this.hasSeed=!0,this._seed=e},enumerable:!0,configurable:!0}),t.prototype._next=function(e){if(this.hasSeed)return this._tryNext(e);this.seed=e,this.destination.next(e)},t.prototype._tryNext=function(e){var t,r=this.index++;try{t=this.accumulator(this.seed,e,r)}catch(e){this.destination.error(e)}this.seed=t,this.destination.next(t)},t}(s.Subscriber)}),e.file("operators/takeLast.js",function(e,t,r,n,i){"use strict";var o=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},s=t("../Subscriber"),a=t("../util/ArgumentOutOfRangeError"),u=t("../observable/EmptyObservable");e.takeLast=function(e){return function(t){return 0===e?new u.EmptyObservable:t.lift(new c(e))}};var c=function(){function e(e){if(this.total=e,this.total<0)throw new a.ArgumentOutOfRangeError}return e.prototype.call=function(e,t){return t.subscribe(new l(e,this.total))},e}(),l=function(e){function t(t,r){e.call(this,t),this.total=r,this.ring=new Array,this.count=0}return o(t,e),t.prototype._next=function(e){var t=this.ring,r=this.total,n=this.count++;t.length<r?t.push(e):t[n%r]=e},t.prototype._complete=function(){var e=this.destination,t=this.count;if(t>0)for(var r=this.count>=this.total?this.total:this.count,n=this.ring,i=0;i<r;i++){var o=t++%r;e.next(n[o])}e.complete()},t}(s.Subscriber)}),e.file("add/operator/merge.js",function(e,t,r,n,i){"use strict";var o=t("../../Observable"),s=t("../../operator/merge");o.Observable.prototype.merge=s.merge}),e.file("operator/merge.js",function(e,t,r,n,i){"use strict";var o=t("../operators/merge"),s=t("../observable/merge");e.mergeStatic=s.merge,e.merge=function(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];return o.merge.apply(void 0,e)(this)}}),e.file("operators/merge.js",function(e,t,r,n,i){"use strict";var o=t("../observable/merge"),s=t("../observable/merge");e.mergeStatic=s.merge,e.merge=function(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];return function(t){return t.lift.call(o.merge.apply(void 0,[t].concat(e)))}}}),e.file("add/operator/mergeAll.js",function(e,t,r,n,i){"use strict";var o=t("../../Observable"),s=t("../../operator/mergeAll");o.Observable.prototype.mergeAll=s.mergeAll}),e.file("operator/mergeAll.js",function(e,t,r,n,i){"use strict";var o=t("../operators/mergeAll");e.mergeAll=function(e){return void 0===e&&(e=Number.POSITIVE_INFINITY),o.mergeAll(e)(this)}}),e.file("add/operator/mergeMap.js",function(e,t,r,n,i){"use strict";var o=t("../../Observable"),s=t("../../operator/mergeMap");o.Observable.prototype.mergeMap=s.mergeMap,o.Observable.prototype.flatMap=s.mergeMap}),e.file("operator/mergeMap.js",function(e,t,r,n,i){"use strict";var o=t("../operators/mergeMap");e.mergeMap=function(e,t,r){return void 0===r&&(r=Number.POSITIVE_INFINITY),o.mergeMap(e,t,r)(this)}}),e.file("add/operator/mergeMapTo.js",function(e,t,r,n,i){"use strict";var o=t("../../Observable"),s=t("../../operator/mergeMapTo");o.Observable.prototype.flatMapTo=s.mergeMapTo,o.Observable.prototype.mergeMapTo=s.mergeMapTo}),e.file("operator/mergeMapTo.js",function(e,t,r,n,i){"use strict";var o=t("../operators/mergeMapTo");e.mergeMapTo=function(e,t,r){return void 0===r&&(r=Number.POSITIVE_INFINITY),o.mergeMapTo(e,t,r)(this)}}),e.file("operators/mergeMapTo.js",function(e,t,r,n,i){"use strict";var o=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},s=t("../OuterSubscriber"),a=t("../util/subscribeToResult");e.mergeMapTo=function(e,t,r){return void 0===r&&(r=Number.POSITIVE_INFINITY),"number"==typeof t&&(r=t,t=null),function(n){return n.lift(new u(e,t,r))}};var u=function(){function e(e,t,r){void 0===r&&(r=Number.POSITIVE_INFINITY),this.ish=e,this.resultSelector=t,this.concurrent=r}return e.prototype.call=function(e,t){return t.subscribe(new c(e,this.ish,this.resultSelector,this.concurrent))},e}();e.MergeMapToOperator=u;var c=function(e){function t(t,r,n,i){void 0===i&&(i=Number.POSITIVE_INFINITY),e.call(this,t),this.ish=r,this.resultSelector=n,this.concurrent=i,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}return o(t,e),t.prototype._next=function(e){if(this.active<this.concurrent){var t=this.resultSelector,r=this.index++,n=this.ish,i=this.destination;this.active++,this._innerSub(n,i,t,e,r)}else this.buffer.push(e)},t.prototype._innerSub=function(e,t,r,n,i){this.add(a.subscribeToResult(this,e,n,i))},t.prototype._complete=function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete()},t.prototype.notifyNext=function(e,t,r,n,i){var o=this.resultSelector,s=this.destination;o?this.trySelectResult(e,t,r,n):s.next(t)},t.prototype.trySelectResult=function(e,t,r,n){var i,o=this.resultSelector,s=this.destination;try{i=o(e,t,r,n)}catch(e){return void s.error(e)}s.next(i)},t.prototype.notifyError=function(e){this.destination.error(e)},t.prototype.notifyComplete=function(e){var t=this.buffer;this.remove(e),this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()},t}(s.OuterSubscriber);e.MergeMapToSubscriber=c}),e.file("add/operator/mergeScan.js",function(e,t,r,n,i){"use strict";var o=t("../../Observable"),s=t("../../operator/mergeScan");o.Observable.prototype.mergeScan=s.mergeScan}),e.file("operator/mergeScan.js",function(e,t,r,n,i){"use strict";var o=t("../operators/mergeScan");e.mergeScan=function(e,t,r){return void 0===r&&(r=Number.POSITIVE_INFINITY),o.mergeScan(e,t,r)(this)}}),e.file("operators/mergeScan.js",function(e,t,r,n,i){"use strict";var o=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},s=t("../util/tryCatch"),a=t("../util/errorObject"),u=t("../util/subscribeToResult"),c=t("../OuterSubscriber");e.mergeScan=function(e,t,r){return void 0===r&&(r=Number.POSITIVE_INFINITY),function(n){return n.lift(new l(e,t,r))}};var l=function(){function e(e,t,r){this.accumulator=e,this.seed=t,this.concurrent=r}return e.prototype.call=function(e,t){return t.subscribe(new f(e,this.accumulator,this.seed,this.concurrent))},e}();e.MergeScanOperator=l;var f=function(e){function t(t,r,n,i){e.call(this,t),this.accumulator=r,this.acc=n,this.concurrent=i,this.hasValue=!1,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}return o(t,e),t.prototype._next=function(e){if(this.active<this.concurrent){var t=this.index++,r=s.tryCatch(this.accumulator)(this.acc,e),n=this.destination;r===a.errorObject?n.error(a.errorObject.e):(this.active++,this._innerSub(r,e,t))}else this.buffer.push(e)},t.prototype._innerSub=function(e,t,r){this.add(u.subscribeToResult(this,e,t,r))},t.prototype._complete=function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&(!1===this.hasValue&&this.destination.next(this.acc),this.destination.complete())},t.prototype.notifyNext=function(e,t,r,n,i){var o=this.destination;this.acc=t,this.hasValue=!0,o.next(t)},t.prototype.notifyComplete=function(e){var t=this.buffer;this.remove(e),this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&(!1===this.hasValue&&this.destination.next(this.acc),this.destination.complete())},t}(c.OuterSubscriber);e.MergeScanSubscriber=f}),e.file("add/operator/min.js",function(e,t,r,n,i){"use strict";var o=t("../../Observable"),s=t("../../operator/min");o.Observable.prototype.min=s.min}),e.file("operator/min.js",function(e,t,r,n,i){"use strict";var o=t("../operators/min");e.min=function(e){return o.min(e)(this)}}),e.file("operators/min.js",function(e,t,r,n,i){"use strict";var o=t("./reduce");e.min=function(e){var t="function"==typeof e?function(t,r){return e(t,r)<0?t:r}:function(e,t){return e<t?e:t};return o.reduce(t)}}),e.file("add/operator/multicast.js",function(e,t,r,n,i){"use strict";var o=t("../../Observable"),s=t("../../operator/multicast");o.Observable.prototype.multicast=s.multicast}),e.file("operator/multicast.js",function(e,t,r,n,i){"use strict";var o=t("../operators/multicast");e.multicast=function(e,t){return o.multicast(e,t)(this)}}),e.file("operators/multicast.js",function(e,t,r,n,i){"use strict";var o=t("../observable/ConnectableObservable");e.multicast=function(e,t){return function(r){var n;if(n="function"==typeof e?e:function(){return e},"function"==typeof t)return r.lift(new s(n,t));var i=Object.create(r,o.connectableObservableDescriptor);return i.source=r,i.subjectFactory=n,i}};var s=function(){function e(e,t){this.subjectFactory=e,this.selector=t}return e.prototype.call=function(e,t){var r=this.selector,n=this.subjectFactory(),i=r(n).subscribe(e);return i.add(t.subscribe(n)),i},e}();e.MulticastOperator=s}),e.file("observable/ConnectableObservable.js",function(e,t,r,n,i){"use strict";var o=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},s=t("../Subject"),a=t("../Observable"),u=t("../Subscriber"),c=t("../Subscription"),l=t("../operators/refCount"),f=function(e){function t(t,r){e.call(this),this.source=t,this.subjectFactory=r,this._refCount=0,this._isComplete=!1}return o(t,e),t.prototype._subscribe=function(e){return this.getSubject().subscribe(e)},t.prototype.getSubject=function(){var e=this._subject;return e&&!e.isStopped||(this._subject=this.subjectFactory()),this._subject},t.prototype.connect=function(){var e=this._connection;return e||(this._isComplete=!1,(e=this._connection=new c.Subscription).add(this.source.subscribe(new p(this.getSubject(),this))),e.closed?(this._connection=null,e=c.Subscription.EMPTY):this._connection=e),e},t.prototype.refCount=function(){return l.refCount()(this)},t}(a.Observable);e.ConnectableObservable=f;var h=f.prototype;e.connectableObservableDescriptor={operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:h._subscribe},_isComplete:{value:h._isComplete,writable:!0},getSubject:{value:h.getSubject},connect:{value:h.connect},refCount:{value:h.refCount}};var p=function(e){function t(t,r){e.call(this,t),this.connectable=r}return o(t,e),t.prototype._error=function(t){this._unsubscribe(),e.prototype._error.call(this,t)},t.prototype._complete=function(){this.connectable._isComplete=!0,this._unsubscribe(),e.prototype._complete.call(this)},t.prototype._unsubscribe=function(){var e=this.connectable;if(e){this.connectable=null;var t=e._connection;e._refCount=0,e._subject=null,e._connection=null,t&&t.unsubscribe()}},t}(s.SubjectSubscriber),d=(function(){function e(e){this.connectable=e}e.prototype.call=function(e,t){var r=this.connectable;r._refCount++;var n=new d(e,r),i=t.subscribe(n);return n.closed||(n.connection=r.connect()),i}}(),function(e){function t(t,r){e.call(this,t),this.connectable=r}return o(t,e),t.prototype._unsubscribe=function(){var e=this.connectable;if(e){this.connectable=null;var t=e._refCount;if(t<=0)this.connection=null;else if(e._refCount=t-1,t>1)this.connection=null;else{var r=this.connection,n=e._connection;this.connection=null,!n||r&&n!==r||n.unsubscribe()}}else this.connection=null},t}(u.Subscriber))}),e.file("operators/refCount.js",function(e,t,r,n,i){"use strict";var o=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},s=t("../Subscriber");e.refCount=function(){return function(e){return e.lift(new a(e))}};var a=function(){function e(e){this.connectable=e}return e.prototype.call=function(e,t){var r=this.connectable;r._refCount++;var n=new u(e,r),i=t.subscribe(n);return n.closed||(n.connection=r.connect()),i},e}(),u=function(e){function t(t,r){e.call(this,t),this.connectable=r}return o(t,e),t.prototype._unsubscribe=function(){var e=this.connectable;if(e){this.connectable=null;var t=e._refCount;if(t<=0)this.connection=null;else if(e._refCount=t-1,t>1)this.connection=null;else{var r=this.connection,n=e._connection;this.connection=null,!n||r&&n!==r||n.unsubscribe()}}else this.connection=null},t}(s.Subscriber)}),e.file("add/operator/observeOn.js",function(e,t,r,n,i){"use strict";var o=t("../../Observable"),s=t("../../operator/observeOn");o.Observable.prototype.observeOn=s.observeOn}),e.file("operator/observeOn.js",function(e,t,r,n,i){"use strict";var o=t("../operators/observeOn");e.observeOn=function(e,t){return void 0===t&&(t=0),o.observeOn(e,t)(this)}}),e.file("add/operator/onErrorResumeNext.js",function(e,t,r,n,i){"use strict";var o=t("../../Observable"),s=t("../../operator/onErrorResumeNext");o.Observable.prototype.onErrorResumeNext=s.onErrorResumeNext}),e.file("operator/onErrorResumeNext.js",function(e,t,r,n,i){"use strict";var o=t("../operators/onErrorResumeNext");e.onErrorResumeNext=function(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];return o.onErrorResumeNext.apply(void 0,e)(this)}}),e.file("add/operator/pairwise.js",function(e,t,r,n,i){"use strict";var o=t("../../Observable"),s=t("../../operator/pairwise");o.Observable.prototype.pairwise=s.pairwise}),e.file("operator/pairwise.js",function(e,t,r,n,i){"use strict";var o=t("../operators/pairwise");e.pairwise=function(){return o.pairwise()(this)}}),e.file("operators/pairwise.js",function(e,t,r,n,i){"use strict";var o=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},s=t("../Subscriber");e.pairwise=function(){return function(e){return e.lift(new a)}};var a=function(){function e(){}return e.prototype.call=function(e,t){return t.subscribe(new u(e))},e}(),u=function(e){function t(t){e.call(this,t),this.hasPrev=!1}return o(t,e),t.prototype._next=function(e){this.hasPrev?this.destination.next([this.prev,e]):this.hasPrev=!0,this.prev=e},t}(s.Subscriber)}),e.file("add/operator/partition.js",function(e,t,r,n,i){"use strict";var o=t("../../Observable"),s=t("../../operator/partition");o.Observable.prototype.partition=s.partition}),e.file("operator/partition.js",function(e,t,r,n,i){"use strict";var o=t("../operators/partition");e.partition=function(e,t){return o.partition(e,t)(this)}}),e.file("operators/partition.js",function(e,t,r,n,i){"use strict";var o=t("../util/not"),s=t("./filter");e.partition=function(e,t){return function(r){return[s.filter(e,t)(r),s.filter(o.not(e,t))(r)]}}}),e.file("util/not.js",function(e,t,r,n,i){"use strict";e.not=function(e,t){function r(){return!r.pred.apply(r.thisArg,arguments)}return r.pred=e,r.thisArg=t,r}}),e.file("add/operator/pluck.js",function(e,t,r,n,i){"use strict";var o=t("../../Observable"),s=t("../../operator/pluck");o.Observable.prototype.pluck=s.pluck}),e.file("operator/pluck.js",function(e,t,r,n,i){"use strict";var o=t("../operators/pluck");e.pluck=function(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];return o.pluck.apply(void 0,e)(this)}}),e.file("operators/pluck.js",function(e,t,r,n,i){"use strict";var o=t("./map");e.pluck=function(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];var r=e.length;if(0===r)throw new Error("list of properties cannot be empty.");return function(t){return o.map((n=e,i=r,function(e){for(var t=e,r=0;r<i;r++){var o=t[n[r]];if(void 0===o)return;t=o}return t}))(t);var n,i}}}),e.file("add/operator/publish.js",function(e,t,r,n,i){"use strict";var o=t("../../Observable"),s=t("../../operator/publish");o.Observable.prototype.publish=s.publish}),e.file("operator/publish.js",function(e,t,r,n,i){"use strict";var o=t("../operators/publish");e.publish=function(e){return o.publish(e)(this)}}),e.file("operators/publish.js",function(e,t,r,n,i){"use strict";var o=t("../Subject"),s=t("./multicast");e.publish=function(e){return e?s.multicast(function(){return new o.Subject},e):s.multicast(new o.Subject)}}),e.file("add/operator/publishBehavior.js",function(e,t,r,n,i){"use strict";var o=t("../../Observable"),s=t("../../operator/publishBehavior");o.Observable.prototype.publishBehavior=s.publishBehavior}),e.file("operator/publishBehavior.js",function(e,t,r,n,i){"use strict";var o=t("../operators/publishBehavior");e.publishBehavior=function(e){return o.publishBehavior(e)(this)}}),e.file("operators/publishBehavior.js",function(e,t,r,n,i){"use strict";var o=t("../BehaviorSubject"),s=t("./multicast");e.publishBehavior=function(e){return function(t){return s.multicast(new o.BehaviorSubject(e))(t)}}}),e.file("BehaviorSubject.js",function(e,t,r,n,i){"use strict";var o=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},s=t("./Subject"),a=t("./util/ObjectUnsubscribedError"),u=function(e){function t(t){e.call(this),this._value=t}return o(t,e),Object.defineProperty(t.prototype,"value",{get:function(){return this.getValue()},enumerable:!0,configurable:!0}),t.prototype._subscribe=function(t){var r=e.prototype._subscribe.call(this,t);return r&&!r.closed&&t.next(this._value),r},t.prototype.getValue=function(){if(this.hasError)throw this.thrownError;if(this.closed)throw new a.ObjectUnsubscribedError;return this._value},t.prototype.next=function(t){e.prototype.next.call(this,this._value=t)},t}(s.Subject);e.BehaviorSubject=u}),e.file("add/operator/publishReplay.js",function(e,t,r,n,i){"use strict";var o=t("../../Observable"),s=t("../../operator/publishReplay");o.Observable.prototype.publishReplay=s.publishReplay}),e.file("operator/publishReplay.js",function(e,t,r,n,i){"use strict";var o=t("../operators/publishReplay");e.publishReplay=function(e,t,r,n){return o.publishReplay(e,t,r,n)(this)}}),e.file("operators/publishReplay.js",function(e,t,r,n,i){"use strict";var o=t("../ReplaySubject"),s=t("./multicast");e.publishReplay=function(e,t,r,n){r&&"function"!=typeof r&&(n=r);var i="function"==typeof r?r:void 0,a=new o.ReplaySubject(e,t,n);return function(e){return s.multicast(function(){return a},i)(e)}}}),e.file("add/operator/publishLast.js",function(e,t,r,n,i){"use strict";var o=t("../../Observable"),s=t("../../operator/publishLast");o.Observable.prototype.publishLast=s.publishLast}),e.file("operator/publishLast.js",function(e,t,r,n,i){"use strict";var o=t("../operators/publishLast");e.publishLast=function(){return o.publishLast()(this)}}),e.file("operators/publishLast.js",function(e,t,r,n,i){"use strict";var o=t("../AsyncSubject"),s=t("./multicast");e.publishLast=function(){return function(e){return s.multicast(new o.AsyncSubject)(e)}}}),e.file("add/operator/race.js",function(e,t,r,n,i){"use strict";var o=t("../../Observable"),s=t("../../operator/race");o.Observable.prototype.race=s.race}),e.file("operator/race.js",function(e,t,r,n,i){"use strict";var o=t("../operators/race"),s=t("../observable/race");e.raceStatic=s.race,e.race=function(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];return o.race.apply(void 0,e)(this)}}),e.file("operators/race.js",function(e,t,r,n,i){"use strict";var o=t("../util/isArray"),s=t("../observable/race");e.race=function(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];return function(t){return 1===e.length&&o.isArray(e[0])&&(e=e[0]),t.lift.call(s.race.apply(void 0,[t].concat(e)))}}}),e.file("add/operator/reduce.js",function(e,t,r,n,i){"use strict";var o=t("../../Observable"),s=t("../../operator/reduce");o.Observable.prototype.reduce=s.reduce}),e.file("operator/reduce.js",function(e,t,r,n,i){"use strict";var o=t("../operators/reduce");e.reduce=function(e,t){return arguments.length>=2?o.reduce(e,t)(this):o.reduce(e)(this)}}),e.file("add/operator/repeat.js",function(e,t,r,n,i){"use strict";var o=t("../../Observable"),s=t("../../operator/repeat");o.Observable.prototype.repeat=s.repeat}),e.file("operator/repeat.js",function(e,t,r,n,i){"use strict";var o=t("../operators/repeat");e.repeat=function(e){return void 0===e&&(e=-1),o.repeat(e)(this)}}),e.file("operators/repeat.js",function(e,t,r,n,i){"use strict";var o=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},s=t("../Subscriber"),a=t("../observable/EmptyObservable");e.repeat=function(e){return void 0===e&&(e=-1),function(t){return 0===e?new a.EmptyObservable:e<0?t.lift(new u(-1,t)):t.lift(new u(e-1,t))}};var u=function(){function e(e,t){this.count=e,this.source=t}return e.prototype.call=function(e,t){return t.subscribe(new c(e,this.count,this.source))},e}(),c=function(e){function t(t,r,n){e.call(this,t),this.count=r,this.source=n}return o(t,e),t.prototype.complete=function(){if(!this.isStopped){var t=this.source,r=this.count;if(0===r)return e.prototype.complete.call(this);r>-1&&(this.count=r-1),t.subscribe(this._unsubscribeAndRecycle())}},t}(s.Subscriber)}),e.file("add/operator/repeatWhen.js",function(e,t,r,n,i){"use strict";var o=t("../../Observable"),s=t("../../operator/repeatWhen");o.Observable.prototype.repeatWhen=s.repeatWhen}),e.file("operator/repeatWhen.js",function(e,t,r,n,i){"use strict";var o=t("../operators/repeatWhen");e.repeatWhen=function(e){return o.repeatWhen(e)(this)}}),e.file("operators/repeatWhen.js",function(e,t,r,n,i){"use strict";var o=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},s=t("../Subject"),a=t("../util/tryCatch"),u=t("../util/errorObject"),c=t("../OuterSubscriber"),l=t("../util/subscribeToResult");e.repeatWhen=function(e){return function(t){return t.lift(new f(e))}};var f=function(){function e(e){this.notifier=e}return e.prototype.call=function(e,t){return t.subscribe(new h(e,this.notifier,t))},e}(),h=function(e){function t(t,r,n){e.call(this,t),this.notifier=r,this.source=n,this.sourceIsBeingSubscribedTo=!0}return o(t,e),t.prototype.notifyNext=function(e,t,r,n,i){this.sourceIsBeingSubscribedTo=!0,this.source.subscribe(this)},t.prototype.notifyComplete=function(t){if(!1===this.sourceIsBeingSubscribedTo)return e.prototype.complete.call(this)},t.prototype.complete=function(){if(this.sourceIsBeingSubscribedTo=!1,!this.isStopped){if(this.retries){if(this.retriesSubscription.closed)return e.prototype.complete.call(this)}else this.subscribeToRetries();this._unsubscribeAndRecycle(),this.notifications.next()}},t.prototype._unsubscribe=function(){var e=this.notifications,t=this.retriesSubscription;e&&(e.unsubscribe(),this.notifications=null),t&&(t.unsubscribe(),this.retriesSubscription=null),this.retries=null},t.prototype._unsubscribeAndRecycle=function(){var t=this.notifications,r=this.retries,n=this.retriesSubscription;return this.notifications=null,this.retries=null,this.retriesSubscription=null,e.prototype._unsubscribeAndRecycle.call(this),this.notifications=t,this.retries=r,this.retriesSubscription=n,this},t.prototype.subscribeToRetries=function(){this.notifications=new s.Subject;var t=a.tryCatch(this.notifier)(this.notifications);if(t===u.errorObject)return e.prototype.complete.call(this);this.retries=t,this.retriesSubscription=l.subscribeToResult(this,t)},t}(c.OuterSubscriber)}),e.file("add/operator/retry.js",function(e,t,r,n,i){"use strict";var o=t("../../Observable"),s=t("../../operator/retry");o.Observable.prototype.retry=s.retry}),e.file("operator/retry.js",function(e,t,r,n,i){"use strict";var o=t("../operators/retry");e.retry=function(e){return void 0===e&&(e=-1),o.retry(e)(this)}}),e.file("operators/retry.js",function(e,t,r,n,i){"use strict";var o=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},s=t("../Subscriber");e.retry=function(e){return void 0===e&&(e=-1),function(t){return t.lift(new a(e,t))}};var a=function(){function e(e,t){this.count=e,this.source=t}return e.prototype.call=function(e,t){return t.subscribe(new u(e,this.count,this.source))},e}(),u=function(e){function t(t,r,n){e.call(this,t),this.count=r,this.source=n}return o(t,e),t.prototype.error=function(t){if(!this.isStopped){var r=this.source,n=this.count;if(0===n)return e.prototype.error.call(this,t);n>-1&&(this.count=n-1),r.subscribe(this._unsubscribeAndRecycle())}},t}(s.Subscriber)}),e.file("add/operator/retryWhen.js",function(e,t,r,n,i){"use strict";var o=t("../../Observable"),s=t("../../operator/retryWhen");o.Observable.prototype.retryWhen=s.retryWhen}),e.file("operator/retryWhen.js",function(e,t,r,n,i){"use strict";var o=t("../operators/retryWhen");e.retryWhen=function(e){return o.retryWhen(e)(this)}}),e.file("operators/retryWhen.js",function(e,t,r,n,i){"use strict";var o=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},s=t("../Subject"),a=t("../util/tryCatch"),u=t("../util/errorObject"),c=t("../OuterSubscriber"),l=t("../util/subscribeToResult");e.retryWhen=function(e){return function(t){return t.lift(new f(e,t))}};var f=function(){function e(e,t){this.notifier=e,this.source=t}return e.prototype.call=function(e,t){return t.subscribe(new h(e,this.notifier,this.source))},e}(),h=function(e){function t(t,r,n){e.call(this,t),this.notifier=r,this.source=n}return o(t,e),t.prototype.error=function(t){if(!this.isStopped){var r=this.errors,n=this.retries,i=this.retriesSubscription;if(n)this.errors=null,this.retriesSubscription=null;else{if(r=new s.Subject,(n=a.tryCatch(this.notifier)(r))===u.errorObject)return e.prototype.error.call(this,u.errorObject.e);i=l.subscribeToResult(this,n)}this._unsubscribeAndRecycle(),this.errors=r,this.retries=n,this.retriesSubscription=i,r.next(t)}},t.prototype._unsubscribe=function(){var e=this.errors,t=this.retriesSubscription;e&&(e.unsubscribe(),this.errors=null),t&&(t.unsubscribe(),this.retriesSubscription=null),this.retries=null},t.prototype.notifyNext=function(e,t,r,n,i){var o=this.errors,s=this.retries,a=this.retriesSubscription;this.errors=null,this.retries=null,this.retriesSubscription=null,this._unsubscribeAndRecycle(),this.errors=o,this.retries=s,this.retriesSubscription=a,this.source.subscribe(this)},t}(c.OuterSubscriber)}),e.file("add/operator/sample.js",function(e,t,r,n,i){"use strict";var o=t("../../Observable"),s=t("../../operator/sample");o.Observable.prototype.sample=s.sample}),e.file("operator/sample.js",function(e,t,r,n,i){"use strict";var o=t("../operators/sample");e.sample=function(e){return o.sample(e)(this)}}),e.file("operators/sample.js",function(e,t,r,n,i){"use strict";var o=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},s=t("../OuterSubscriber"),a=t("../util/subscribeToResult");e.sample=function(e){return function(t){return t.lift(new u(e))}};var u=function(){function e(e){this.notifier=e}return e.prototype.call=function(e,t){var r=new c(e),n=t.subscribe(r);return n.add(a.subscribeToResult(r,this.notifier)),n},e}(),c=function(e){function t(){e.apply(this,arguments),this.hasValue=!1}return o(t,e),t.prototype._next=function(e){this.value=e,this.hasValue=!0},t.prototype.notifyNext=function(e,t,r,n,i){this.emitValue()},t.prototype.notifyComplete=function(){this.emitValue()},t.prototype.emitValue=function(){this.hasValue&&(this.hasValue=!1,this.destination.next(this.value))},t}(s.OuterSubscriber)}),e.file("add/operator/sampleTime.js",function(e,t,r,n,i){"use strict";var o=t("../../Observable"),s=t("../../operator/sampleTime");o.Observable.prototype.sampleTime=s.sampleTime}),e.file("operator/sampleTime.js",function(e,t,r,n,i){"use strict";var o=t("../scheduler/async"),s=t("../operators/sampleTime");e.sampleTime=function(e,t){return void 0===t&&(t=o.async),s.sampleTime(e,t)(this)}}),e.file("operators/sampleTime.js",function(e,t,r,n,i){"use strict";var o=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},s=t("../Subscriber"),a=t("../scheduler/async");e.sampleTime=function(e,t){return void 0===t&&(t=a.async),function(r){return r.lift(new u(e,t))}};var u=function(){function e(e,t){this.period=e,this.scheduler=t}return e.prototype.call=function(e,t){return t.subscribe(new c(e,this.period,this.scheduler))},e}(),c=function(e){function t(t,r,n){e.call(this,t),this.period=r,this.scheduler=n,this.hasValue=!1,this.add(n.schedule(l,r,{subscriber:this,period:r}))}return o(t,e),t.prototype._next=function(e){this.lastValue=e,this.hasValue=!0},t.prototype.notifyNext=function(){this.hasValue&&(this.hasValue=!1,this.destination.next(this.lastValue))},t}(s.Subscriber);function l(e){var t=e.subscriber,r=e.period;t.notifyNext(),this.schedule(e,r)}}),e.file("add/operator/scan.js",function(e,t,r,n,i){"use strict";var o=t("../../Observable"),s=t("../../operator/scan");o.Observable.prototype.scan=s.scan}),e.file("operator/scan.js",function(e,t,r,n,i){"use strict";var o=t("../operators/scan");e.scan=function(e,t){return arguments.length>=2?o.scan(e,t)(this):o.scan(e)(this)}}),e.file("add/operator/sequenceEqual.js",function(e,t,r,n,i){"use strict";var o=t("../../Observable"),s=t("../../operator/sequenceEqual");o.Observable.prototype.sequenceEqual=s.sequenceEqual}),e.file("operator/sequenceEqual.js",function(e,t,r,n,i){"use strict";var o=t("../operators/sequenceEqual");e.sequenceEqual=function(e,t){return o.sequenceEqual(e,t)(this)}}),e.file("operators/sequenceEqual.js",function(e,t,r,n,i){"use strict";var o=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},s=t("../Subscriber"),a=t("../util/tryCatch"),u=t("../util/errorObject");e.sequenceEqual=function(e,t){return function(r){return r.lift(new c(e,t))}};var c=function(){function e(e,t){this.compareTo=e,this.comparor=t}return e.prototype.call=function(e,t){return t.subscribe(new l(e,this.compareTo,this.comparor))},e}();e.SequenceEqualOperator=c;var l=function(e){function t(t,r,n){e.call(this,t),this.compareTo=r,this.comparor=n,this._a=[],this._b=[],this._oneComplete=!1,this.add(r.subscribe(new f(t,this)))}return o(t,e),t.prototype._next=function(e){this._oneComplete&&0===this._b.length?this.emit(!1):(this._a.push(e),this.checkValues())},t.prototype._complete=function(){this._oneComplete?this.emit(0===this._a.length&&0===this._b.length):this._oneComplete=!0},t.prototype.checkValues=function(){for(var e=this._a,t=this._b,r=this.comparor;e.length>0&&t.length>0;){var n=e.shift(),i=t.shift(),o=!1;r?(o=a.tryCatch(r)(n,i))===u.errorObject&&this.destination.error(u.errorObject.e):o=n===i,o||this.emit(!1)}},t.prototype.emit=function(e){var t=this.destination;t.next(e),t.complete()},t.prototype.nextB=function(e){this._oneComplete&&0===this._a.length?this.emit(!1):(this._b.push(e),this.checkValues())},t}(s.Subscriber);e.SequenceEqualSubscriber=l;var f=function(e){function t(t,r){e.call(this,t),this.parent=r}return o(t,e),t.prototype._next=function(e){this.parent.nextB(e)},t.prototype._error=function(e){this.parent.error(e)},t.prototype._complete=function(){this.parent._complete()},t}(s.Subscriber)}),e.file("add/operator/share.js",function(e,t,r,n,i){"use strict";var o=t("../../Observable"),s=t("../../operator/share");o.Observable.prototype.share=s.share}),e.file("operator/share.js",function(e,t,r,n,i){"use strict";var o=t("../operators/share");e.share=function(){return o.share()(this)}}),e.file("operators/share.js",function(e,t,r,n,i){"use strict";var o=t("./multicast"),s=t("./refCount"),a=t("../Subject");function u(){return new a.Subject}e.share=function(){return function(e){return s.refCount()(o.multicast(u)(e))}}}),e.file("add/operator/shareReplay.js",function(e,t,r,n,i){"use strict";var o=t("../../Observable"),s=t("../../operator/shareReplay");o.Observable.prototype.shareReplay=s.shareReplay}),e.file("operator/shareReplay.js",function(e,t,r,n,i){"use strict";var o=t("../operators/shareReplay");e.shareReplay=function(e,t,r){return o.shareReplay(e,t,r)(this)}}),e.file("operators/shareReplay.js",function(e,t,r,n,i){"use strict";var o=t("../ReplaySubject");e.shareReplay=function(e,t,r){return function(n){return n.lift((i=e,s=t,a=r,l=0,f=!1,h=!1,function(e){l++,u&&!f||(f=!1,u=new o.ReplaySubject(i,s,a),c=e.subscribe({next:function(e){u.next(e)},error:function(e){f=!0,u.error(e)},complete:function(){h=!0,u.complete()}}));var t=u.subscribe(this);return function(){l--,t.unsubscribe(),c&&0===l&&h&&c.unsubscribe()}}));var i,s,a,u,c,l,f,h}}}),e.file("add/operator/single.js",function(e,t,r,n,i){"use strict";var o=t("../../Observable"),s=t("../../operator/single");o.Observable.prototype.single=s.single}),e.file("operator/single.js",function(e,t,r,n,i){"use strict";var o=t("../operators/single");e.single=function(e){return o.single(e)(this)}}),e.file("operators/single.js",function(e,t,r,n,i){"use strict";var o=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},s=t("../Subscriber"),a=t("../util/EmptyError");e.single=function(e){return function(t){return t.lift(new u(e,t))}};var u=function(){function e(e,t){this.predicate=e,this.source=t}return e.prototype.call=function(e,t){return t.subscribe(new c(e,this.predicate,this.source))},e}(),c=function(e){function t(t,r,n){e.call(this,t),this.predicate=r,this.source=n,this.seenValue=!1,this.index=0}return o(t,e),t.prototype.applySingleValue=function(e){this.seenValue?this.destination.error("Sequence contains more than one element"):(this.seenValue=!0,this.singleValue=e)},t.prototype._next=function(e){var t=this.index++;this.predicate?this.tryNext(e,t):this.applySingleValue(e)},t.prototype.tryNext=function(e,t){try{this.predicate(e,t,this.source)&&this.applySingleValue(e)}catch(e){this.destination.error(e)}},t.prototype._complete=function(){var e=this.destination;this.index>0?(e.next(this.seenValue?this.singleValue:void 0),e.complete()):e.error(new a.EmptyError)},t}(s.Subscriber)}),e.file("add/operator/skip.js",function(e,t,r,n,i){"use strict";var o=t("../../Observable"),s=t("../../operator/skip");o.Observable.prototype.skip=s.skip}),e.file("operator/skip.js",function(e,t,r,n,i){"use strict";var o=t("../operators/skip");e.skip=function(e){return o.skip(e)(this)}}),e.file("operators/skip.js",function(e,t,r,n,i){"use strict";var o=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},s=t("../Subscriber");e.skip=function(e){return function(t){return t.lift(new a(e))}};var a=function(){function e(e){this.total=e}return e.prototype.call=function(e,t){return t.subscribe(new u(e,this.total))},e}(),u=function(e){function t(t,r){e.call(this,t),this.total=r,this.count=0}return o(t,e),t.prototype._next=function(e){++this.count>this.total&&this.destination.next(e)},t}(s.Subscriber)}),e.file("add/operator/skipLast.js",function(e,t,r,n,i){"use strict";var o=t("../../Observable"),s=t("../../operator/skipLast");o.Observable.prototype.skipLast=s.skipLast}),e.file("operator/skipLast.js",function(e,t,r,n,i){"use strict";var o=t("../operators/skipLast");e.skipLast=function(e){return o.skipLast(e)(this)}}),e.file("operators/skipLast.js",function(e,t,r,n,i){"use strict";var o=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},s=t("../Subscriber"),a=t("../util/ArgumentOutOfRangeError");e.skipLast=function(e){return function(t){return t.lift(new u(e))}};var u=function(){function e(e){if(this._skipCount=e,this._skipCount<0)throw new a.ArgumentOutOfRangeError}return e.prototype.call=function(e,t){return 0===this._skipCount?t.subscribe(new s.Subscriber(e)):t.subscribe(new c(e,this._skipCount))},e}(),c=function(e){function t(t,r){e.call(this,t),this._skipCount=r,this._count=0,this._ring=new Array(r)}return o(t,e),t.prototype._next=function(e){var t=this._skipCount,r=this._count++;if(r<t)this._ring[r]=e;else{var n=r%t,i=this._ring,o=i[n];i[n]=e,this.destination.next(o)}},t}(s.Subscriber)}),e.file("add/operator/skipUntil.js",function(e,t,r,n,i){"use strict";var o=t("../../Observable"),s=t("../../operator/skipUntil");o.Observable.prototype.skipUntil=s.skipUntil}),e.file("operator/skipUntil.js",function(e,t,r,n,i){"use strict";var o=t("../operators/skipUntil");e.skipUntil=function(e){return o.skipUntil(e)(this)}}),e.file("operators/skipUntil.js",function(e,t,r,n,i){"use strict";var o=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},s=t("../OuterSubscriber"),a=t("../util/subscribeToResult");e.skipUntil=function(e){return function(t){return t.lift(new u(e))}};var u=function(){function e(e){this.notifier=e}return e.prototype.call=function(e,t){return t.subscribe(new c(e,this.notifier))},e}(),c=function(e){function t(t,r){e.call(this,t),this.hasValue=!1,this.isInnerStopped=!1,this.add(a.subscribeToResult(this,r))}return o(t,e),t.prototype._next=function(t){this.hasValue&&e.prototype._next.call(this,t)},t.prototype._complete=function(){this.isInnerStopped?e.prototype._complete.call(this):this.unsubscribe()},t.prototype.notifyNext=function(e,t,r,n,i){this.hasValue=!0},t.prototype.notifyComplete=function(){this.isInnerStopped=!0,this.isStopped&&e.prototype._complete.call(this)},t}(s.OuterSubscriber)}),e.file("add/operator/skipWhile.js",function(e,t,r,n,i){"use strict";var o=t("../../Observable"),s=t("../../operator/skipWhile");o.Observable.prototype.skipWhile=s.skipWhile}),e.file("operator/skipWhile.js",function(e,t,r,n,i){"use strict";var o=t("../operators/skipWhile");e.skipWhile=function(e){return o.skipWhile(e)(this)}}),e.file("operators/skipWhile.js",function(e,t,r,n,i){"use strict";var o=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},s=t("../Subscriber");e.skipWhile=function(e){return function(t){return t.lift(new a(e))}};var a=function(){function e(e){this.predicate=e}return e.prototype.call=function(e,t){return t.subscribe(new u(e,this.predicate))},e}(),u=function(e){function t(t,r){e.call(this,t),this.predicate=r,this.skipping=!0,this.index=0}return o(t,e),t.prototype._next=function(e){var t=this.destination;this.skipping&&this.tryCallPredicate(e),this.skipping||t.next(e)},t.prototype.tryCallPredicate=function(e){try{var t=this.predicate(e,this.index++);this.skipping=Boolean(t)}catch(e){this.destination.error(e)}},t}(s.Subscriber)}),e.file("add/operator/startWith.js",function(e,t,r,n,i){"use strict";var o=t("../../Observable"),s=t("../../operator/startWith");o.Observable.prototype.startWith=s.startWith}),e.file("operator/startWith.js",function(e,t,r,n,i){"use strict";var o=t("../operators/startWith");e.startWith=function(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];return o.startWith.apply(void 0,e)(this)}}),e.file("operators/startWith.js",function(e,t,r,n,i){"use strict";var o=t("../observable/ArrayObservable"),s=t("../observable/ScalarObservable"),a=t("../observable/EmptyObservable"),u=t("../observable/concat"),c=t("../util/isScheduler");e.startWith=function(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];return function(t){var r=e[e.length-1];c.isScheduler(r)?e.pop():r=null;var n=e.length;return 1===n?u.concat(new s.ScalarObservable(e[0],r),t):n>1?u.concat(new o.ArrayObservable(e,r),t):u.concat(new a.EmptyObservable(r),t)}}}),e.file("add/operator/subscribeOn.js",function(e,t,r,n,i){"use strict";var o=t("../../Observable"),s=t("../../operator/subscribeOn");o.Observable.prototype.subscribeOn=s.subscribeOn}),e.file("operator/subscribeOn.js",function(e,t,r,n,i){"use strict";var o=t("../operators/subscribeOn");e.subscribeOn=function(e,t){return void 0===t&&(t=0),o.subscribeOn(e,t)(this)}}),e.file("operators/subscribeOn.js",function(e,t,r,n,i){"use strict";var o=t("../observable/SubscribeOnObservable");e.subscribeOn=function(e,t){return void 0===t&&(t=0),function(r){return r.lift(new s(e,t))}};var s=function(){function e(e,t){this.scheduler=e,this.delay=t}return e.prototype.call=function(e,t){return new o.SubscribeOnObservable(t,this.delay,this.scheduler).subscribe(e)},e}()}),e.file("observable/SubscribeOnObservable.js",function(e,t,r,n,i){"use strict";var o=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},s=t("../Observable"),a=t("../scheduler/asap"),u=t("../util/isNumeric"),c=function(e){function t(t,r,n){void 0===r&&(r=0),void 0===n&&(n=a.asap),e.call(this),this.source=t,this.delayTime=r,this.scheduler=n,(!u.isNumeric(r)||r<0)&&(this.delayTime=0),n&&"function"==typeof n.schedule||(this.scheduler=a.asap)}return o(t,e),t.create=function(e,r,n){return void 0===r&&(r=0),void 0===n&&(n=a.asap),new t(e,r,n)},t.dispatch=function(e){var t=e.source,r=e.subscriber;return this.add(t.subscribe(r))},t.prototype._subscribe=function(e){var r=this.delayTime,n=this.source;return this.scheduler.schedule(t.dispatch,r,{source:n,subscriber:e})},t}(s.Observable);e.SubscribeOnObservable=c}),e.file("scheduler/asap.js",function(e,t,r,n,i){"use strict";var o=t("./AsapAction"),s=t("./AsapScheduler");e.asap=new s.AsapScheduler(o.AsapAction)}),e.file("scheduler/AsapAction.js",function(e,t,r,n,i){"use strict";var o=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},s=t("../util/Immediate"),a=function(e){function t(t,r){e.call(this,t,r),this.scheduler=t,this.work=r}return o(t,e),t.prototype.requestAsyncId=function(t,r,n){return void 0===n&&(n=0),null!==n&&n>0?e.prototype.requestAsyncId.call(this,t,r,n):(t.actions.push(this),t.scheduled||(t.scheduled=s.Immediate.setImmediate(t.flush.bind(t,null))))},t.prototype.recycleAsyncId=function(t,r,n){if(void 0===n&&(n=0),null!==n&&n>0||null===n&&this.delay>0)return e.prototype.recycleAsyncId.call(this,t,r,n);0===t.actions.length&&(s.Immediate.clearImmediate(r),t.scheduled=void 0)},t}(t("./AsyncAction").AsyncAction);e.AsapAction=a}),e.file("util/Immediate.js",function(e,t,r,n,i){t("process");var o=t("./root"),s=function(){function e(e){if(this.root=e,e.setImmediate&&"function"==typeof e.setImmediate)this.setImmediate=e.setImmediate.bind(e),this.clearImmediate=e.clearImmediate.bind(e);else{this.nextHandle=1,this.tasksByHandle={},this.currentlyRunningATask=!1,this.canUseProcessNextTick()?this.setImmediate=this.createProcessNextTickSetImmediate():this.canUsePostMessage()?this.setImmediate=this.createPostMessageSetImmediate():this.canUseMessageChannel()?this.setImmediate=this.createMessageChannelSetImmediate():this.canUseReadyStateChange()?this.setImmediate=this.createReadyStateChangeSetImmediate():this.setImmediate=this.createSetTimeoutSetImmediate();var t=function e(t){delete e.instance.tasksByHandle[t]};t.instance=this,this.clearImmediate=t}}return e.prototype.identify=function(e){return this.root.Object.prototype.toString.call(e)},e.prototype.canUseProcessNextTick=function(){return"[object process]"===this.identify(this.root.process)},e.prototype.canUseMessageChannel=function(){return Boolean(this.root.MessageChannel)},e.prototype.canUseReadyStateChange=function(){var e=this.root.document;return Boolean(e&&"onreadystatechange"in e.createElement("script"))},e.prototype.canUsePostMessage=function(){var e=this.root;if(e.postMessage&&!e.importScripts){var t=!0,r=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=r,t}return!1},e.prototype.partiallyApplied=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];var n=function e(){var t=e.handler,r=e.args;"function"==typeof t?t.apply(void 0,r):new Function(""+t)()};return n.handler=e,n.args=t,n},e.prototype.addFromSetImmediateArguments=function(e){return this.tasksByHandle[this.nextHandle]=this.partiallyApplied.apply(void 0,e),this.nextHandle++},e.prototype.createProcessNextTickSetImmediate=function(){var e=function e(){var t=e.instance,r=t.addFromSetImmediateArguments(arguments);return t.root.process.nextTick(t.partiallyApplied(t.runIfPresent,r)),r};return e.instance=this,e},e.prototype.createPostMessageSetImmediate=function(){var e=this.root,t="setImmediate$"+e.Math.random()+"$",r=function r(n){var i=r.instance;n.source===e&&"string"==typeof n.data&&0===n.data.indexOf(t)&&i.runIfPresent(+n.data.slice(t.length))};r.instance=this,e.addEventListener("message",r,!1);var n=function e(){var t=e.messagePrefix,r=e.instance,n=r.addFromSetImmediateArguments(arguments);return r.root.postMessage(t+n,"*"),n};return n.instance=this,n.messagePrefix=t,n},e.prototype.runIfPresent=function(e){if(this.currentlyRunningATask)this.root.setTimeout(this.partiallyApplied(this.runIfPresent,e),0);else{var t=this.tasksByHandle[e];if(t){this.currentlyRunningATask=!0;try{t()}finally{this.clearImmediate(e),this.currentlyRunningATask=!1}}}},e.prototype.createMessageChannelSetImmediate=function(){var e=this,t=new this.root.MessageChannel;t.port1.onmessage=function(t){var r=t.data;e.runIfPresent(r)};var r=function e(){var t=e.channel,r=e.instance.addFromSetImmediateArguments(arguments);return t.port2.postMessage(r),r};return r.channel=t,r.instance=this,r},e.prototype.createReadyStateChangeSetImmediate=function(){var e=function e(){var t=e.instance,r=t.root.document,n=r.documentElement,i=t.addFromSetImmediateArguments(arguments),o=r.createElement("script");return o.onreadystatechange=function(){t.runIfPresent(i),o.onreadystatechange=null,n.removeChild(o),o=null},n.appendChild(o),i};return e.instance=this,e},e.prototype.createSetTimeoutSetImmediate=function(){var e=function e(){var t=e.instance,r=t.addFromSetImmediateArguments(arguments);return t.root.setTimeout(t.partiallyApplied(t.runIfPresent,r),0),r};return e.instance=this,e},e}();e.ImmediateDefinition=s,e.Immediate=new s(o.root)}),e.file("scheduler/AsapScheduler.js",function(e,t,r,n,i){"use strict";var o=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},s=function(e){function t(){e.apply(this,arguments)}return o(t,e),t.prototype.flush=function(e){this.active=!0,this.scheduled=void 0;var t,r=this.actions,n=-1,i=r.length;e=e||r.shift();do{if(t=e.execute(e.state,e.delay))break}while(++n<i&&(e=r.shift()));if(this.active=!1,t){for(;++n<i&&(e=r.shift());)e.unsubscribe();throw t}},t}(t("./AsyncScheduler").AsyncScheduler);e.AsapScheduler=s}),e.file("add/operator/switch.js",function(e,t,r,n,i){"use strict";var o=t("../../Observable"),s=t("../../operator/switch");o.Observable.prototype.switch=s._switch,o.Observable.prototype._switch=s._switch}),e.file("operator/switch.js",function(e,t,r,n,i){"use strict";var o=t("../operators/switchAll");e._switch=function(){return o.switchAll()(this)}}),e.file("operators/switchAll.js",function(e,t,r,n,i){"use strict";var o=t("./switchMap"),s=t("../util/identity");e.switchAll=function(){return o.switchMap(s.identity)}}),e.file("operators/switchMap.js",function(e,t,r,n,i){"use strict";var o=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},s=t("../OuterSubscriber"),a=t("../util/subscribeToResult");e.switchMap=function(e,t){return function(r){return r.lift(new u(e,t))}};var u=function(){function e(e,t){this.project=e,this.resultSelector=t}return e.prototype.call=function(e,t){return t.subscribe(new c(e,this.project,this.resultSelector))},e}(),c=function(e){function t(t,r,n){e.call(this,t),this.project=r,this.resultSelector=n,this.index=0}return o(t,e),t.prototype._next=function(e){var t,r=this.index++;try{t=this.project(e,r)}catch(e){return void this.destination.error(e)}this._innerSub(t,e,r)},t.prototype._innerSub=function(e,t,r){var n=this.innerSubscription;n&&n.unsubscribe(),this.add(this.innerSubscription=a.subscribeToResult(this,e,t,r))},t.prototype._complete=function(){var t=this.innerSubscription;t&&!t.closed||e.prototype._complete.call(this)},t.prototype._unsubscribe=function(){this.innerSubscription=null},t.prototype.notifyComplete=function(t){this.remove(t),this.innerSubscription=null,this.isStopped&&e.prototype._complete.call(this)},t.prototype.notifyNext=function(e,t,r,n,i){this.resultSelector?this._tryNotifyNext(e,t,r,n):this.destination.next(t)},t.prototype._tryNotifyNext=function(e,t,r,n){var i;try{i=this.resultSelector(e,t,r,n)}catch(e){return void this.destination.error(e)}this.destination.next(i)},t}(s.OuterSubscriber)}),e.file("add/operator/switchMap.js",function(e,t,r,n,i){"use strict";var o=t("../../Observable"),s=t("../../operator/switchMap");o.Observable.prototype.switchMap=s.switchMap}),e.file("operator/switchMap.js",function(e,t,r,n,i){"use strict";var o=t("../operators/switchMap");e.switchMap=function(e,t){return o.switchMap(e,t)(this)}}),e.file("add/operator/switchMapTo.js",function(e,t,r,n,i){"use strict";var o=t("../../Observable"),s=t("../../operator/switchMapTo");o.Observable.prototype.switchMapTo=s.switchMapTo}),e.file("operator/switchMapTo.js",function(e,t,r,n,i){"use strict";var o=t("../operators/switchMapTo");e.switchMapTo=function(e,t){return o.switchMapTo(e,t)(this)}}),e.file("operators/switchMapTo.js",function(e,t,r,n,i){"use strict";var o=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},s=t("../OuterSubscriber"),a=t("../util/subscribeToResult");e.switchMapTo=function(e,t){return function(r){return r.lift(new u(e,t))}};var u=function(){function e(e,t){this.observable=e,this.resultSelector=t}return e.prototype.call=function(e,t){return t.subscribe(new c(e,this.observable,this.resultSelector))},e}(),c=function(e){function t(t,r,n){e.call(this,t),this.inner=r,this.resultSelector=n,this.index=0}return o(t,e),t.prototype._next=function(e){var t=this.innerSubscription;t&&t.unsubscribe(),this.add(this.innerSubscription=a.subscribeToResult(this,this.inner,e,this.index++))},t.prototype._complete=function(){var t=this.innerSubscription;t&&!t.closed||e.prototype._complete.call(this)},t.prototype._unsubscribe=function(){this.innerSubscription=null},t.prototype.notifyComplete=function(t){this.remove(t),this.innerSubscription=null,this.isStopped&&e.prototype._complete.call(this)},t.prototype.notifyNext=function(e,t,r,n,i){var o=this.resultSelector,s=this.destination;o?this.tryResultSelector(e,t,r,n):s.next(t)},t.prototype.tryResultSelector=function(e,t,r,n){var i,o=this.resultSelector,s=this.destination;try{i=o(e,t,r,n)}catch(e){return void s.error(e)}s.next(i)},t}(s.OuterSubscriber)}),e.file("add/operator/take.js",function(e,t,r,n,i){"use strict";var o=t("../../Observable"),s=t("../../operator/take");o.Observable.prototype.take=s.take}),e.file("operator/take.js",function(e,t,r,n,i){"use strict";var o=t("../operators/take");e.take=function(e){return o.take(e)(this)}}),e.file("operators/take.js",function(e,t,r,n,i){"use strict";var o=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},s=t("../Subscriber"),a=t("../util/ArgumentOutOfRangeError"),u=t("../observable/EmptyObservable");e.take=function(e){return function(t){return 0===e?new u.EmptyObservable:t.lift(new c(e))}};var c=function(){function e(e){if(this.total=e,this.total<0)throw new a.ArgumentOutOfRangeError}return e.prototype.call=function(e,t){return t.subscribe(new l(e,this.total))},e}(),l=function(e){function t(t,r){e.call(this,t),this.total=r,this.count=0}return o(t,e),t.prototype._next=function(e){var t=this.total,r=++this.count;r<=t&&(this.destination.next(e),r===t&&(this.destination.complete(),this.unsubscribe()))},t}(s.Subscriber)}),e.file("add/operator/takeLast.js",function(e,t,r,n,i){"use strict";var o=t("../../Observable"),s=t("../../operator/takeLast");o.Observable.prototype.takeLast=s.takeLast}),e.file("operator/takeLast.js",function(e,t,r,n,i){"use strict";var o=t("../operators/takeLast");e.takeLast=function(e){return o.takeLast(e)(this)}}),e.file("add/operator/takeUntil.js",function(e,t,r,n,i){"use strict";var o=t("../../Observable"),s=t("../../operator/takeUntil");o.Observable.prototype.takeUntil=s.takeUntil}),e.file("operator/takeUntil.js",function(e,t,r,n,i){"use strict";var o=t("../operators/takeUntil");e.takeUntil=function(e){return o.takeUntil(e)(this)}}),e.file("operators/takeUntil.js",function(e,t,r,n,i){"use strict";var o=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},s=t("../OuterSubscriber"),a=t("../util/subscribeToResult");e.takeUntil=function(e){return function(t){return t.lift(new u(e))}};var u=function(){function e(e){this.notifier=e}return e.prototype.call=function(e,t){return t.subscribe(new c(e,this.notifier))},e}(),c=function(e){function t(t,r){e.call(this,t),this.notifier=r,this.add(a.subscribeToResult(this,r))}return o(t,e),t.prototype.notifyNext=function(e,t,r,n,i){this.complete()},t.prototype.notifyComplete=function(){},t}(s.OuterSubscriber)}),e.file("add/operator/takeWhile.js",function(e,t,r,n,i){"use strict";var o=t("../../Observable"),s=t("../../operator/takeWhile");o.Observable.prototype.takeWhile=s.takeWhile}),e.file("operator/takeWhile.js",function(e,t,r,n,i){"use strict";var o=t("../operators/takeWhile");e.takeWhile=function(e){return o.takeWhile(e)(this)}}),e.file("operators/takeWhile.js",function(e,t,r,n,i){"use strict";var o=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},s=t("../Subscriber");e.takeWhile=function(e){return function(t){return t.lift(new a(e))}};var a=function(){function e(e){this.predicate=e}return e.prototype.call=function(e,t){return t.subscribe(new u(e,this.predicate))},e}(),u=function(e){function t(t,r){e.call(this,t),this.predicate=r,this.index=0}return o(t,e),t.prototype._next=function(e){var t,r=this.destination;try{t=this.predicate(e,this.index++)}catch(e){return void r.error(e)}this.nextOrComplete(e,t)},t.prototype.nextOrComplete=function(e,t){var r=this.destination;Boolean(t)?r.next(e):r.complete()},t}(s.Subscriber)}),e.file("add/operator/throttle.js",function(e,t,r,n,i){"use strict";var o=t("../../Observable"),s=t("../../operator/throttle");o.Observable.prototype.throttle=s.throttle}),e.file("operator/throttle.js",function(e,t,r,n,i){"use strict";var o=t("../operators/throttle");e.throttle=function(e,t){return void 0===t&&(t=o.defaultThrottleConfig),o.throttle(e,t)(this)}}),e.file("operators/throttle.js",function(e,t,r,n,i){"use strict";var o=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},s=t("../OuterSubscriber"),a=t("../util/subscribeToResult");e.defaultThrottleConfig={leading:!0,trailing:!1},e.throttle=function(t,r){return void 0===r&&(r=e.defaultThrottleConfig),function(e){return e.lift(new u(t,r.leading,r.trailing))}};var u=function(){function e(e,t,r){this.durationSelector=e,this.leading=t,this.trailing=r}return e.prototype.call=function(e,t){return t.subscribe(new c(e,this.durationSelector,this.leading,this.trailing))},e}(),c=function(e){function t(t,r,n,i){e.call(this,t),this.destination=t,this.durationSelector=r,this._leading=n,this._trailing=i,this._hasTrailingValue=!1}return o(t,e),t.prototype._next=function(e){if(this.throttled)this._trailing&&(this._hasTrailingValue=!0,this._trailingValue=e);else{var t=this.tryDurationSelector(e);t&&this.add(this.throttled=a.subscribeToResult(this,t)),this._leading&&(this.destination.next(e),this._trailing&&(this._hasTrailingValue=!0,this._trailingValue=e))}},t.prototype.tryDurationSelector=function(e){try{return this.durationSelector(e)}catch(e){return this.destination.error(e),null}},t.prototype._unsubscribe=function(){var e=this.throttled;this._trailingValue,this._hasTrailingValue,this._trailing;this._trailingValue=null,this._hasTrailingValue=!1,e&&(this.remove(e),this.throttled=null,e.unsubscribe())},t.prototype._sendTrailing=function(){var e=this.destination,t=this.throttled,r=this._trailing,n=this._trailingValue,i=this._hasTrailingValue;t&&r&&i&&(e.next(n),this._trailingValue=null,this._hasTrailingValue=!1)},t.prototype.notifyNext=function(e,t,r,n,i){this._sendTrailing(),this._unsubscribe()},t.prototype.notifyComplete=function(){this._sendTrailing(),this._unsubscribe()},t}(s.OuterSubscriber)}),e.file("add/operator/throttleTime.js",function(e,t,r,n,i){"use strict";var o=t("../../Observable"),s=t("../../operator/throttleTime");o.Observable.prototype.throttleTime=s.throttleTime}),e.file("operator/throttleTime.js",function(e,t,r,n,i){"use strict";var o=t("../scheduler/async"),s=t("../operators/throttle"),a=t("../operators/throttleTime");e.throttleTime=function(e,t,r){return void 0===t&&(t=o.async),void 0===r&&(r=s.defaultThrottleConfig),a.throttleTime(e,t,r)(this)}}),e.file("operators/throttleTime.js",function(e,t,r,n,i){"use strict";var o=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},s=t("../Subscriber"),a=t("../scheduler/async"),u=t("./throttle");e.throttleTime=function(e,t,r){return void 0===t&&(t=a.async),void 0===r&&(r=u.defaultThrottleConfig),function(n){return n.lift(new c(e,t,r.leading,r.trailing))}};var c=function(){function e(e,t,r,n){this.duration=e,this.scheduler=t,this.leading=r,this.trailing=n}return e.prototype.call=function(e,t){return t.subscribe(new l(e,this.duration,this.scheduler,this.leading,this.trailing))},e}(),l=function(e){function t(t,r,n,i,o){e.call(this,t),this.duration=r,this.scheduler=n,this.leading=i,this.trailing=o,this._hasTrailingValue=!1,this._trailingValue=null}return o(t,e),t.prototype._next=function(e){this.throttled?this.trailing&&(this._trailingValue=e,this._hasTrailingValue=!0):(this.add(this.throttled=this.scheduler.schedule(f,this.duration,{subscriber:this})),this.leading&&this.destination.next(e))},t.prototype.clearThrottle=function(){var e=this.throttled;e&&(this.trailing&&this._hasTrailingValue&&(this.destination.next(this._trailingValue),this._trailingValue=null,this._hasTrailingValue=!1),e.unsubscribe(),this.remove(e),this.throttled=null)},t}(s.Subscriber);function f(e){e.subscriber.clearThrottle()}}),e.file("add/operator/timeInterval.js",function(e,t,r,n,i){"use strict";var o=t("../../Observable"),s=t("../../operator/timeInterval");o.Observable.prototype.timeInterval=s.timeInterval}),e.file("operator/timeInterval.js",function(e,t,r,n,i){"use strict";var o=t("../scheduler/async"),s=t("../operators/timeInterval");e.TimeInterval=s.TimeInterval,e.timeInterval=function(e){return void 0===e&&(e=o.async),s.timeInterval(e)(this)}}),e.file("operators/timeInterval.js",function(e,t,r,n,i){"use strict";var o=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},s=t("../Subscriber"),a=t("../scheduler/async");e.timeInterval=function(e){return void 0===e&&(e=a.async),function(t){return t.lift(new c(e))}};var u=function(){return function(e,t){this.value=e,this.interval=t}}();e.TimeInterval=u;var c=function(){function e(e){this.scheduler=e}return e.prototype.call=function(e,t){return t.subscribe(new l(e,this.scheduler))},e}(),l=function(e){function t(t,r){e.call(this,t),this.scheduler=r,this.lastTime=0,this.lastTime=r.now()}return o(t,e),t.prototype._next=function(e){var t=this.scheduler.now(),r=t-this.lastTime;this.lastTime=t,this.destination.next(new u(e,r))},t}(s.Subscriber)}),e.file("add/operator/timeout.js",function(e,t,r,n,i){"use strict";var o=t("../../Observable"),s=t("../../operator/timeout");o.Observable.prototype.timeout=s.timeout}),e.file("operator/timeout.js",function(e,t,r,n,i){"use strict";var o=t("../scheduler/async"),s=t("../operators/timeout");e.timeout=function(e,t){return void 0===t&&(t=o.async),s.timeout(e,t)(this)}}),e.file("operators/timeout.js",function(e,t,r,n,i){"use strict";var o=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},s=t("../scheduler/async"),a=t("../util/isDate"),u=t("../Subscriber"),c=t("../util/TimeoutError");e.timeout=function(e,t){void 0===t&&(t=s.async);var r=a.isDate(e),n=r?+e-t.now():Math.abs(e);return function(e){return e.lift(new l(n,r,t,new c.TimeoutError))}};var l=function(){function e(e,t,r,n){this.waitFor=e,this.absoluteTimeout=t,this.scheduler=r,this.errorInstance=n}return e.prototype.call=function(e,t){return t.subscribe(new f(e,this.absoluteTimeout,this.waitFor,this.scheduler,this.errorInstance))},e}(),f=function(e){function t(t,r,n,i,o){e.call(this,t),this.absoluteTimeout=r,this.waitFor=n,this.scheduler=i,this.errorInstance=o,this.action=null,this.scheduleTimeout()}return o(t,e),t.dispatchTimeout=function(e){e.error(e.errorInstance)},t.prototype.scheduleTimeout=function(){var e=this.action;e?this.action=e.schedule(this,this.waitFor):this.add(this.action=this.scheduler.schedule(t.dispatchTimeout,this.waitFor,this))},t.prototype._next=function(t){this.absoluteTimeout||this.scheduleTimeout(),e.prototype._next.call(this,t)},t.prototype._unsubscribe=function(){this.action=null,this.scheduler=null,this.errorInstance=null},t}(u.Subscriber)}),e.file("util/TimeoutError.js",function(e,t,r,n,i){"use strict";var o=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},s=function(e){function t(){var t=e.call(this,"Timeout has occurred");this.name=t.name="TimeoutError",this.stack=t.stack,this.message=t.message}return o(t,e),t}(Error);e.TimeoutError=s}),e.file("add/operator/timeoutWith.js",function(e,t,r,n,i){"use strict";var o=t("../../Observable"),s=t("../../operator/timeoutWith");o.Observable.prototype.timeoutWith=s.timeoutWith}),e.file("operator/timeoutWith.js",function(e,t,r,n,i){"use strict";var o=t("../scheduler/async"),s=t("../operators/timeoutWith");e.timeoutWith=function(e,t,r){return void 0===r&&(r=o.async),s.timeoutWith(e,t,r)(this)}}),e.file("operators/timeoutWith.js",function(e,t,r,n,i){"use strict";var o=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},s=t("../scheduler/async"),a=t("../util/isDate"),u=t("../OuterSubscriber"),c=t("../util/subscribeToResult");e.timeoutWith=function(e,t,r){return void 0===r&&(r=s.async),function(n){var i=a.isDate(e),o=i?+e-r.now():Math.abs(e);return n.lift(new l(o,i,t,r))}};var l=function(){function e(e,t,r,n){this.waitFor=e,this.absoluteTimeout=t,this.withObservable=r,this.scheduler=n}return e.prototype.call=function(e,t){return t.subscribe(new f(e,this.absoluteTimeout,this.waitFor,this.withObservable,this.scheduler))},e}(),f=function(e){function t(t,r,n,i,o){e.call(this,t),this.absoluteTimeout=r,this.waitFor=n,this.withObservable=i,this.scheduler=o,this.action=null,this.scheduleTimeout()}return o(t,e),t.dispatchTimeout=function(e){var t=e.withObservable;e._unsubscribeAndRecycle(),e.add(c.subscribeToResult(e,t))},t.prototype.scheduleTimeout=function(){var e=this.action;e?this.action=e.schedule(this,this.waitFor):this.add(this.action=this.scheduler.schedule(t.dispatchTimeout,this.waitFor,this))},t.prototype._next=function(t){this.absoluteTimeout||this.scheduleTimeout(),e.prototype._next.call(this,t)},t.prototype._unsubscribe=function(){this.action=null,this.scheduler=null,this.withObservable=null},t}(u.OuterSubscriber)}),e.file("add/operator/timestamp.js",function(e,t,r,n,i){"use strict";var o=t("../../Observable"),s=t("../../operator/timestamp");o.Observable.prototype.timestamp=s.timestamp}),e.file("operator/timestamp.js",function(e,t,r,n,i){"use strict";var o=t("../scheduler/async"),s=t("../operators/timestamp");e.timestamp=function(e){return void 0===e&&(e=o.async),s.timestamp(e)(this)}}),e.file("operators/timestamp.js",function(e,t,r,n,i){"use strict";var o=t("../scheduler/async"),s=t("./map");e.timestamp=function(e){return void 0===e&&(e=o.async),s.map(function(t){return new a(t,e.now())})};var a=function(){return function(e,t){this.value=e,this.timestamp=t}}();e.Timestamp=a}),e.file("add/operator/toArray.js",function(e,t,r,n,i){"use strict";var o=t("../../Observable"),s=t("../../operator/toArray");o.Observable.prototype.toArray=s.toArray}),e.file("operator/toArray.js",function(e,t,r,n,i){"use strict";var o=t("../operators/toArray");e.toArray=function(){return o.toArray()(this)}}),e.file("operators/toArray.js",function(e,t,r,n,i){"use strict";var o=t("./reduce");function s(e,t,r){return e.push(t),e}e.toArray=function(){return o.reduce(s,[])}}),e.file("add/operator/toPromise.js",function(e,t,r,n,i){}),e.file("add/operator/window.js",function(e,t,r,n,i){"use strict";var o=t("../../Observable"),s=t("../../operator/window");o.Observable.prototype.window=s.window}),e.file("operator/window.js",function(e,t,r,n,i){"use strict";var o=t("../operators/window");e.window=function(e){return o.window(e)(this)}}),e.file("operators/window.js",function(e,t,r,n,i){"use strict";var o=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},s=t("../Subject"),a=t("../OuterSubscriber"),u=t("../util/subscribeToResult");e.window=function(e){return function(t){return t.lift(new c(e))}};var c=function(){function e(e){this.windowBoundaries=e}return e.prototype.call=function(e,t){var r=new l(e),n=t.subscribe(r);return n.closed||r.add(u.subscribeToResult(r,this.windowBoundaries)),n},e}(),l=function(e){function t(t){e.call(this,t),this.window=new s.Subject,t.next(this.window)}return o(t,e),t.prototype.notifyNext=function(e,t,r,n,i){this.openWindow()},t.prototype.notifyError=function(e,t){this._error(e)},t.prototype.notifyComplete=function(e){this._complete()},t.prototype._next=function(e){this.window.next(e)},t.prototype._error=function(e){this.window.error(e),this.destination.error(e)},t.prototype._complete=function(){this.window.complete(),this.destination.complete()},t.prototype._unsubscribe=function(){this.window=null},t.prototype.openWindow=function(){var e=this.window;e&&e.complete();var t=this.destination,r=this.window=new s.Subject;t.next(r)},t}(a.OuterSubscriber)}),e.file("add/operator/windowCount.js",function(e,t,r,n,i){"use strict";var o=t("../../Observable"),s=t("../../operator/windowCount");o.Observable.prototype.windowCount=s.windowCount}),e.file("operator/windowCount.js",function(e,t,r,n,i){"use strict";var o=t("../operators/windowCount");e.windowCount=function(e,t){return void 0===t&&(t=0),o.windowCount(e,t)(this)}}),e.file("operators/windowCount.js",function(e,t,r,n,i){"use strict";var o=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},s=t("../Subscriber"),a=t("../Subject");e.windowCount=function(e,t){return void 0===t&&(t=0),function(r){return r.lift(new u(e,t))}};var u=function(){function e(e,t){this.windowSize=e,this.startWindowEvery=t}return e.prototype.call=function(e,t){return t.subscribe(new c(e,this.windowSize,this.startWindowEvery))},e}(),c=function(e){function t(t,r,n){e.call(this,t),this.destination=t,this.windowSize=r,this.startWindowEvery=n,this.windows=[new a.Subject],this.count=0,t.next(this.windows[0])}return o(t,e),t.prototype._next=function(e){for(var t=this.startWindowEvery>0?this.startWindowEvery:this.windowSize,r=this.destination,n=this.windowSize,i=this.windows,o=i.length,s=0;s<o&&!this.closed;s++)i[s].next(e);var u=this.count-n+1;if(u>=0&&u%t==0&&!this.closed&&i.shift().complete(),++this.count%t==0&&!this.closed){var c=new a.Subject;i.push(c),r.next(c)}},t.prototype._error=function(e){var t=this.windows;if(t)for(;t.length>0&&!this.closed;)t.shift().error(e);this.destination.error(e)},t.prototype._complete=function(){var e=this.windows;if(e)for(;e.length>0&&!this.closed;)e.shift().complete();this.destination.complete()},t.prototype._unsubscribe=function(){this.count=0,this.windows=null},t}(s.Subscriber)}),e.file("add/operator/windowTime.js",function(e,t,r,n,i){"use strict";var o=t("../../Observable"),s=t("../../operator/windowTime");o.Observable.prototype.windowTime=s.windowTime}),e.file("operator/windowTime.js",function(e,t,r,n,i){"use strict";var o=t("../scheduler/async"),s=t("../util/isNumeric"),a=t("../util/isScheduler"),u=t("../operators/windowTime");e.windowTime=function(e){var t=o.async,r=null,n=Number.POSITIVE_INFINITY;return a.isScheduler(arguments[3])&&(t=arguments[3]),a.isScheduler(arguments[2])?t=arguments[2]:s.isNumeric(arguments[2])&&(n=arguments[2]),a.isScheduler(arguments[1])?t=arguments[1]:s.isNumeric(arguments[1])&&(r=arguments[1]),u.windowTime(e,r,n,t)(this)}}),e.file("operators/windowTime.js",function(e,t,r,n,i){"use strict";var o=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},s=t("../Subject"),a=t("../scheduler/async"),u=t("../Subscriber"),c=t("../util/isNumeric"),l=t("../util/isScheduler");e.windowTime=function(e){var t=a.async,r=null,n=Number.POSITIVE_INFINITY;return l.isScheduler(arguments[3])&&(t=arguments[3]),l.isScheduler(arguments[2])?t=arguments[2]:c.isNumeric(arguments[2])&&(n=arguments[2]),l.isScheduler(arguments[1])?t=arguments[1]:c.isNumeric(arguments[1])&&(r=arguments[1]),function(i){return i.lift(new f(e,r,n,t))}};var f=function(){function e(e,t,r,n){this.windowTimeSpan=e,this.windowCreationInterval=t,this.maxWindowSize=r,this.scheduler=n}return e.prototype.call=function(e,t){return t.subscribe(new p(e,this.windowTimeSpan,this.windowCreationInterval,this.maxWindowSize,this.scheduler))},e}(),h=function(e){function t(){e.apply(this,arguments),this._numberOfNextedValues=0}return o(t,e),t.prototype.next=function(t){this._numberOfNextedValues++,e.prototype.next.call(this,t)},Object.defineProperty(t.prototype,"numberOfNextedValues",{get:function(){return this._numberOfNextedValues},enumerable:!0,configurable:!0}),t}(s.Subject),p=function(e){function t(t,r,n,i,o){e.call(this,t),this.destination=t,this.windowTimeSpan=r,this.windowCreationInterval=n,this.maxWindowSize=i,this.scheduler=o,this.windows=[];var s=this.openWindow();if(null!==n&&n>=0){var a={subscriber:this,window:s,context:null},u={windowTimeSpan:r,windowCreationInterval:n,subscriber:this,scheduler:o};this.add(o.schedule(m,r,a)),this.add(o.schedule(v,n,u))}else{var c={subscriber:this,window:s,windowTimeSpan:r};this.add(o.schedule(d,r,c))}}return o(t,e),t.prototype._next=function(e){for(var t=this.windows,r=t.length,n=0;n<r;n++){var i=t[n];i.closed||(i.next(e),i.numberOfNextedValues>=this.maxWindowSize&&this.closeWindow(i))}},t.prototype._error=function(e){for(var t=this.windows;t.length>0;)t.shift().error(e);this.destination.error(e)},t.prototype._complete=function(){for(var e=this.windows;e.length>0;){var t=e.shift();t.closed||t.complete()}this.destination.complete()},t.prototype.openWindow=function(){var e=new h;return this.windows.push(e),this.destination.next(e),e},t.prototype.closeWindow=function(e){e.complete();var t=this.windows;t.splice(t.indexOf(e),1)},t}(u.Subscriber);function d(e){var t=e.subscriber,r=e.windowTimeSpan,n=e.window;n&&t.closeWindow(n),e.window=t.openWindow(),this.schedule(e,r)}function v(e){var t=e.windowTimeSpan,r=e.subscriber,n=e.scheduler,i=e.windowCreationInterval,o={action:this,subscription:null},s={subscriber:r,window:r.openWindow(),context:o};o.subscription=n.schedule(m,t,s),this.add(o.subscription),this.schedule(e,i)}function m(e){var t=e.subscriber,r=e.window,n=e.context;n&&n.action&&n.subscription&&n.action.remove(n.subscription),t.closeWindow(r)}}),e.file("add/operator/windowToggle.js",function(e,t,r,n,i){"use strict";var o=t("../../Observable"),s=t("../../operator/windowToggle");o.Observable.prototype.windowToggle=s.windowToggle}),e.file("operator/windowToggle.js",function(e,t,r,n,i){"use strict";var o=t("../operators/windowToggle");e.windowToggle=function(e,t){return o.windowToggle(e,t)(this)}}),e.file("operators/windowToggle.js",function(e,t,r,n,i){"use strict";var o=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},s=t("../Subject"),a=t("../Subscription"),u=t("../util/tryCatch"),c=t("../util/errorObject"),l=t("../OuterSubscriber"),f=t("../util/subscribeToResult");e.windowToggle=function(e,t){return function(r){return r.lift(new h(e,t))}};var h=function(){function e(e,t){this.openings=e,this.closingSelector=t}return e.prototype.call=function(e,t){return t.subscribe(new p(e,this.openings,this.closingSelector))},e}(),p=function(e){function t(t,r,n){e.call(this,t),this.openings=r,this.closingSelector=n,this.contexts=[],this.add(this.openSubscription=f.subscribeToResult(this,r,r))}return o(t,e),t.prototype._next=function(e){var t=this.contexts;if(t)for(var r=t.length,n=0;n<r;n++)t[n].window.next(e)},t.prototype._error=function(t){var r=this.contexts;if(this.contexts=null,r)for(var n=r.length,i=-1;++i<n;){var o=r[i];o.window.error(t),o.subscription.unsubscribe()}e.prototype._error.call(this,t)},t.prototype._complete=function(){var t=this.contexts;if(this.contexts=null,t)for(var r=t.length,n=-1;++n<r;){var i=t[n];i.window.complete(),i.subscription.unsubscribe()}e.prototype._complete.call(this)},t.prototype._unsubscribe=function(){var e=this.contexts;if(this.contexts=null,e)for(var t=e.length,r=-1;++r<t;){var n=e[r];n.window.unsubscribe(),n.subscription.unsubscribe()}},t.prototype.notifyNext=function(e,t,r,n,i){if(e===this.openings){var o=this.closingSelector,l=u.tryCatch(o)(t);if(l===c.errorObject)return this.error(c.errorObject.e);var h=new s.Subject,p=new a.Subscription,d={window:h,subscription:p};this.contexts.push(d);var v=f.subscribeToResult(this,l,d);v.closed?this.closeWindow(this.contexts.length-1):(v.context=d,p.add(v)),this.destination.next(h)}else this.closeWindow(this.contexts.indexOf(e))},t.prototype.notifyError=function(e){this.error(e)},t.prototype.notifyComplete=function(e){e!==this.openSubscription&&this.closeWindow(this.contexts.indexOf(e.context))},t.prototype.closeWindow=function(e){if(-1!==e){var t=this.contexts,r=t[e],n=r.window,i=r.subscription;t.splice(e,1),n.complete(),i.unsubscribe()}},t}(l.OuterSubscriber)}),e.file("add/operator/windowWhen.js",function(e,t,r,n,i){"use strict";var o=t("../../Observable"),s=t("../../operator/windowWhen");o.Observable.prototype.windowWhen=s.windowWhen}),e.file("operator/windowWhen.js",function(e,t,r,n,i){"use strict";var o=t("../operators/windowWhen");e.windowWhen=function(e){return o.windowWhen(e)(this)}}),e.file("operators/windowWhen.js",function(e,t,r,n,i){"use strict";var o=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},s=t("../Subject"),a=t("../util/tryCatch"),u=t("../util/errorObject"),c=t("../OuterSubscriber"),l=t("../util/subscribeToResult");e.windowWhen=function(e){return function(t){return t.lift(new f(e))}};var f=function(){function e(e){this.closingSelector=e}return e.prototype.call=function(e,t){return t.subscribe(new h(e,this.closingSelector))},e}(),h=function(e){function t(t,r){e.call(this,t),this.destination=t,this.closingSelector=r,this.openWindow()}return o(t,e),t.prototype.notifyNext=function(e,t,r,n,i){this.openWindow(i)},t.prototype.notifyError=function(e,t){this._error(e)},t.prototype.notifyComplete=function(e){this.openWindow(e)},t.prototype._next=function(e){this.window.next(e)},t.prototype._error=function(e){this.window.error(e),this.destination.error(e),this.unsubscribeClosingNotification()},t.prototype._complete=function(){this.window.complete(),this.destination.complete(),this.unsubscribeClosingNotification()},t.prototype.unsubscribeClosingNotification=function(){this.closingNotification&&this.closingNotification.unsubscribe()},t.prototype.openWindow=function(e){void 0===e&&(e=null),e&&(this.remove(e),e.unsubscribe());var t=this.window;t&&t.complete();var r=this.window=new s.Subject;this.destination.next(r);var n=a.tryCatch(this.closingSelector)();if(n===u.errorObject){var i=u.errorObject.e;this.destination.error(i),this.window.error(i)}else this.add(this.closingNotification=l.subscribeToResult(this,n))},t}(c.OuterSubscriber)}),e.file("add/operator/withLatestFrom.js",function(e,t,r,n,i){"use strict";var o=t("../../Observable"),s=t("../../operator/withLatestFrom");o.Observable.prototype.withLatestFrom=s.withLatestFrom}),e.file("operator/withLatestFrom.js",function(e,t,r,n,i){"use strict";var o=t("../operators/withLatestFrom");e.withLatestFrom=function(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];return o.withLatestFrom.apply(void 0,e)(this)}}),e.file("operators/withLatestFrom.js",function(e,t,r,n,i){"use strict";var o=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},s=t("../OuterSubscriber"),a=t("../util/subscribeToResult");e.withLatestFrom=function(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];return function(t){var r;"function"==typeof e[e.length-1]&&(r=e.pop());var n=e;return t.lift(new u(n,r))}};var u=function(){function e(e,t){this.observables=e,this.project=t}return e.prototype.call=function(e,t){return t.subscribe(new c(e,this.observables,this.project))},e}(),c=function(e){function t(t,r,n){e.call(this,t),this.observables=r,this.project=n,this.toRespond=[];var i=r.length;this.values=new Array(i);for(var o=0;o<i;o++)this.toRespond.push(o);for(o=0;o<i;o++){var s=r[o];this.add(a.subscribeToResult(this,s,s,o))}}return o(t,e),t.prototype.notifyNext=function(e,t,r,n,i){this.values[r]=t;var o=this.toRespond;if(o.length>0){var s=o.indexOf(r);-1!==s&&o.splice(s,1)}},t.prototype.notifyComplete=function(){},t.prototype._next=function(e){if(0===this.toRespond.length){var t=[e].concat(this.values);this.project?this._tryProject(t):this.destination.next(t)}},t.prototype._tryProject=function(e){var t;try{t=this.project.apply(this,e)}catch(e){return void this.destination.error(e)}this.destination.next(t)},t}(s.OuterSubscriber)}),e.file("add/operator/zip.js",function(e,t,r,n,i){"use strict";var o=t("../../Observable"),s=t("../../operator/zip");o.Observable.prototype.zip=s.zipProto}),e.file("operator/zip.js",function(e,t,r,n,i){"use strict";var o=t("../operators/zip");e.zipProto=function(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];return o.zip.apply(void 0,e)(this)}}),e.file("add/operator/zipAll.js",function(e,t,r,n,i){"use strict";var o=t("../../Observable"),s=t("../../operator/zipAll");o.Observable.prototype.zipAll=s.zipAll}),e.file("operator/zipAll.js",function(e,t,r,n,i){"use strict";var o=t("../operators/zipAll");e.zipAll=function(e){return o.zipAll(e)(this)}}),e.file("operators/zipAll.js",function(e,t,r,n,i){"use strict";var o=t("./zip");e.zipAll=function(e){return function(t){return t.lift(new o.ZipOperator(e))}}}),e.file("testing/TestScheduler.js",function(e,t,r,n,i){"use strict";var o=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},s=t("../Observable"),a=t("../Notification"),u=t("./ColdObservable"),c=t("./HotObservable"),l=t("./SubscriptionLog"),f=t("../scheduler/VirtualTimeScheduler"),h=750,p=function(e){function t(t){e.call(this,f.VirtualAction,h),this.assertDeepEqual=t,this.hotObservables=[],this.coldObservables=[],this.flushTests=[]}return o(t,e),t.prototype.createTime=function(e){var r=e.indexOf("|");if(-1===r)throw new Error('marble diagram for time should have a completion marker "|"');return r*t.frameTimeFactor},t.prototype.createColdObservable=function(e,r,n){if(-1!==e.indexOf("^"))throw new Error('cold observable cannot have subscription offset "^"');if(-1!==e.indexOf("!"))throw new Error('cold observable cannot have unsubscription marker "!"');var i=t.parseMarbles(e,r,n),o=new u.ColdObservable(i,this);return this.coldObservables.push(o),o},t.prototype.createHotObservable=function(e,r,n){if(-1!==e.indexOf("!"))throw new Error('hot observable cannot have unsubscription marker "!"');var i=t.parseMarbles(e,r,n),o=new c.HotObservable(i,this);return this.hotObservables.push(o),o},t.prototype.materializeInnerObservable=function(e,t){var r=this,n=[];return e.subscribe(function(e){n.push({frame:r.frame-t,notification:a.Notification.createNext(e)})},function(e){n.push({frame:r.frame-t,notification:a.Notification.createError(e)})},function(){n.push({frame:r.frame-t,notification:a.Notification.createComplete()})}),n},t.prototype.expectObservable=function(e,r){var n=this;void 0===r&&(r=null);var i,o=[],u={actual:o,ready:!1},c=t.parseMarblesAsSubscriptions(r).unsubscribedFrame;return this.schedule(function(){i=e.subscribe(function(e){var t=e;e instanceof s.Observable&&(t=n.materializeInnerObservable(t,n.frame)),o.push({frame:n.frame,notification:a.Notification.createNext(t)})},function(e){o.push({frame:n.frame,notification:a.Notification.createError(e)})},function(){o.push({frame:n.frame,notification:a.Notification.createComplete()})})},0),c!==Number.POSITIVE_INFINITY&&this.schedule(function(){return i.unsubscribe()},c),this.flushTests.push(u),{toBe:function(e,r,n){u.ready=!0,u.expected=t.parseMarbles(e,r,n,!0)}}},t.prototype.expectSubscriptions=function(e){var r={actual:e,ready:!1};return this.flushTests.push(r),{toBe:function(e){var n="string"==typeof e?[e]:e;r.ready=!0,r.expected=n.map(function(e){return t.parseMarblesAsSubscriptions(e)})}}},t.prototype.flush=function(){for(var t=this.hotObservables;t.length>0;)t.shift().setup();e.prototype.flush.call(this);for(var r=this.flushTests.filter(function(e){return e.ready});r.length>0;){var n=r.shift();this.assertDeepEqual(n.actual,n.expected)}},t.parseMarblesAsSubscriptions=function(e){if("string"!=typeof e)return new l.SubscriptionLog(Number.POSITIVE_INFINITY);for(var t=e.length,r=-1,n=Number.POSITIVE_INFINITY,i=Number.POSITIVE_INFINITY,o=0;o<t;o++){var s=o*this.frameTimeFactor,a=e[o];switch(a){case"-":case" ":break;case"(":r=s;break;case")":r=-1;break;case"^":if(n!==Number.POSITIVE_INFINITY)throw new Error("found a second subscription point '^' in a subscription marble diagram. There can only be one.");n=r>-1?r:s;break;case"!":if(i!==Number.POSITIVE_INFINITY)throw new Error("found a second subscription point '^' in a subscription marble diagram. There can only be one.");i=r>-1?r:s;break;default:throw new Error("there can only be '^' and '!' markers in a subscription marble diagram. Found instead '"+a+"'.")}}return i<0?new l.SubscriptionLog(n):new l.SubscriptionLog(n,i)},t.parseMarbles=function(e,t,r,n){if(void 0===n&&(n=!1),-1!==e.indexOf("!"))throw new Error('conventional marble diagrams cannot have the unsubscription marker "!"');for(var i=e.length,o=[],s=e.indexOf("^"),c=-1===s?0:s*-this.frameTimeFactor,l="object"!=typeof t?function(e){return e}:function(e){return n&&t[e]instanceof u.ColdObservable?t[e].messages:t[e]},f=-1,h=0;h<i;h++){var p=h*this.frameTimeFactor+c,d=void 0,v=e[h];switch(v){case"-":case" ":break;case"(":f=p;break;case")":f=-1;break;case"|":d=a.Notification.createComplete();break;case"^":break;case"#":d=a.Notification.createError(r||"error");break;default:d=a.Notification.createNext(l(v))}d&&o.push({frame:f>-1?f:p,notification:d})}return o},t}(f.VirtualTimeScheduler);e.TestScheduler=p}),e.file("testing/ColdObservable.js",function(e,t,r,n,i){"use strict";var o=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},s=t("../Observable"),a=t("../Subscription"),u=t("./SubscriptionLoggable"),c=t("../util/applyMixins"),l=function(e){function t(t,r){e.call(this,function(e){var t=this,r=t.logSubscribedFrame();return e.add(new a.Subscription(function(){t.logUnsubscribedFrame(r)})),t.scheduleMessages(e),e}),this.messages=t,this.subscriptions=[],this.scheduler=r}return o(t,e),t.prototype.scheduleMessages=function(e){for(var t=this.messages.length,r=0;r<t;r++){var n=this.messages[r];e.add(this.scheduler.schedule(function(e){var t=e.message,r=e.subscriber;t.notification.observe(r)},n.frame,{message:n,subscriber:e}))}},t}(s.Observable);e.ColdObservable=l,c.applyMixins(l,[u.SubscriptionLoggable])}),e.file("testing/SubscriptionLoggable.js",function(e,t,r,n,i){"use strict";var o=t("./SubscriptionLog"),s=function(){function e(){this.subscriptions=[]}return e.prototype.logSubscribedFrame=function(){return this.subscriptions.push(new o.SubscriptionLog(this.scheduler.now())),this.subscriptions.length-1},e.prototype.logUnsubscribedFrame=function(e){var t=this.subscriptions,r=t[e];t[e]=new o.SubscriptionLog(r.subscribedFrame,this.scheduler.now())},e}();e.SubscriptionLoggable=s}),e.file("testing/SubscriptionLog.js",function(e,t,r,n,i){"use strict";var o=function(){return function(e,t){void 0===t&&(t=Number.POSITIVE_INFINITY),this.subscribedFrame=e,this.unsubscribedFrame=t}}();e.SubscriptionLog=o}),e.file("util/applyMixins.js",function(e,t,r,n,i){"use strict";e.applyMixins=function(e,t){for(var r=0,n=t.length;r<n;r++)for(var i=t[r],o=Object.getOwnPropertyNames(i.prototype),s=0,a=o.length;s<a;s++){var u=o[s];e.prototype[u]=i.prototype[u]}}}),e.file("testing/HotObservable.js",function(e,t,r,n,i){"use strict";var o=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},s=t("../Subject"),a=t("../Subscription"),u=t("./SubscriptionLoggable"),c=t("../util/applyMixins"),l=function(e){function t(t,r){e.call(this),this.messages=t,this.subscriptions=[],this.scheduler=r}return o(t,e),t.prototype._subscribe=function(t){var r=this,n=r.logSubscribedFrame();return t.add(new a.Subscription(function(){r.logUnsubscribedFrame(n)})),e.prototype._subscribe.call(this,t)},t.prototype.setup=function(){for(var e=this,t=e.messages.length,r=0;r<t;r++)!function(){var t=e.messages[r];e.scheduler.schedule(function(){t.notification.observe(e)},t.frame)}()},t}(s.Subject);e.HotObservable=l,c.applyMixins(l,[u.SubscriptionLoggable])}),e.file("scheduler/VirtualTimeScheduler.js",function(e,t,r,n,i){"use strict";var o=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},s=t("./AsyncAction"),a=function(e){function t(t,r){var n=this;void 0===t&&(t=u),void 0===r&&(r=Number.POSITIVE_INFINITY),e.call(this,t,function(){return n.frame}),this.maxFrames=r,this.frame=0,this.index=-1}return o(t,e),t.prototype.flush=function(){for(var e,t,r=this.actions,n=this.maxFrames;(t=r.shift())&&(this.frame=t.delay)<=n&&!(e=t.execute(t.state,t.delay)););if(e){for(;t=r.shift();)t.unsubscribe();throw e}},t.frameTimeFactor=10,t}(t("./AsyncScheduler").AsyncScheduler);e.VirtualTimeScheduler=a;var u=function(e){function t(t,r,n){void 0===n&&(n=t.index+=1),e.call(this,t,r),this.scheduler=t,this.work=r,this.index=n,this.active=!0,this.index=t.index=n}return o(t,e),t.prototype.schedule=function(r,n){if(void 0===n&&(n=0),!this.id)return e.prototype.schedule.call(this,r,n);this.active=!1;var i=new t(this.scheduler,this.work);return this.add(i),i.schedule(r,n)},t.prototype.requestAsyncId=function(e,r,n){void 0===n&&(n=0),this.delay=e.frame+n;var i=e.actions;return i.push(this),i.sort(t.sortActions),!0},t.prototype.recycleAsyncId=function(e,t,r){void 0===r&&(r=0)},t.prototype._execute=function(t,r){if(!0===this.active)return e.prototype._execute.call(this,t,r)},t.sortActions=function(e,t){return e.delay===t.delay?e.index===t.index?0:e.index>t.index?1:-1:e.delay>t.delay?1:-1},t}(s.AsyncAction);e.VirtualAction=u}),e.file("scheduler/animationFrame.js",function(e,t,r,n,i){"use strict";var o=t("./AnimationFrameAction"),s=t("./AnimationFrameScheduler");e.animationFrame=new s.AnimationFrameScheduler(o.AnimationFrameAction)}),e.file("scheduler/AnimationFrameAction.js",function(e,t,r,n,i){"use strict";var o=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},s=t("./AsyncAction"),a=t("../util/AnimationFrame"),u=function(e){function t(t,r){e.call(this,t,r),this.scheduler=t,this.work=r}return o(t,e),t.prototype.requestAsyncId=function(t,r,n){return void 0===n&&(n=0),null!==n&&n>0?e.prototype.requestAsyncId.call(this,t,r,n):(t.actions.push(this),t.scheduled||(t.scheduled=a.AnimationFrame.requestAnimationFrame(t.flush.bind(t,null))))},t.prototype.recycleAsyncId=function(t,r,n){if(void 0===n&&(n=0),null!==n&&n>0||null===n&&this.delay>0)return e.prototype.recycleAsyncId.call(this,t,r,n);0===t.actions.length&&(a.AnimationFrame.cancelAnimationFrame(r),t.scheduled=void 0)},t}(s.AsyncAction);e.AnimationFrameAction=u}),e.file("util/AnimationFrame.js",function(e,t,r,n,i){"use strict";var o=t("./root"),s=function(){return function(e){e.requestAnimationFrame?(this.cancelAnimationFrame=e.cancelAnimationFrame.bind(e),this.requestAnimationFrame=e.requestAnimationFrame.bind(e)):e.mozRequestAnimationFrame?(this.cancelAnimationFrame=e.mozCancelAnimationFrame.bind(e),this.requestAnimationFrame=e.mozRequestAnimationFrame.bind(e)):e.webkitRequestAnimationFrame?(this.cancelAnimationFrame=e.webkitCancelAnimationFrame.bind(e),this.requestAnimationFrame=e.webkitRequestAnimationFrame.bind(e)):e.msRequestAnimationFrame?(this.cancelAnimationFrame=e.msCancelAnimationFrame.bind(e),this.requestAnimationFrame=e.msRequestAnimationFrame.bind(e)):e.oRequestAnimationFrame?(this.cancelAnimationFrame=e.oCancelAnimationFrame.bind(e),this.requestAnimationFrame=e.oRequestAnimationFrame.bind(e)):(this.cancelAnimationFrame=e.clearTimeout.bind(e),this.requestAnimationFrame=function(t){return e.setTimeout(t,1e3/60)})}}();e.RequestAnimationFrameDefinition=s,e.AnimationFrame=new s(o.root)}),e.file("scheduler/AnimationFrameScheduler.js",function(e,t,r,n,i){"use strict";var o=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},s=function(e){function t(){e.apply(this,arguments)}return o(t,e),t.prototype.flush=function(e){this.active=!0,this.scheduled=void 0;var t,r=this.actions,n=-1,i=r.length;e=e||r.shift();do{if(t=e.execute(e.state,e.delay))break}while(++n<i&&(e=r.shift()));if(this.active=!1,t){for(;++n<i&&(e=r.shift());)e.unsubscribe();throw t}},t}(t("./AsyncScheduler").AsyncScheduler);e.AnimationFrameScheduler=s}),e.file("operators.js",function(e,t,r,n,i){"use strict";var o=t("./operators/audit");e.audit=o.audit;var s=t("./operators/auditTime");e.auditTime=s.auditTime;var a=t("./operators/buffer");e.buffer=a.buffer;var u=t("./operators/bufferCount");e.bufferCount=u.bufferCount;var c=t("./operators/bufferTime");e.bufferTime=c.bufferTime;var l=t("./operators/bufferToggle");e.bufferToggle=l.bufferToggle;var f=t("./operators/bufferWhen");e.bufferWhen=f.bufferWhen;var h=t("./operators/catchError");e.catchError=h.catchError;var p=t("./operators/combineAll");e.combineAll=p.combineAll;var d=t("./operators/combineLatest");e.combineLatest=d.combineLatest;var v=t("./operators/concat");e.concat=v.concat;var m=t("./operators/concatAll");e.concatAll=m.concatAll;var b=t("./operators/concatMap");e.concatMap=b.concatMap;var y=t("./operators/concatMapTo");e.concatMapTo=y.concatMapTo;var g=t("./operators/count");e.count=g.count;var _=t("./operators/debounce");e.debounce=_.debounce;var w=t("./operators/debounceTime");e.debounceTime=w.debounceTime;var x=t("./operators/defaultIfEmpty");e.defaultIfEmpty=x.defaultIfEmpty;var k=t("./operators/delay");e.delay=k.delay;var j=t("./operators/delayWhen");e.delayWhen=j.delayWhen;var S=t("./operators/dematerialize");e.dematerialize=S.dematerialize;var O=t("./operators/distinct");e.distinct=O.distinct;var E=t("./operators/distinctUntilChanged");e.distinctUntilChanged=E.distinctUntilChanged;var C=t("./operators/distinctUntilKeyChanged");e.distinctUntilKeyChanged=C.distinctUntilKeyChanged;var A=t("./operators/elementAt");e.elementAt=A.elementAt;var T=t("./operators/every");e.every=T.every;var M=t("./operators/exhaust");e.exhaust=M.exhaust;var I=t("./operators/exhaustMap");e.exhaustMap=I.exhaustMap;var N=t("./operators/expand");e.expand=N.expand;var q=t("./operators/filter");e.filter=q.filter;var F=t("./operators/finalize");e.finalize=F.finalize;var P=t("./operators/find");e.find=P.find;var D=t("./operators/findIndex");e.findIndex=D.findIndex;var z=t("./operators/first");e.first=z.first;var L=t("./operators/groupBy");e.groupBy=L.groupBy;var R=t("./operators/ignoreElements");e.ignoreElements=R.ignoreElements;var B=t("./operators/isEmpty");e.isEmpty=B.isEmpty;var $=t("./operators/last");e.last=$.last;var V=t("./operators/map");e.map=V.map;var U=t("./operators/mapTo");e.mapTo=U.mapTo;var W=t("./operators/materialize");e.materialize=W.materialize;var H=t("./operators/max");e.max=H.max;var G=t("./operators/merge");e.merge=G.merge;var K=t("./operators/mergeAll");e.mergeAll=K.mergeAll;var Y=t("./operators/mergeMap");e.mergeMap=Y.mergeMap;var X=t("./operators/mergeMap");e.flatMap=X.mergeMap;var J=t("./operators/mergeMapTo");e.mergeMapTo=J.mergeMapTo;var Z=t("./operators/mergeScan");e.mergeScan=Z.mergeScan;var Q=t("./operators/min");e.min=Q.min;var ee=t("./operators/multicast");e.multicast=ee.multicast;var te=t("./operators/observeOn");e.observeOn=te.observeOn;var re=t("./operators/onErrorResumeNext");e.onErrorResumeNext=re.onErrorResumeNext;var ne=t("./operators/pairwise");e.pairwise=ne.pairwise;var ie=t("./operators/partition");e.partition=ie.partition;var oe=t("./operators/pluck");e.pluck=oe.pluck;var se=t("./operators/publish");e.publish=se.publish;var ae=t("./operators/publishBehavior");e.publishBehavior=ae.publishBehavior;var ue=t("./operators/publishLast");e.publishLast=ue.publishLast;var ce=t("./operators/publishReplay");e.publishReplay=ce.publishReplay;var le=t("./operators/race");e.race=le.race;var fe=t("./operators/reduce");e.reduce=fe.reduce;var he=t("./operators/repeat");e.repeat=he.repeat;var pe=t("./operators/repeatWhen");e.repeatWhen=pe.repeatWhen;var de=t("./operators/retry");e.retry=de.retry;var ve=t("./operators/retryWhen");e.retryWhen=ve.retryWhen;var me=t("./operators/refCount");e.refCount=me.refCount;var be=t("./operators/sample");e.sample=be.sample;var ye=t("./operators/sampleTime");e.sampleTime=ye.sampleTime;var ge=t("./operators/scan");e.scan=ge.scan;var _e=t("./operators/sequenceEqual");e.sequenceEqual=_e.sequenceEqual;var we=t("./operators/share");e.share=we.share;var xe=t("./operators/shareReplay");e.shareReplay=xe.shareReplay;var ke=t("./operators/single");e.single=ke.single;var je=t("./operators/skip");e.skip=je.skip;var Se=t("./operators/skipLast");e.skipLast=Se.skipLast;var Oe=t("./operators/skipUntil");e.skipUntil=Oe.skipUntil;var Ee=t("./operators/skipWhile");e.skipWhile=Ee.skipWhile;var Ce=t("./operators/startWith");e.startWith=Ce.startWith;var Ae=t("./operators/switchAll");e.switchAll=Ae.switchAll;var Te=t("./operators/switchMap");e.switchMap=Te.switchMap;var Me=t("./operators/switchMapTo");e.switchMapTo=Me.switchMapTo;var Ie=t("./operators/take");e.take=Ie.take;var Ne=t("./operators/takeLast");e.takeLast=Ne.takeLast;var qe=t("./operators/takeUntil");e.takeUntil=qe.takeUntil;var Fe=t("./operators/takeWhile");e.takeWhile=Fe.takeWhile;var Pe=t("./operators/tap");e.tap=Pe.tap;var De=t("./operators/throttle");e.throttle=De.throttle;var ze=t("./operators/throttleTime");e.throttleTime=ze.throttleTime;var Le=t("./operators/timeInterval");e.timeInterval=Le.timeInterval;var Re=t("./operators/timeout");e.timeout=Re.timeout;var Be=t("./operators/timeoutWith");e.timeoutWith=Be.timeoutWith;var $e=t("./operators/timestamp");e.timestamp=$e.timestamp;var Ve=t("./operators/toArray");e.toArray=Ve.toArray;var Ue=t("./operators/window");e.window=Ue.window;var We=t("./operators/windowCount");e.windowCount=We.windowCount;var He=t("./operators/windowTime");e.windowTime=He.windowTime;var Ge=t("./operators/windowToggle");e.windowToggle=Ge.windowToggle;var Ke=t("./operators/windowWhen");e.windowWhen=Ke.windowWhen;var Ye=t("./operators/withLatestFrom");e.withLatestFrom=Ye.withLatestFrom;var Xe=t("./operators/zip");e.zip=Xe.zip;var Je=t("./operators/zipAll");e.zipAll=Je.zipAll}),e.entry="Rx.js"}),e.pkg("process",{},function(t){return t.file("index.js",function(t,r,n,i,o){if(e.isServer)"undefined"!=typeof __process_env__&&Object.assign(global.process.env,__process_env__),n.exports=global.process;else{"function"!=typeof Object.assign&&(Object.assign=function(e,t){"use strict";if(null==e)throw new TypeError("Cannot convert undefined or null to object");for(var r=Object(e),n=1;n<arguments.length;n++){var i=arguments[n];if(null!=i)for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])}return r});var s,a=n.exports={},u=[],c=!1,l=-1;function f(){c=!1,s.length?u=s.concat(u):l=-1,u.length&&h()}function h(){if(!c){var e=setTimeout(f);c=!0;for(var t=u.length;t;){for(s=u,u=[];++l<t;)s&&s[l].run();l=-1,t=u.length}s=null,c=!1,clearTimeout(e)}}function p(e,t){this.fun=e,this.array=t}function d(){}a.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];u.push(new p(e,t)),1!==u.length||c||setTimeout(h,0)},p.prototype.run=function(){this.fun.apply(null,this.array)},a.title="browser",a.browser=!0,a.env={NODE_ENV:"development"},"undefined"!=typeof __process_env__&&Object.assign(a.env,__process_env__),a.argv=[],a.version="",a.versions={},a.on=d,a.addListener=d,a.once=d,a.off=d,a.removeListener=d,a.removeAllListeners=d,a.emit=d,a.binding=function(e){throw new Error("process.binding is not supported")},a.cwd=function(){return"/"},a.chdir=function(e){throw new Error("process.chdir is not supported")},a.umask=function(){return 0}}}),t.entry="index.js"}),e.pkg("@cycle/DOM",{},function(e){return e.file("lib/cjs/index.js",function(e,t,r,n,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=t("./thunk");e.thunk=o.thunk;var s=t("./MainDOMSource");e.MainDOMSource=s.MainDOMSource;var a=t("./makeDOMDriver");e.makeDOMDriver=a.makeDOMDriver;var u=t("./mockDOMSource");e.mockDOMSource=u.mockDOMSource,e.MockedDOMSource=u.MockedDOMSource;var c=t("snabbdom/h");e.h=c.h;var l=t("./hyperscript-helpers");e.svg=l.default.svg,e.a=l.default.a,e.abbr=l.default.abbr,e.address=l.default.address,e.area=l.default.area,e.article=l.default.article,e.aside=l.default.aside,e.audio=l.default.audio,e.b=l.default.b,e.base=l.default.base,e.bdi=l.default.bdi,e.bdo=l.default.bdo,e.blockquote=l.default.blockquote,e.body=l.default.body,e.br=l.default.br,e.button=l.default.button,e.canvas=l.default.canvas,e.caption=l.default.caption,e.cite=l.default.cite,e.code=l.default.code,e.col=l.default.col,e.colgroup=l.default.colgroup,e.dd=l.default.dd,e.del=l.default.del,e.dfn=l.default.dfn,e.dir=l.default.dir,e.div=l.default.div,e.dl=l.default.dl,e.dt=l.default.dt,e.em=l.default.em,e.embed=l.default.embed,e.fieldset=l.default.fieldset,e.figcaption=l.default.figcaption,e.figure=l.default.figure,e.footer=l.default.footer,e.form=l.default.form,e.h1=l.default.h1,e.h2=l.default.h2,e.h3=l.default.h3,e.h4=l.default.h4,e.h5=l.default.h5,e.h6=l.default.h6,e.head=l.default.head,e.header=l.default.header,e.hgroup=l.default.hgroup,e.hr=l.default.hr,e.html=l.default.html,e.i=l.default.i,e.iframe=l.default.iframe,e.img=l.default.img,e.input=l.default.input,e.ins=l.default.ins,e.kbd=l.default.kbd,e.keygen=l.default.keygen,e.label=l.default.label,e.legend=l.default.legend,e.li=l.default.li,e.link=l.default.link,e.main=l.default.main,e.map=l.default.map,e.mark=l.default.mark,e.menu=l.default.menu,e.meta=l.default.meta,e.nav=l.default.nav,e.noscript=l.default.noscript,e.object=l.default.object,e.ol=l.default.ol,e.optgroup=l.default.optgroup,e.option=l.default.option,e.p=l.default.p,e.param=l.default.param,e.pre=l.default.pre,e.progress=l.default.progress,e.q=l.default.q,e.rp=l.default.rp,e.rt=l.default.rt,e.ruby=l.default.ruby,e.s=l.default.s,e.samp=l.default.samp,e.script=l.default.script,e.section=l.default.section,e.select=l.default.select,e.small=l.default.small,e.source=l.default.source,e.span=l.default.span,e.strong=l.default.strong,e.style=l.default.style,e.sub=l.default.sub,e.sup=l.default.sup,e.table=l.default.table,e.tbody=l.default.tbody,e.td=l.default.td,e.textarea=l.default.textarea,e.tfoot=l.default.tfoot,e.th=l.default.th,e.thead=l.default.thead,e.title=l.default.title,e.tr=l.default.tr,e.u=l.default.u,e.ul=l.default.ul,e.video=l.default.video}),e.file("lib/cjs/thunk.js",function(e,t,r,n,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=t("snabbdom/h");function s(e,t){t.elm=e.elm,e.data.fn=t.data.fn,e.data.args=t.data.args,e.data.isolate=t.data.isolate,t.data=e.data,t.children=e.children,t.text=e.text,t.elm=e.elm}function a(e){var t=e.data;s(t.fn.apply(void 0,t.args),e)}function u(e,t){var r,n=e.data,i=t.data,o=n.args,a=i.args;for(n.fn===i.fn&&o.length===a.length||s(i.fn.apply(void 0,a),t),r=0;r<a.length;++r)if(o[r]!==a[r])return void s(i.fn.apply(void 0,a),t);s(e,t)}function c(e,t,r,n){return void 0===n&&(n=r,r=t,t=void 0),o.h(e,{key:t,hook:{init:a,prepatch:u},fn:r,args:n})}e.thunk=c,e.default=c}),e.file("lib/cjs/MainDOMSource.js",function(e,t,r,n,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=t("@cycle/run/lib/adapt"),s=t("./DocumentDOMSource"),a=t("./BodyDOMSource"),u=t("./ElementFinder"),c=t("./fromEvent"),l=t("./isolate"),f=t("./EventDelegator"),h=t("./utils"),p=["blur","canplay","canplaythrough","durationchange","emptied","ended","focus","load","loadeddata","loadedmetadata","mouseenter","mouseleave","pause","play","playing","ratechange","reset","scroll","seeked","seeking","stalled","submit","suspend","timeupdate","unload","volumechange","waiting"];var d=function(){function e(e,t,r,n,i,o){void 0===r&&(r=[]);var s=this;this._rootElement$=e,this._sanitation$=t,this._namespace=r,this._isolateModule=n,this._delegators=i,this._name=o,this.isolateSource=l.isolateSource,this.isolateSink=function(e,t){if(":root"===t)return e;if(h.isClassOrId(t))return l.siblingIsolateSink(e,t);var r=[h.getFullScope(s._namespace),t].filter(function(e){return!!e}).join("-");return l.totalIsolateSink(e,r)}}return e.prototype.elements=function(){var e;if(0===this._namespace.length)e=this._rootElement$.map(function(e){return[e]});else{var t=new u.ElementFinder(this._namespace,this._isolateModule);e=this._rootElement$.map(function(e){return t.call(e)})}var r=o.adapt(e.remember());return r._isCycleSource=this._name,r},e.prototype.element=function(){var e=this.elements().filter(function(e){return e.length>0}).map(function(e){return e[0]}).remember(),t=o.adapt(e);return t._isCycleSource=this._name,t},Object.defineProperty(e.prototype,"namespace",{get:function(){return this._namespace},enumerable:!0,configurable:!0}),e.prototype.select=function(t){if("string"!=typeof t)throw new Error("DOM driver's select() expects the argument to be a string as a CSS selector");if("document"===t)return new s.DocumentDOMSource(this._name);if("body"===t)return new a.BodyDOMSource(this._name);var r=t.trim(),n=":root"===r?this._namespace:this._namespace.concat(r);return new e(this._rootElement$,this._sanitation$,n,this._isolateModule,this._delegators,this._name)},e.prototype.events=function(e,t){if(void 0===t&&(t={}),"string"!=typeof e)throw new Error("DOM driver's events() expects argument to be a string representing the event type to listen for.");var r,n,i,s=(r=e,i=!1,"boolean"==typeof(n=t).useCapture&&(i=n.useCapture),-1!==p.indexOf(r)&&(i=!0),i),a=this._namespace,u=h.getFullScope(a),l=[e,s];u&&l.push(u);var d,v,m=l.join("~"),b=this,y=(u?this._rootElement$.compose((d=b,v=u,function(e){return e.fold(function(e,t){var r=!!d._isolateModule.getElement(v);return e.shouldPass=r&&!e.wasIsolated,e.wasIsolated=r,e.element=t,e},{wasIsolated:!1,shouldPass:!1,element:null}).drop(1).filter(function(e){return e.shouldPass}).map(function(e){return e.element})})):this._rootElement$.take(2)).map(function(r){if(!a||0===a.length)return c.fromEvent(r,e,s,t.preventDefault);var n,i=b._delegators,o=b._isolateModule.getElement(u)||r;return i.has(m)?(n=i.get(m)).updateOrigin(o):(n=new f.EventDelegator(o,e,s,b._isolateModule,t.preventDefault),i.set(m,n)),u&&b._isolateModule.addEventDelegator(u,n),n.createDestination(a)}).flatten(),g=o.adapt(y);return g._isCycleSource=b._name,g},e.prototype.dispose=function(){this._sanitation$.shamefullySendNext(null),this._isolateModule.reset()},e}();e.MainDOMSource=d}),e.file("lib/cjs/DocumentDOMSource.js",function(e,t,r,n,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=t("xstream"),s=t("@cycle/run/lib/adapt"),a=t("./fromEvent"),u=function(){function e(e){this._name=e}return e.prototype.select=function(e){return this},e.prototype.elements=function(){var e=s.adapt(o.default.of([document]));return e._isCycleSource=this._name,e},e.prototype.element=function(){var e=s.adapt(o.default.of(document));return e._isCycleSource=this._name,e},e.prototype.events=function(e,t){var r;void 0===t&&(t={}),r=a.fromEvent(document,e,t.useCapture,t.preventDefault);var n=s.adapt(r);return n._isCycleSource=this._name,n},e}();e.DocumentDOMSource=u}),e.file("lib/cjs/fromEvent.js",function(e,t,r,n,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=t("xstream");function s(e,t){if(t)if("boolean"==typeof t)e.preventDefault();else if("function"==typeof t)t(e)&&e.preventDefault();else{if("object"!=typeof t)throw new Error("preventDefault has to be either a boolean, predicate function or object");(function e(t,r){for(var n=Object.keys(t),i=n.length,o=0;o<i;o++){var s=n[o];if("object"==typeof t[s]&&"object"==typeof r[s]){if(!e(t[s],r[s]))return!1}else if(t[s]!==r[s])return!1}return!0})(t,e)&&e.preventDefault()}}e.fromEvent=function(e,t,r,n){return void 0===r&&(r=!1),void 0===n&&(n=!1),o.Stream.create({element:e,next:null,start:function(e){this.next=n?function(t){s(t,n),e.next(t)}:function(t){e.next(t)},this.element.addEventListener(t,this.next,r)},stop:function(){this.element.removeEventListener(t,this.next,r)}})},e.preventDefaultConditional=s}),e.file("lib/cjs/BodyDOMSource.js",function(e,t,r,n,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=t("xstream"),s=t("@cycle/run/lib/adapt"),a=t("./fromEvent"),u=function(){function e(e){this._name=e}return e.prototype.select=function(e){return this},e.prototype.elements=function(){var e=s.adapt(o.default.of([document.body]));return e._isCycleSource=this._name,e},e.prototype.element=function(){var e=s.adapt(o.default.of(document.body));return e._isCycleSource=this._name,e},e.prototype.events=function(e,t){var r;void 0===t&&(t={}),r=a.fromEvent(document.body,e,t.useCapture,t.preventDefault);var n=s.adapt(r);return n._isCycleSource=this._name,n},e}();e.BodyDOMSource=u}),e.file("lib/cjs/ElementFinder.js",function(e,t,r,n,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=t("./ScopeChecker"),s=t("./utils"),a=t("./matchesSelector");var u=function(){function e(e,t){this.namespace=e,this.isolateModule=t}return e.prototype.call=function(e){var t=this.namespace,r=s.getSelectors(t);if(!r)return[e];var n,i=s.getFullScope(t),u=new o.ScopeChecker(i,this.isolateModule),c=i?this.isolateModule.getElement(i)||e:e,l=!!i&&!!r&&a.matchesSelector(c,r);return(n=c.querySelectorAll(r),Array.prototype.slice.call(n)).filter(u.isDirectlyInScope,u).concat(l?[c]:[])},e}();e.ElementFinder=u}),e.file("lib/cjs/ScopeChecker.js",function(e,t,r,n,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function e(e,t){this.fullScope=e,this.isolateModule=t}return e.prototype.isDirectlyInScope=function(e){for(var t=e;t;t=t.parentElement){var r=this.isolateModule.getFullScope(t);if(r&&r!==this.fullScope)return!1;if(r)return!0}return!0},e}();e.ScopeChecker=o}),e.file("lib/cjs/utils.js",function(e,t,r,n,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isClassOrId=function(e){return e.length>1&&("."===e[0]||"#"===e[0])},e.isDocFrag=function(e){return 11===e.nodeType},e.SCOPE_PREFIX="$$CYCLEDOM$$-",e.checkValidContainer=function(e){if("string"!=typeof e&&(t=e,!("object"==typeof HTMLElement?t instanceof HTMLElement||t instanceof DocumentFragment:t&&"object"==typeof t&&null!==t&&(1===t.nodeType||11===t.nodeType)&&"string"==typeof t.nodeName)))throw new Error("Given container is not a DOM element neither a selector string.");var t},e.getValidNode=function(e){var t="string"==typeof e?document.querySelector(e):e;if("string"==typeof e&&null===t)throw new Error("Cannot render into unknown element `"+e+"`");return t},e.getFullScope=function(t){return t.filter(function(t){return t.indexOf(e.SCOPE_PREFIX)>-1}).map(function(t){return t.replace(e.SCOPE_PREFIX,"")}).join("-")},e.getSelectors=function(t){return t.filter(function(t){return-1===t.indexOf(e.SCOPE_PREFIX)}).join(" ")}}),e.file("lib/cjs/matchesSelector.js",function(e,t,r,n,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.matchesSelector=function(){var e;try{var t=Element.prototype;e=t.matches||t.matchesSelector||t.webkitMatchesSelector||t.mozMatchesSelector||t.msMatchesSelector||t.oMatchesSelector}catch(t){e=null}return function(t,r){if(0===r.length)return!0;if(e)return e.call(t,r);for(var n=t.parentNode.querySelectorAll(r),i=0;i<n.length;i++)if(n[i]===t)return!0;return!1}}()}),e.file("lib/cjs/isolate.js",function(e,t,r,n,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=t("snabbdom/vnode"),s=t("./utils");e.isolateSource=function(e,t){return":root"===t?e:s.isClassOrId(t)?(n=t,e.select(n)):(r=t,e.select(s.SCOPE_PREFIX+r));var r,n},e.siblingIsolateSink=function(e,t){return e.map(function(e){return e?o.vnode(e.sel+t,e.data,e.children,e.text,e.elm):e})},e.totalIsolateSink=function(e,t){return e.map(function(e){if(!e)return e;if(e.data&&e.data.isolate){var r=e.data.isolate.replace(/(cycle|\-)/g,""),n=t.replace(/(cycle|\-)/g,"");if(isNaN(parseInt(r))||isNaN(parseInt(n))||r>n)return e}return e.data=e.data||{},e.data.isolate=t,void 0===e.key&&(e.key=s.SCOPE_PREFIX+t),e})}}),e.file("lib/cjs/EventDelegator.js",function(e,t,r,n,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=t("xstream"),s=t("./ScopeChecker"),a=t("./utils"),u=t("./matchesSelector"),c=t("./fromEvent");var l=function(){function e(e,t,r,n,i){void 0===i&&(i=!1);var o=this;this.origin=e,this.eventType=t,this.useCapture=r,this.isolateModule=n,this.preventDefault=i,this.destinations=[],this._lastId=0,this.listener=i?r?function(e){c.preventDefaultConditional(e,i),o.capture(e)}:function(e){c.preventDefaultConditional(e,i),o.bubble(e)}:r?function(e){return o.capture(e)}:function(e){return o.bubble(e)},e.addEventListener(t,this.listener,r)}return e.prototype.updateOrigin=function(e){this.origin.removeEventListener(this.eventType,this.listener,this.useCapture),e.addEventListener(this.eventType,this.listener,this.useCapture),this.origin=e},e.prototype.createDestination=function(e){var t=this,r=this._lastId++,n=a.getSelectors(e),i=new s.ScopeChecker(a.getFullScope(e),this.isolateModule),u=o.default.create({start:function(){},stop:function(){"requestIdleCallback"in window?requestIdleCallback(function(){t.removeDestination(r)}):t.removeDestination(r)}}),c={id:r,selector:n,scopeChecker:i,subject:u};return this.destinations.push(c),u},e.prototype.removeDestination=function(e){var t=function(e,t){for(var r,n=0,i=e.length-1;n<=i;){var o=e[r=(n+i)/2|0].id;if(o<t)n=r+1;else{if(!(o>t))return r;i=r-1}}return-1}(this.destinations,e);t>=0&&this.destinations.splice(t,1)},e.prototype.capture=function(e){for(var t=this.destinations.length,r=0;r<t;r++){var n=this.destinations[r];u.matchesSelector(e.target,n.selector)&&n.subject._n(e)}},e.prototype.bubble=function(e){var t=this.origin;if(t.contains(e.currentTarget))for(var r=t.parentElement,n=this.patchEvent(e),i=n.target;i&&i!==r;i=i.parentElement){if(t.contains(i)||n.stopPropagation(),n.propagationHasBeenStopped)return;this.matchEventAgainstDestinations(i,n)}},e.prototype.patchEvent=function(e){var t=e;t.propagationHasBeenStopped=!1;var r=t.stopPropagation;return t.stopPropagation=function(){r.call(this),this.propagationHasBeenStopped=!0},t},e.prototype.matchEventAgainstDestinations=function(e,t){for(var r=this.destinations.length,n=0;n<r;n++){var i=this.destinations[n];i.scopeChecker.isDirectlyInScope(e)&&(u.matchesSelector(e,i.selector)&&(this.mutateEventCurrentTarget(t,e),i.subject._n(t)))}},e.prototype.mutateEventCurrentTarget=function(e,t){try{Object.defineProperty(e,"currentTarget",{value:t,configurable:!0})}catch(e){console.log("please use event.ownerTarget")}e.ownerTarget=t},e}();e.EventDelegator=l}),e.file("lib/cjs/makeDOMDriver.js",function(e,t,r,n,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=t("snabbdom"),s=t("xstream"),a=t("xstream/extra/sampleCombine"),u=t("./MainDOMSource"),c=t("snabbdom/tovnode"),l=t("./VNodeWrapper"),f=t("./utils"),h=t("./modules"),p=t("./IsolateModule");function d(e){return s.default.merge(e,s.default.never())}function v(e){return e.elm}function m(e){(console.error||console.log)(e)}t("es6-map/implement"),e.makeDOMDriver=function(e,t){t||(t={}),f.checkValidContainer(e);var r=t.modules||h.default;!function(e){if(!Array.isArray(e))throw new Error("Optional modules option must be an array for snabbdom modules")}(r);var n,i,b=new p.IsolateModule,y=o.init([b.createModule()].concat(r)),g=s.default.create({start:function(e){"loading"===document.readyState?document.addEventListener("readystatechange",function(){var t=document.readyState;"interactive"!==t&&"complete"!==t||(e.next(null),e.complete())}):(e.next(null),e.complete())},stop:function(){}}),_=new Map,w=s.default.create({start:function(e){i=new MutationObserver(function(){return e.next(null)})},stop:function(){i.disconnect()}});return function(t,r){void 0===r&&(r="DOM"),function(e){if(!e||"function"!=typeof e.addListener||"function"!=typeof e.fold)throw new Error("The DOM driver function expects as input a Stream of virtual DOM elements")}(t);var o=s.default.create(),h=g.map(function(){var t=f.getValidNode(e)||document.body;return n=new l.VNodeWrapper(t),t}),p=t.remember();p.addListener({}),w.addListener({});var x=h.map(function(e){return s.default.merge(p.endWhen(o),o).map(function(e){return n.call(e)}).fold(y,c.toVNode(e)).drop(1).map(v).startWith(e).map(function(e){return i.observe(e,{childList:!0,attributes:!0,characterData:!0,subtree:!0,attributeOldValue:!0,characterDataOldValue:!0}),e}).compose(d)}).flatten(),k=w.startWith(null).endWhen(o).compose(a.default(x)).map(function(e){return e[1]}).remember();return k.addListener({error:m}),new u.MainDOMSource(k,o,[],b,_,r)}}}),e.file("lib/cjs/VNodeWrapper.js",function(e,t,r,n,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=t("snabbdom/vnode"),s=t("snabbdom/h"),a=t("snabbdom-selector"),u=t("./utils"),c=function(){function e(e){this.rootElement=e}return e.prototype.call=function(e){if(u.isDocFrag(this.rootElement))return this.wrapDocFrag(null===e?[]:[e]);if(null===e)return this.wrap([]);var t=a.selectorParser(e),r=t.tagName,n=t.id,i=a.classNameFromVNode(e),o=((e.data||{}).props||{}).id,s=void 0===o?n:o;return"string"==typeof s&&s.toUpperCase()===this.rootElement.id.toUpperCase()&&r.toUpperCase()===this.rootElement.tagName.toUpperCase()&&i.toUpperCase()===this.rootElement.className.toUpperCase()?e:this.wrap([e])},e.prototype.wrapDocFrag=function(e){return o.vnode("",{},e,void 0,this.rootElement)},e.prototype.wrap=function(e){var t=this.rootElement,r=t.tagName,n=t.id,i=t.className,o=n?"#"+n:"",a=i?"."+i.split(" ").join("."):"";return s.h(""+r.toLowerCase()+o+a,{},e)},e}();e.VNodeWrapper=c}),e.file("lib/cjs/modules.js",function(e,t,r,n,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=t("snabbdom/modules/class");e.ClassModule=o.default;var s=t("snabbdom/modules/props");e.PropsModule=s.default;var a=t("snabbdom/modules/attributes");e.AttrsModule=a.default;var u=t("snabbdom/modules/style");e.StyleModule=u.default;var c=t("snabbdom/modules/dataset");e.DatasetModule=c.default;var l=[u.default,o.default,s.default,a.default,c.default];e.default=l}),e.file("lib/cjs/IsolateModule.js",function(e,t,r,n,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function e(){this.elementsByFullScope=new Map,this.delegatorsByFullScope=new Map,this.fullScopesBeingUpdated=[],this.vnodesBeingRemoved=[]}return e.prototype.cleanupVNode=function(e){var t=e.data,r=e.elm,n=(t||{}).isolate||"",i=this.elementsByFullScope.get(n)===r,o=this.fullScopesBeingUpdated.indexOf(n)>=0;n&&i&&!o&&(this.elementsByFullScope.delete(n),this.delegatorsByFullScope.delete(n))},e.prototype.getElement=function(e){return this.elementsByFullScope.get(e)},e.prototype.getFullScope=function(e){for(var t=this.elementsByFullScope.entries(),r=t.next();r.value;r=t.next()){var n=r.value,i=n[0];if(e===n[1])return i}return""},e.prototype.addEventDelegator=function(e,t){var r=this.delegatorsByFullScope.get(e);r||(r=[],this.delegatorsByFullScope.set(e,r)),r[r.length]=t},e.prototype.reset=function(){this.elementsByFullScope.clear(),this.delegatorsByFullScope.clear(),this.fullScopesBeingUpdated=[]},e.prototype.createModule=function(){var e=this;return{create:function(t,r){var n=t.data,i=void 0===n?{}:n,o=r.elm,s=r.data,a=void 0===s?{}:s,u=i.isolate||"",c=a.isolate||"";if(c){e.fullScopesBeingUpdated.push(c),u&&e.elementsByFullScope.delete(u),e.elementsByFullScope.set(c,o);var l=e.delegatorsByFullScope.get(c);if(l)for(var f=l.length,h=0;h<f;++h)l[h].updateOrigin(o)}u&&!c&&e.elementsByFullScope.delete(c)},update:function(t,r){var n=t.data,i=void 0===n?{}:n,o=r.elm,s=r.data,a=void 0===s?{}:s,u=i.isolate||"",c=a.isolate||"";if(c&&c!==u){u&&e.elementsByFullScope.delete(u),e.elementsByFullScope.set(c,o);var l=e.delegatorsByFullScope.get(u);l&&(e.delegatorsByFullScope.delete(u),e.delegatorsByFullScope.set(c,l))}u&&!c&&(e.elementsByFullScope.delete(u),e.delegatorsByFullScope.delete(u))},destroy:function(t){e.vnodesBeingRemoved.push(t)},remove:function(t,r){e.vnodesBeingRemoved.push(t),r()},post:function(){for(var t=e.vnodesBeingRemoved,r=t.length-1;r>=0;r--)e.cleanupVNode(t[r]);e.vnodesBeingRemoved=[],e.fullScopesBeingUpdated=[]}}},e}();e.IsolateModule=o}),e.file("lib/cjs/mockDOMSource.js",function(e,t,r,n,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=t("xstream"),s=t("@cycle/run/lib/adapt"),a=function(){function e(e){this._mockConfig=e,e.elements?this._elements=e.elements:this._elements=s.adapt(o.default.empty())}return e.prototype.elements=function(){var e=this._elements;return e._isCycleSource="MockedDOM",e},e.prototype.element=function(){var e=this.elements().filter(function(e){return e.length>0}).map(function(e){return e[0]}).remember(),t=s.adapt(e);return t._isCycleSource="MockedDOM",t},e.prototype.events=function(e,t){var r=this._mockConfig[e],n=s.adapt(r||o.default.empty());return n._isCycleSource="MockedDOM",n},e.prototype.select=function(t){return new e(this._mockConfig[t]||{})},e.prototype.isolateSource=function(e,t){return e.select(".___"+t)},e.prototype.isolateSink=function(e,t){return e.map(function(e){return e.sel&&-1!==e.sel.indexOf("___"+t)?e:(e.sel+=".___"+t,e)})},e}();e.MockedDOMSource=a,e.mockDOMSource=function(e){return new a(e)}}),e.file("lib/cjs/hyperscript-helpers.js",function(e,t,r,n,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=t("snabbdom/h");function s(e){return"string"==typeof(t=e)&&t.length>0&&("."===e[0]||"#"===e[0]);var t}function a(e){return function(t,r,n){var i=void 0!==t,a=void 0!==r,u=void 0!==n;return s(t)?a&&u?o.h(e+t,r,n):a?o.h(e+t,r):o.h(e+t,{}):u?o.h(e+t,r,n):a?o.h(e,t,r):i?o.h(e,t):o.h(e,{})}}var u=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","colorProfile","cursor","defs","desc","ellipse","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotlight","feTile","feTurbulence","filter","font","fontFace","fontFaceFormat","fontFaceName","fontFaceSrc","fontFaceUri","foreignObject","g","glyph","glyphRef","hkern","image","line","linearGradient","marker","mask","metadata","missingGlyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],c=a("svg");u.forEach(function(e){c[e]=a(e)});var l=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","dd","del","dfn","dir","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","meta","nav","noscript","object","ol","optgroup","option","p","param","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","u","ul","video"],f={SVG_TAG_NAMES:u,TAG_NAMES:l,svg:c,isSelector:s,createTagFunction:a};l.forEach(function(e){f[e]=a(e)}),e.default=f}),e.entry="lib/cjs/index.js"}),e.pkg("snabbdom",{},function(e){return e.file("h.js",function(e,t,r,n,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=t("./vnode"),s=t("./is");function a(e,t,r){var n,i,a,u={};if(void 0!==r?(u=t,s.array(r)?n=r:s.primitive(r)?i=r:r&&r.sel&&(n=[r])):void 0!==t&&(s.array(t)?n=t:s.primitive(t)?i=t:t&&t.sel?n=[t]:u=t),s.array(n))for(a=0;a<n.length;++a)s.primitive(n[a])&&(n[a]=o.vnode(void 0,void 0,void 0,n[a]));return"s"!==e[0]||"v"!==e[1]||"g"!==e[2]||3!==e.length&&"."!==e[3]&&"#"!==e[3]||function e(t,r,n){if(t.ns="http://www.w3.org/2000/svg","foreignObject"!==n&&void 0!==r)for(var i=0;i<r.length;++i){var o=r[i].data;void 0!==o&&e(o,r[i].children,r[i].sel)}}(u,n,e),o.vnode(e,u,n,i,void 0)}e.h=a,e.default=a}),e.file("vnode.js",function(e,t,r,n,i){"use strict";function o(e,t,r,n,i){return{sel:e,data:t,children:r,text:n,elm:i,key:void 0===t?void 0:t.key}}Object.defineProperty(e,"__esModule",{value:!0}),e.vnode=o,e.default=o}),e.file("is.js",function(e,t,r,n,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.array=Array.isArray,e.primitive=function(e){return"string"==typeof e||"number"==typeof e}}),e.file("snabbdom.js",function(e,t,r,n,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=t("./vnode"),s=t("./is"),a=t("./htmldomapi");function u(e){return void 0===e}function c(e){return void 0!==e}var l=o.default("",{},[],void 0,void 0);function f(e,t){return e.key===t.key&&e.sel===t.sel}function h(e,t,r){var n,i,o,s={};for(n=t;n<=r;++n)null!=(o=e[n])&&void 0!==(i=o.key)&&(s[i]=n);return s}var p=["create","update","remove","destroy","pre","post"],d=t("./h");e.h=d.h;var v=t("./thunk");e.thunk=v.thunk,e.init=function(e,t){var r,n,i={},d=void 0!==t?t:a.default;for(r=0;r<p.length;++r)for(i[p[r]]=[],n=0;n<e.length;++n){var v=e[n][p[r]];void 0!==v&&i[p[r]].push(v)}function m(e,t){return function(){if(0==--t){var r=d.parentNode(e);d.removeChild(r,e)}}}function b(e,t){var r,n=e.data;void 0!==n&&c(r=n.hook)&&c(r=r.init)&&(r(e),n=e.data);var o=e.children,a=e.sel;if("!"===a)u(e.text)&&(e.text=""),e.elm=d.createComment(e.text);else if(void 0!==a){var f=a.indexOf("#"),h=a.indexOf(".",f),p=f>0?f:a.length,v=h>0?h:a.length,m=-1!==f||-1!==h?a.slice(0,Math.min(p,v)):a,y=e.elm=c(n)&&c(r=n.ns)?d.createElementNS(r,m):d.createElement(m);for(p<v&&y.setAttribute("id",a.slice(p+1,v)),h>0&&y.setAttribute("class",a.slice(v+1).replace(/\./g," ")),r=0;r<i.create.length;++r)i.create[r](l,e);if(s.array(o))for(r=0;r<o.length;++r){var g=o[r];null!=g&&d.appendChild(y,b(g,t))}else s.primitive(e.text)&&d.appendChild(y,d.createTextNode(e.text));c(r=e.data.hook)&&(r.create&&r.create(l,e),r.insert&&t.push(e))}else e.elm=d.createTextNode(e.text);return e.elm}function y(e,t,r,n,i,o){for(;n<=i;++n){var s=r[n];null!=s&&d.insertBefore(e,b(s,o),t)}}function g(e){var t,r,n=e.data;if(void 0!==n){for(c(t=n.hook)&&c(t=t.destroy)&&t(e),t=0;t<i.destroy.length;++t)i.destroy[t](e);if(void 0!==e.children)for(r=0;r<e.children.length;++r)null!=(t=e.children[r])&&"string"!=typeof t&&g(t)}}function _(e,t,r,n){for(;r<=n;++r){var o=void 0,s=void 0,a=void 0,u=t[r];if(null!=u)if(c(u.sel)){for(g(u),s=i.remove.length+1,a=m(u.elm,s),o=0;o<i.remove.length;++o)i.remove[o](u,a);c(o=u.data)&&c(o=o.hook)&&c(o=o.remove)?o(u,a):a()}else d.removeChild(e,u.elm)}}function w(e,t,r){var n,o;c(n=t.data)&&c(o=n.hook)&&c(n=o.prepatch)&&n(e,t);var s=t.elm=e.elm,a=e.children,l=t.children;if(e!==t){if(void 0!==t.data){for(n=0;n<i.update.length;++n)i.update[n](e,t);c(n=t.data.hook)&&c(n=n.update)&&n(e,t)}u(t.text)?c(a)&&c(l)?a!==l&&function(e,t,r,n){for(var i,o,s,a=0,c=0,l=t.length-1,p=t[0],v=t[l],m=r.length-1,g=r[0],x=r[m];a<=l&&c<=m;)null==p?p=t[++a]:null==v?v=t[--l]:null==g?g=r[++c]:null==x?x=r[--m]:f(p,g)?(w(p,g,n),p=t[++a],g=r[++c]):f(v,x)?(w(v,x,n),v=t[--l],x=r[--m]):f(p,x)?(w(p,x,n),d.insertBefore(e,p.elm,d.nextSibling(v.elm)),p=t[++a],x=r[--m]):f(v,g)?(w(v,g,n),d.insertBefore(e,v.elm,p.elm),v=t[--l],g=r[++c]):(void 0===i&&(i=h(t,a,l)),u(o=i[g.key])?(d.insertBefore(e,b(g,n),p.elm),g=r[++c]):((s=t[o]).sel!==g.sel?d.insertBefore(e,b(g,n),p.elm):(w(s,g,n),t[o]=void 0,d.insertBefore(e,s.elm,p.elm)),g=r[++c]));a>l?y(e,null==r[m+1]?null:r[m+1].elm,r,c,m,n):c>m&&_(e,t,a,l)}(s,a,l,r):c(l)?(c(e.text)&&d.setTextContent(s,""),y(s,null,l,0,l.length-1,r)):c(a)?_(s,a,0,a.length-1):c(e.text)&&d.setTextContent(s,""):e.text!==t.text&&d.setTextContent(s,t.text),c(o)&&c(n=o.postpatch)&&n(e,t)}}return function(e,t){var r,n,s,a,u,c,l=[];for(r=0;r<i.pre.length;++r)i.pre[r]();for(void 0===e.sel&&(u=(a=e).id?"#"+a.id:"",c=a.className?"."+a.className.split(" ").join("."):"",e=o.default(d.tagName(a).toLowerCase()+u+c,{},[],void 0,a)),f(e,t)?w(e,t,l):(n=e.elm,s=d.parentNode(n),b(t,l),null!==s&&(d.insertBefore(s,t.elm,d.nextSibling(n)),_(s,[e],0,0))),r=0;r<l.length;++r)l[r].data.hook.insert(l[r]);for(r=0;r<i.post.length;++r)i.post[r]();return t}}}),e.file("htmldomapi.js",function(e,t,r,n,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.htmlDomApi={createElement:function(e){return document.createElement(e)},createElementNS:function(e,t){return document.createElementNS(e,t)},createTextNode:function(e){return document.createTextNode(e)},createComment:function(e){return document.createComment(e)},insertBefore:function(e,t,r){e.insertBefore(t,r)},removeChild:function(e,t){e.removeChild(t)},appendChild:function(e,t){e.appendChild(t)},parentNode:function(e){return e.parentNode},nextSibling:function(e){return e.nextSibling},tagName:function(e){return e.tagName},setTextContent:function(e,t){e.textContent=t},getTextContent:function(e){return e.textContent},isElement:function(e){return 1===e.nodeType},isText:function(e){return 3===e.nodeType},isComment:function(e){return 8===e.nodeType}},e.default=e.htmlDomApi}),e.file("thunk.js",function(e,t,r,n,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=t("./h");function s(e,t){t.elm=e.elm,e.data.fn=t.data.fn,e.data.args=t.data.args,t.data=e.data,t.children=e.children,t.text=e.text,t.elm=e.elm}function a(e){var t=e.data;s(t.fn.apply(void 0,t.args),e)}function u(e,t){var r,n=e.data,i=t.data,o=n.args,a=i.args;if(n.fn===i.fn&&o.length===a.length){for(r=0;r<a.length;++r)if(o[r]!==a[r])return void s(i.fn.apply(void 0,a),t);s(e,t)}else s(i.fn.apply(void 0,a),t)}e.thunk=function(e,t,r,n){return void 0===n&&(n=r,r=t,t=void 0),o.h(e,{key:t,hook:{init:a,prepatch:u},fn:r,args:n})},e.default=e.thunk}),e.file("tovnode.js",function(e,t,r,n,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=t("./vnode"),s=t("./htmldomapi");function a(e,t){var r,n=void 0!==t?t:s.default;if(n.isElement(e)){var i,u=e.id?"#"+e.id:"",c=e.getAttribute("class"),l=c?"."+c.split(" ").join("."):"",f=n.tagName(e).toLowerCase()+u+l,h={},p=[],d=void 0,v=void 0,m=e.attributes,b=e.childNodes;for(d=0,v=m.length;d<v;d++)"id"!==(i=m[d].nodeName)&&"class"!==i&&(h[i]=m[d].nodeValue);for(d=0,v=b.length;d<v;d++)p.push(a(b[d]));return o.default(f,{attrs:h},p,void 0,e)}return n.isText(e)?(r=n.getTextContent(e),o.default(void 0,void 0,void 0,r,e)):n.isComment(e)?(r=n.getTextContent(e),o.default("!",{},[],r,e)):o.default("",{},[],void 0,e)}e.toVNode=a,e.default=a}),e.file("modules/class.js",function(e,t,r,n,i){"use strict";function o(e,t){var r,n,i=t.elm,o=e.data.class,s=t.data.class;if((o||s)&&o!==s){o=o||{},s=s||{};for(n in o)s[n]||i.classList.remove(n);for(n in s)(r=s[n])!==o[n]&&i.classList[r?"add":"remove"](n)}}Object.defineProperty(e,"__esModule",{value:!0}),e.classModule={create:o,update:o},e.default=e.classModule}),e.file("modules/props.js",function(e,t,r,n,i){"use strict";function o(e,t){var r,n,i=t.elm,o=e.data.props,s=t.data.props;if((o||s)&&o!==s){o=o||{},s=s||{};for(r in o)s[r]||delete i[r];for(r in s)n=s[r],o[r]===n||"value"===r&&i[r]===n||(i[r]=n)}}Object.defineProperty(e,"__esModule",{value:!0}),e.propsModule={create:o,update:o},e.default=e.propsModule}),e.file("modules/attributes.js",function(e,t,r,n,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o="http://www.w3.org/1999/xlink",s="http://www.w3.org/XML/1998/namespace",a=58,u=120;function c(e,t){var r,n=t.elm,i=e.data.attrs,c=t.data.attrs;if((i||c)&&i!==c){i=i||{},c=c||{};for(r in c){var l=c[r];i[r]!==l&&(!0===l?n.setAttribute(r,""):!1===l?n.removeAttribute(r):r.charCodeAt(0)!==u?n.setAttribute(r,l):r.charCodeAt(3)===a?n.setAttributeNS(s,r,l):r.charCodeAt(5)===a?n.setAttributeNS(o,r,l):n.setAttribute(r,l))}for(r in i)r in c||n.removeAttribute(r)}}e.attributesModule={create:c,update:c},e.default=e.attributesModule}),e.file("modules/style.js",function(e,t,r,n,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o="undefined"!=typeof window&&window.requestAnimationFrame||setTimeout,s=function(e){o(function(){o(e)})};function a(e,t,r){s(function(){e[t]=r})}function u(e,t){var r,n,i=t.elm,o=e.data.style,s=t.data.style;if((o||s)&&o!==s){o=o||{},s=s||{};var u="delayed"in o;for(n in o)s[n]||("-"===n[0]&&"-"===n[1]?i.style.removeProperty(n):i.style[n]="");for(n in s)if(r=s[n],"delayed"===n&&s.delayed)for(var c in s.delayed)r=s.delayed[c],u&&r===o.delayed[c]||a(i.style,c,r);else"remove"!==n&&r!==o[n]&&("-"===n[0]&&"-"===n[1]?i.style.setProperty(n,r):i.style[n]=r)}}e.styleModule={create:u,update:u,destroy:function(e){var t,r,n=e.elm,i=e.data.style;if(i&&(t=i.destroy))for(r in t)n.style[r]=t[r]},remove:function(e,t){var r=e.data.style;if(r&&r.remove){var n,i=e.elm,o=0,s=r.remove,a=0,u=[];for(n in s)u.push(n),i.style[n]=s[n];for(var c=getComputedStyle(i)["transition-property"].split(", ");o<c.length;++o)-1!==u.indexOf(c[o])&&a++;i.addEventListener("transitionend",function(e){e.target===i&&--a,0===a&&t()})}else t()}},e.default=e.styleModule}),e.file("modules/dataset.js",function(e,t,r,n,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=/[A-Z]/g;function s(e,t){var r,n=t.elm,i=e.data.dataset,s=t.data.dataset;if((i||s)&&i!==s){i=i||{},s=s||{};var a=n.dataset;for(r in i)s[r]||(a?r in a&&delete a[r]:n.removeAttribute("data-"+r.replace(o,"-$&").toLowerCase()));for(r in s)i[r]!==s[r]&&(a?a[r]=s[r]:n.setAttribute("data-"+r.replace(o,"-$&").toLowerCase(),s[r]))}}e.datasetModule={create:s,update:s},e.default=e.datasetModule}),e.entry="snabbdom.js"}),e.pkg("@cycle/run",{},function(e){return e.file("lib/adapt.js",function(e,t,r,n,i){"use strict";function o(){var e;return(e="undefined"!=typeof window?window:"undefined"!=typeof global?global:this).Cyclejs=e.Cyclejs||{},(e=e.Cyclejs).adaptStream=e.adaptStream||function(e){return e},e}Object.defineProperty(e,"__esModule",{value:!0}),e.setAdapt=function(e){o().adaptStream=e},e.adapt=function(e){return o().adaptStream(e)}}),e.file("lib/cjs/index.js",function(e,t,r,n,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=t("xstream"),s=t("./adapt"),a=t("./microtask").default();function u(e,t){if("function"!=typeof e)throw new Error("First argument given to Cycle must be the 'main' function.");if("object"!=typeof t||null===t)throw new Error("Second argument given to Cycle must be an object with driver functions as properties.");if(r=t,0===Object.keys(r).length)throw new Error("Second argument given to Cycle must be an object with at least one driver function declared as a property.");var r,n=function(e){var t={};for(var r in e)e.hasOwnProperty(r)&&(t[r]=o.default.create());return t}(t),i=function(e,t){var r={};for(var n in e)e.hasOwnProperty(n)&&(r[n]=e[n](t[n],n),r[n]&&"object"==typeof r[n]&&(r[n]._isCycleSource=n));return r}(t,n),u=e(function(e){for(var t in e)e.hasOwnProperty(t)&&e[t]&&"function"==typeof e[t].shamefullySendNext&&(e[t]=s.adapt(e[t]));return e}(i));return"undefined"!=typeof window&&(window.Cyclejs=window.Cyclejs||{},window.Cyclejs.sinks=u),{sinks:u,sources:i,run:function(){var e=function(e,t){var r=Object.keys(e).filter(function(e){return!!t[e]}),n={},i={};r.forEach(function(e){n[e]={_n:[],_e:[]},i[e]={next:function(t){return n[e]._n.push(t)},error:function(t){return n[e]._e.push(t)},complete:function(){}}});var s=r.map(function(t){return o.default.fromObservable(e[t]).subscribe(i[t])});return r.forEach(function(e){var r=t[e],o=function(e){a(function(){return r._n(e)})},s=function(e){a(function(){(console.error||console.log)(e),r._e(e)})};n[e]._n.forEach(o),n[e]._e.forEach(s),i[e].next=o,i[e].error=s,i[e]._n=o,i[e]._e=s}),n=null,function(){s.forEach(function(e){return e.unsubscribe()}),r.forEach(function(e){return t[e]._c()})}}(u,n);return function(){!function(e){for(var t in e)e.hasOwnProperty(t)&&e[t]&&e[t].dispose&&e[t].dispose()}(i),e()}}}}function c(e,t){var r=u(e,t);return"undefined"!=typeof window&&window.CyclejsDevTool_startGraphSerializer&&window.CyclejsDevTool_startGraphSerializer(r.sinks),r.run()}e.setup=u,e.run=c,e.default=c}),e.file("lib/cjs/adapt.js",function(e,t,r,n,i){"use strict";function o(){var e;return(e="undefined"!=typeof window?window:"undefined"!=typeof global?global:this).Cyclejs=e.Cyclejs||{},(e=e.Cyclejs).adaptStream=e.adaptStream||function(e){return e},e}Object.defineProperty(e,"__esModule",{value:!0}),e.setAdapt=function(e){o().adaptStream=e},e.adapt=function(e){return o().adaptStream(e)}}),e.file("lib/cjs/microtask.js",function(e,t,r,n,i){var o=t("process");Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){if("undefined"!=typeof MutationObserver){var e=document.createTextNode(""),t=[],r=0;return new MutationObserver(function(){for(;t.length;)t.shift()()}).observe(e,{characterData:!0}),function(n){t.push(n),e.data=r=1-r}}return void 0!==o?o.nextTick:setTimeout}}),e.entry="lib/cjs/index.js"}),e.pkg("xstream",{},function(e){return e.file("index.js",function(e,t,r,n,i){"use strict";var o,s=this&&this.__extends||(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function r(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0});var a=t("symbol-observable"),u={};function c(){}function l(e){for(var t=e.length,r=Array(t),n=0;n<t;++n)r[n]=e[n];return r}function f(e,t,r){try{return e.f(t)}catch(e){return r._e(e),u}}e.NO=u;var h={_n:c,_e:c,_c:c};function p(e){e._start=function(e){e.next=e._n,e.error=e._e,e.complete=e._c,this.start(e)},e._stop=e.stop}e.NO_IL=h;var d=function(){function e(e,t){this._stream=e,this._listener=t}return e.prototype.unsubscribe=function(){this._stream.removeListener(this._listener)},e}(),v=function(){function e(e){this._listener=e}return e.prototype.next=function(e){this._listener._n(e)},e.prototype.error=function(e){this._listener._e(e)},e.prototype.complete=function(){this._listener._c()},e}(),m=function(){function e(e){this.type="fromObservable",this.ins=e,this.active=!1}return e.prototype._start=function(e){this.out=e,this.active=!0,this._sub=this.ins.subscribe(new v(e)),this.active||this._sub.unsubscribe()},e.prototype._stop=function(){this._sub&&this._sub.unsubscribe(),this.active=!1},e}(),b=function(){function e(e){this.type="merge",this.insArr=e,this.out=u,this.ac=0}return e.prototype._start=function(e){this.out=e;var t=this.insArr,r=t.length;this.ac=r;for(var n=0;n<r;n++)t[n]._add(this)},e.prototype._stop=function(){for(var e=this.insArr,t=e.length,r=0;r<t;r++)e[r]._remove(this);this.out=u},e.prototype._n=function(e){var t=this.out;t!==u&&t._n(e)},e.prototype._e=function(e){var t=this.out;t!==u&&t._e(e)},e.prototype._c=function(){if(--this.ac<=0){var e=this.out;if(e===u)return;e._c()}},e}(),y=function(){function e(e,t,r){this.i=e,this.out=t,this.p=r,r.ils.push(this)}return e.prototype._n=function(e){var t=this.p,r=this.out;if(r!==u&&t.up(e,this.i)){for(var n=t.vals,i=n.length,o=Array(i),s=0;s<i;++s)o[s]=n[s];r._n(o)}},e.prototype._e=function(e){var t=this.out;t!==u&&t._e(e)},e.prototype._c=function(){var e=this.p;e.out!==u&&0==--e.Nc&&e.out._c()},e}(),g=function(){function e(e){this.type="combine",this.insArr=e,this.out=u,this.ils=[],this.Nc=this.Nn=0,this.vals=[]}return e.prototype.up=function(e,t){var r=this.vals[t],n=this.Nn?r===u?--this.Nn:this.Nn:0;return this.vals[t]=e,0===n},e.prototype._start=function(e){this.out=e;var t=this.insArr,r=this.Nc=this.Nn=t.length,n=this.vals=new Array(r);if(0===r)e._n([]),e._c();else for(var i=0;i<r;i++)n[i]=u,t[i]._add(new y(i,e,this))},e.prototype._stop=function(){for(var e=this.insArr,t=e.length,r=this.ils,n=0;n<t;n++)e[n]._remove(r[n]);this.out=u,this.ils=[],this.vals=[]},e}(),_=function(){function e(e){this.type="fromArray",this.a=e}return e.prototype._start=function(e){for(var t=this.a,r=0,n=t.length;r<n;r++)e._n(t[r]);e._c()},e.prototype._stop=function(){},e}(),w=function(){function e(e){this.type="fromPromise",this.on=!1,this.p=e}return e.prototype._start=function(e){var t=this;this.on=!0,this.p.then(function(r){t.on&&(e._n(r),e._c())},function(t){e._e(t)}).then(c,function(e){setTimeout(function(){throw e})})},e.prototype._stop=function(){this.on=!1},e}(),x=function(){function e(e){this.type="periodic",this.period=e,this.intervalID=-1,this.i=0}return e.prototype._start=function(e){var t=this;this.intervalID=setInterval(function(){e._n(t.i++)},this.period)},e.prototype._stop=function(){-1!==this.intervalID&&clearInterval(this.intervalID),this.intervalID=-1,this.i=0},e}(),k=function(){function e(e,t){this.type="debug",this.ins=e,this.out=u,this.s=c,this.l="","string"==typeof t?this.l=t:"function"==typeof t&&(this.s=t)}return e.prototype._start=function(e){this.out=e,this.ins._add(this)},e.prototype._stop=function(){this.ins._remove(this),this.out=u},e.prototype._n=function(e){var t=this.out;if(t!==u){var r=this.s,n=this.l;if(r!==c)try{r(e)}catch(e){t._e(e)}else n?console.log(n+":",e):console.log(e);t._n(e)}},e.prototype._e=function(e){var t=this.out;t!==u&&t._e(e)},e.prototype._c=function(){var e=this.out;e!==u&&e._c()},e}(),j=function(){function e(e,t){this.type="drop",this.ins=t,this.out=u,this.max=e,this.dropped=0}return e.prototype._start=function(e){this.out=e,this.dropped=0,this.ins._add(this)},e.prototype._stop=function(){this.ins._remove(this),this.out=u},e.prototype._n=function(e){var t=this.out;t!==u&&this.dropped++>=this.max&&t._n(e)},e.prototype._e=function(e){var t=this.out;t!==u&&t._e(e)},e.prototype._c=function(){var e=this.out;e!==u&&e._c()},e}(),S=function(){function e(e,t){this.out=e,this.op=t}return e.prototype._n=function(){this.op.end()},e.prototype._e=function(e){this.out._e(e)},e.prototype._c=function(){this.op.end()},e}(),O=function(){function e(e,t){this.type="endWhen",this.ins=t,this.out=u,this.o=e,this.oil=h}return e.prototype._start=function(e){this.out=e,this.o._add(this.oil=new S(e,this)),this.ins._add(this)},e.prototype._stop=function(){this.ins._remove(this),this.o._remove(this.oil),this.out=u,this.oil=h},e.prototype.end=function(){var e=this.out;e!==u&&e._c()},e.prototype._n=function(e){var t=this.out;t!==u&&t._n(e)},e.prototype._e=function(e){var t=this.out;t!==u&&t._e(e)},e.prototype._c=function(){this.end()},e}(),E=function(){function e(e,t){this.type="filter",this.ins=t,this.out=u,this.f=e}return e.prototype._start=function(e){this.out=e,this.ins._add(this)},e.prototype._stop=function(){this.ins._remove(this),this.out=u},e.prototype._n=function(e){var t=this.out;if(t!==u){var r=f(this,e,t);r!==u&&r&&t._n(e)}},e.prototype._e=function(e){var t=this.out;t!==u&&t._e(e)},e.prototype._c=function(){var e=this.out;e!==u&&e._c()},e}(),C=function(){function e(e,t){this.out=e,this.op=t}return e.prototype._n=function(e){this.out._n(e)},e.prototype._e=function(e){this.out._e(e)},e.prototype._c=function(){this.op.inner=u,this.op.less()},e}(),A=function(){function e(e){this.type="flatten",this.ins=e,this.out=u,this.open=!0,this.inner=u,this.il=h}return e.prototype._start=function(e){this.out=e,this.open=!0,this.inner=u,this.il=h,this.ins._add(this)},e.prototype._stop=function(){this.ins._remove(this),this.inner!==u&&this.inner._remove(this.il),this.out=u,this.open=!0,this.inner=u,this.il=h},e.prototype.less=function(){var e=this.out;e!==u&&(this.open||this.inner!==u||e._c())},e.prototype._n=function(e){var t=this.out;if(t!==u){var r=this.inner,n=this.il;r!==u&&n!==h&&r._remove(n),(this.inner=e)._add(this.il=new C(t,this))}},e.prototype._e=function(e){var t=this.out;t!==u&&t._e(e)},e.prototype._c=function(){this.open=!1,this.less()},e}(),T=function(){function e(e,t,r){var n=this;this.type="fold",this.ins=r,this.out=u,this.f=function(t){return e(n.acc,t)},this.acc=this.seed=t}return e.prototype._start=function(e){this.out=e,this.acc=this.seed,e._n(this.acc),this.ins._add(this)},e.prototype._stop=function(){this.ins._remove(this),this.out=u,this.acc=this.seed},e.prototype._n=function(e){var t=this.out;if(t!==u){var r=f(this,e,t);r!==u&&t._n(this.acc=r)}},e.prototype._e=function(e){var t=this.out;t!==u&&t._e(e)},e.prototype._c=function(){var e=this.out;e!==u&&e._c()},e}(),M=function(){function e(e){this.type="last",this.ins=e,this.out=u,this.has=!1,this.val=u}return e.prototype._start=function(e){this.out=e,this.has=!1,this.ins._add(this)},e.prototype._stop=function(){this.ins._remove(this),this.out=u,this.val=u},e.prototype._n=function(e){this.has=!0,this.val=e},e.prototype._e=function(e){var t=this.out;t!==u&&t._e(e)},e.prototype._c=function(){var e=this.out;e!==u&&(this.has?(e._n(this.val),e._c()):e._e(new Error("last() failed because input stream completed")))},e}(),I=function(){function e(e,t){this.type="map",this.ins=t,this.out=u,this.f=e}return e.prototype._start=function(e){this.out=e,this.ins._add(this)},e.prototype._stop=function(){this.ins._remove(this),this.out=u},e.prototype._n=function(e){var t=this.out;if(t!==u){var r=f(this,e,t);r!==u&&t._n(r)}},e.prototype._e=function(e){var t=this.out;t!==u&&t._e(e)},e.prototype._c=function(){var e=this.out;e!==u&&e._c()},e}(),N=function(){function e(e){this.type="remember",this.ins=e,this.out=u}return e.prototype._start=function(e){this.out=e,this.ins._add(e)},e.prototype._stop=function(){this.ins._remove(this.out),this.out=u},e}(),q=function(){function e(e,t){this.type="replaceError",this.ins=t,this.out=u,this.f=e}return e.prototype._start=function(e){this.out=e,this.ins._add(this)},e.prototype._stop=function(){this.ins._remove(this),this.out=u},e.prototype._n=function(e){var t=this.out;t!==u&&t._n(e)},e.prototype._e=function(e){var t=this.out;if(t!==u)try{this.ins._remove(this),(this.ins=this.f(e))._add(this)}catch(e){t._e(e)}},e.prototype._c=function(){var e=this.out;e!==u&&e._c()},e}(),F=function(){function e(e,t){this.type="startWith",this.ins=e,this.out=u,this.val=t}return e.prototype._start=function(e){this.out=e,this.out._n(this.val),this.ins._add(e)},e.prototype._stop=function(){this.ins._remove(this.out),this.out=u},e}(),P=function(){function e(e,t){this.type="take",this.ins=t,this.out=u,this.max=e,this.taken=0}return e.prototype._start=function(e){this.out=e,this.taken=0,this.max<=0?e._c():this.ins._add(this)},e.prototype._stop=function(){this.ins._remove(this),this.out=u},e.prototype._n=function(e){var t=this.out;if(t!==u){var r=++this.taken;r<this.max?t._n(e):r===this.max&&(t._n(e),t._c())}},e.prototype._e=function(e){var t=this.out;t!==u&&t._e(e)},e.prototype._c=function(){var e=this.out;e!==u&&e._c()},e}(),D=function(){function e(e){this._prod=e||u,this._ils=[],this._stopID=u,this._dl=u,this._d=!1,this._target=u,this._err=u}return e.prototype._n=function(e){var t=this._ils,r=t.length;if(this._d&&this._dl._n(e),1==r)t[0]._n(e);else{if(0==r)return;for(var n=l(t),i=0;i<r;i++)n[i]._n(e)}},e.prototype._e=function(e){if(this._err===u){this._err=e;var t=this._ils,r=t.length;if(this._x(),this._d&&this._dl._e(e),1==r)t[0]._e(e);else{if(0==r)return;for(var n=l(t),i=0;i<r;i++)n[i]._e(e)}if(!this._d&&0==r)throw this._err}},e.prototype._c=function(){var e=this._ils,t=e.length;if(this._x(),this._d&&this._dl._c(),1==t)e[0]._c();else{if(0==t)return;for(var r=l(e),n=0;n<t;n++)r[n]._c()}},e.prototype._x=function(){0!==this._ils.length&&(this._prod!==u&&this._prod._stop(),this._err=u,this._ils=[])},e.prototype._stopNow=function(){this._prod._stop(),this._err=u,this._stopID=u},e.prototype._add=function(e){var t=this._target;if(t!==u)return t._add(e);var r=this._ils;if(r.push(e),!(r.length>1))if(this._stopID!==u)clearTimeout(this._stopID),this._stopID=u;else{var n=this._prod;n!==u&&n._start(this)}},e.prototype._remove=function(e){var t=this,r=this._target;if(r!==u)return r._remove(e);var n=this._ils,i=n.indexOf(e);i>-1&&(n.splice(i,1),this._prod!==u&&n.length<=0?(this._err=u,this._stopID=setTimeout(function(){return t._stopNow()})):1===n.length&&this._pruneCycles())},e.prototype._pruneCycles=function(){this._hasNoSinks(this,[])&&this._remove(this._ils[0])},e.prototype._hasNoSinks=function(e,t){if(-1!==t.indexOf(e))return!0;if(e.out===this)return!0;if(e.out&&e.out!==u)return this._hasNoSinks(e.out,t.concat(e));if(e._ils){for(var r=0,n=e._ils.length;r<n;r++)if(!this._hasNoSinks(e._ils[r],t.concat(e)))return!1;return!0}return!1},e.prototype.ctor=function(){return this instanceof z?z:e},e.prototype.addListener=function(e){e._n=e.next||c,e._e=e.error||c,e._c=e.complete||c,this._add(e)},e.prototype.removeListener=function(e){this._remove(e)},e.prototype.subscribe=function(e){return this.addListener(e),new d(this,e)},e.prototype[a.default]=function(){return this},e.create=function(t){if(t){if("function"!=typeof t.start||"function"!=typeof t.stop)throw new Error("producer requires both start and stop functions");p(t)}return new e(t)},e.createWithMemory=function(e){return e&&p(e),new z(e)},e.never=function(){return new e({_start:c,_stop:c})},e.empty=function(){return new e({_start:function(e){e._c()},_stop:c})},e.throw=function(t){return new e({_start:function(e){e._e(t)},_stop:c})},e.from=function(t){if("function"==typeof t[a.default])return e.fromObservable(t);if("function"==typeof t.then)return e.fromPromise(t);if(Array.isArray(t))return e.fromArray(t);throw new TypeError("Type of input to from() must be an Array, Promise, or Observable")},e.of=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return e.fromArray(t)},e.fromArray=function(t){return new e(new _(t))},e.fromPromise=function(t){return new e(new w(t))},e.fromObservable=function(t){return t.endWhen?t:new e(new m(t))},e.periodic=function(t){return new e(new x(t))},e.prototype._map=function(e){return new(this.ctor())(new I(e,this))},e.prototype.map=function(e){return this._map(e)},e.prototype.mapTo=function(e){var t=this.map(function(){return e});return t._prod.type="mapTo",t},e.prototype.filter=function(t){var r,n,i=this._prod;return new e(i instanceof E?new E((r=i.f,n=t,function(e){return r(e)&&n(e)}),i.ins):new E(t,this))},e.prototype.take=function(e){return new(this.ctor())(new P(e,this))},e.prototype.drop=function(t){return new e(new j(t,this))},e.prototype.last=function(){return new e(new M(this))},e.prototype.startWith=function(e){return new z(new F(this,e))},e.prototype.endWhen=function(e){return new(this.ctor())(new O(e,this))},e.prototype.fold=function(e,t){return new z(new T(e,t,this))},e.prototype.replaceError=function(e){return new(this.ctor())(new q(e,this))},e.prototype.flatten=function(){this._prod;return new e(new A(this))},e.prototype.compose=function(e){return e(this)},e.prototype.remember=function(){return new z(new N(this))},e.prototype.debug=function(e){return new(this.ctor())(new k(this,e))},e.prototype.imitate=function(e){if(e instanceof z)throw new Error("A MemoryStream was given to imitate(), but it only supports a Stream. Read more about this restriction here: https://github.com/staltz/xstream#faq");this._target=e;for(var t=this._ils,r=t.length,n=0;n<r;n++)e._add(t[n]);this._ils=[]},e.prototype.shamefullySendNext=function(e){this._n(e)},e.prototype.shamefullySendError=function(e){this._e(e)},e.prototype.shamefullySendComplete=function(){this._c()},e.prototype.setDebugListener=function(e){e?(this._d=!0,e._n=e.next||c,e._e=e.error||c,e._c=e.complete||c,this._dl=e):(this._d=!1,this._dl=u)},e.merge=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return new e(new b(t))},e.combine=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return new e(new g(t))},e}();e.Stream=D;var z=function(e){function t(t){var r=e.call(this,t)||this;return r._has=!1,r}return s(t,e),t.prototype._n=function(t){this._v=t,this._has=!0,e.prototype._n.call(this,t)},t.prototype._add=function(e){var t=this._target;if(t!==u)return t._add(e);var r=this._ils;if(r.push(e),r.length>1)this._has&&e._n(this._v);else if(this._stopID!==u)this._has&&e._n(this._v),clearTimeout(this._stopID),this._stopID=u;else if(this._has)e._n(this._v);else{var n=this._prod;n!==u&&n._start(this)}},t.prototype._stopNow=function(){this._has=!1,e.prototype._stopNow.call(this)},t.prototype._x=function(){this._has=!1,e.prototype._x.call(this)},t.prototype.map=function(e){return this._map(e)},t.prototype.mapTo=function(t){return e.prototype.mapTo.call(this,t)},t.prototype.take=function(t){return e.prototype.take.call(this,t)},t.prototype.endWhen=function(t){return e.prototype.endWhen.call(this,t)},t.prototype.replaceError=function(t){return e.prototype.replaceError.call(this,t)},t.prototype.remember=function(){return this},t.prototype.debug=function(t){return e.prototype.debug.call(this,t)},t}(D);e.MemoryStream=z,e.default=D}),e.file("extra/sampleCombine.js",function(e,t,r,n,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=t("../index"),s={},a=function(){function e(e,t){this.i=e,this.p=t,t.ils[e]=this}return e.prototype._n=function(e){var t=this.p;t.out!==s&&t.up(e,this.i)},e.prototype._e=function(e){this.p._e(e)},e.prototype._c=function(){this.p.down(this.i,this)},e}();e.SampleCombineListener=a;var u,c=function(){function e(e,t){this.type="sampleCombine",this.ins=e,this.others=t,this.out=s,this.ils=[],this.Nn=0,this.vals=[]}return e.prototype._start=function(e){this.out=e;for(var t=this.others,r=this.Nn=t.length,n=this.vals=new Array(r),i=0;i<r;i++)n[i]=s,t[i]._add(new a(i,this));this.ins._add(this)},e.prototype._stop=function(){var e=this.others,t=e.length,r=this.ils;this.ins._remove(this);for(var n=0;n<t;n++)e[n]._remove(r[n]);this.out=s,this.vals=[],this.ils=[]},e.prototype._n=function(e){var t=this.out;t!==s&&(this.Nn>0||t._n([e].concat(this.vals)))},e.prototype._e=function(e){var t=this.out;t!==s&&t._e(e)},e.prototype._c=function(){var e=this.out;e!==s&&e._c()},e.prototype.up=function(e,t){var r=this.vals[t];this.Nn>0&&r===s&&this.Nn--,this.vals[t]=e},e.prototype.down=function(e,t){this.others[e]._remove(t)},e}();e.SampleCombineOperator=c,u=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(t){return new o.Stream(new c(t,e))}},e.default=u}),e.entry="index.js"}),e.pkg("symbol-observable",{},function(e){return e.file("index.js",function(e,t,r,n,i){r.exports=t("./lib/index")}),e.file("lib/index.js",function(e,t,r,n,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o,s,a=t("./ponyfill"),u=(o=a)&&o.__esModule?o:{default:o};s="undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:void 0!==r?r:Function("return this")();var c=(0,u.default)(s);e.default=c}),e.file("lib/ponyfill.js",function(e,t,r,n,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(e){var t,r=e.Symbol;"function"==typeof r?r.observable?t=r.observable:(t=r("observable"),r.observable=t):t="@@observable";return t}}),e.entry="index.js"}),e.pkg("snabbdom-selector",{},function(e){return e.file("lib/index.js",function(e,t,r,n,i){"use strict";var o=t("./curry2"),s=t("./findMatches");e.select=o.curry2(s.findMatches);var a=t("./selectorParser");e.selectorParser=a.selectorParser;var u=t("./classNameFromVNode");e.classNameFromVNode=u.classNameFromVNode}),e.file("lib/curry2.js",function(e,t,r,n,i){"use strict";e.curry2=function(e){return function(t,r){switch(arguments.length){case 0:return e;case 1:return function(r){return e(t,r)};default:return e(t,r)}}}}),e.file("lib/findMatches.js",function(e,t,r,n,i){"use strict";var o=t("./language"),s=t("./parent-symbol");function a(e,t){!function e(r,n,i){for(var o=r.children&&r.children.length||0,s=0;s<o;++s){var a=r.children;a&&a[s]&&"string"!=typeof a[s]&&e(a[s],!1,r)}t(r,n,n?void 0:i)}(e,!0)}function u(e,t,r){t||(e.data||(e.data={}),e.data[s.default]||Object.defineProperty(e.data,s.default,{value:r}))}e.findMatches=function(e,t){var r=o.language(e),n=[];return a(t,u),a(t,function(e){var t,i=e.data;(t=i&&i.fn?Array.isArray(i.args)?r(i.fn.apply(null,i.args)):i.args?r(i.fn.call(null,i.args)):r(i.fn()):r(e))&&(Array.isArray(t)||(t=[t]),n.push.apply(n,t))}),n}}),e.file("lib/language.js",function(e,t,r,n,i){"use strict";var o=t("cssauron2"),s=t("./selectorParser"),a=t("./classNameFromVNode"),u=t("./parent-symbol");e.language=o.default({tag:function(e){return s.selectorParser(e).tagName},class:function(e){return a.classNameFromVNode(e)},id:function(e){return s.selectorParser(e).id},children:function(e){return e.children||[]},parent:function(e){return e.data[u.default]||e},contents:function(e){return e.text},attr:function(e,t){if(e.data){var r=e.data,n=r.attrs,i=void 0===n?{}:n,o=r.props,s=void 0===o?{}:o;if(i[t])return i[t];if(s[t])return s[t]}}})}),e.file("lib/selectorParser.js",function(e,t,r,n,i){"use strict";e.selectorParser=function(e){if(!e.sel)return{tagName:"",id:"",className:""};var t=e.sel,r=t.indexOf("#"),n=t.indexOf(".",r),i=r>0?r:t.length,o=n>0?n:t.length;return{tagName:-1!==r||-1!==n?t.slice(0,Math.min(i,o)):t,id:i<o?t.slice(i+1,o):void 0,className:n>0?t.slice(o+1).replace(/\./g," "):void 0}}}),e.file("lib/classNameFromVNode.js",function(e,t,r,n,i){"use strict";var o=t("./selectorParser");e.classNameFromVNode=function(e){var t=o.selectorParser(e).className,r=void 0===t?"":t;if(!e.data)return r;var n=e.data,i=n.class,s=n.props;return i&&(r+=" "+Object.keys(i).filter(function(e){return i[e]}).join(" ")),s&&s.className&&(r+=" "+s.className),r&&r.trim()}}),e.file("lib/parent-symbol.js",function(e,t,r,n,i){"use strict";var o,s=("undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:Function("return this")()).Symbol;o="function"==typeof s?s("parent"):"@@snabbdom-selector-parent",Object.defineProperty(e,"__esModule",{value:!0}),e.default=o}),e.entry="lib/index.js"}),e.pkg("cssauron2",{},function(e){return e.file("lib/index.js",function(e,t,r,n,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(e,t){return function(r){return u(r,function(e){for(var t in e)n=t,(r=e).hasOwnProperty(n)&&"string"==typeof r[n]&&(e[t]=Function("return function(node, attr) { return node."+e[t]+" }"),e[t]=e[t]());var r,n;return e}(e),t||h)}};var o,s=t("./tokenizer"),a=(o=s)&&o.__esModule?o:{default:o};function u(e,t,r){var n,i,o=(0,a.default)(),s=[[]];return i=s[0],n={"":function(e,r,n){do{e=t.parent(e)}while(e&&!r(e,n));return e},">":function(e,r,n){return(e=t.parent(e))&&r(e,n)?e:null},"+":function(e,r,n){for(var i,o=t.parent(e),s=0,a=0,u=(i=t.children(o)).length;a<u;++a)if(i[a]===e){s=a;break}return i[s-1]&&r(i[s-1],n)?i[s-1]:null},"~":function(e,r,n){for(var i,o=t.parent(e),s=0,a=(i=t.children(o)).length;s<a;++s){if(i[s]===e)return null;if(r(i[s],n))return i[s]}return null}},o.on("data",function(e){var o;if("comma"===e.type)return void s.unshift(i=[]);if("op"===e.type||"any-child"===e.type)return i.unshift(n[e.data]),void i.unshift(f());if(i[0]=i[0]||f(),o=i[0],"!"===e.type)return void(o.subject=s[0].subject=!0);o.push("class"===e.type?(v=e.type,m=e.data,function(e){var r=t[v](e);return(r=Array.isArray(r)?r:r?r.toString().split(/\s+/):[]).indexOf(m)>=0}):"attr"===e.type?(d=e,d.data.lhs?l(t.attr,d.data.lhs,d.data.cmp,d.data.rhs):l(t.attr,d.data)):":"===e.type||"::"===e.type?(p=e,function(e,t,r){switch(t){case"empty":return s=e,function(e){return 0===s.children(e).length};case"first-child":return o=e,function(e){return o.children(o.parent(e))[0]===e};case"last-child":return i=e,function(e){var t=i.children(i.parent(e));return t[t.length-1]===e};case"root":return n=e,function(e){return!n.parent(e)}}var n,i,o,s,a,c,l,f,h,p;return 0===t.indexOf("contains")?(a=e,c=t.slice(9,-1),function(e){return-1!==a.contents(e).indexOf(c)}):0===t.indexOf("any")?(l=e,u(t.slice(4,-1),l,r)):0===t.indexOf("not")?(f=e,h=t.slice(4,-1),p=u(h,f,r),function(e){return!p(e,!0)}):0===t.indexOf("nth-child")?function(e,t){var r=function(){return!1};"odd"==t?t="2n+1":"even"==t&&(t="2n");var n=t.match(/( ?([-|\+])?(\d*)n)? ?((\+|-)? ?(\d+))? ?/);if(n){var i=0;if(n[1]){var o="-"!=n[2];i=parseInt(""==n[3]?1:n[3]),i*=o?1:-1}var s=0;if(n[4]){s=parseInt(n[6]);var a="-"!=n[5];s*=a?1:-1}0==i?0!=s&&(r=function(e,t){return e[s-1]===t}):r=function(e,t){for(var r=[],n=e.length,o=1;o<=n;o++){var a=(o-s)%i==0;a&&(i>0?r.push(o):(o-s)/i>=0&&r.push(o))}for(var u=0;u<r.length;u++)if(e[r[u]-1]===t)return!0;return!1}}return function(t){var n=e.children(e.parent(t));return r(n,t)}}(e,t.slice(10,-1)):function(){return!1}}(t,p.data,r)):"*"===e.type?Boolean:(a=e.type,c=e.data,h=r,function(e){return h(a,t[a](e),c)}));var a,c,h;var p;var d;var v,m}).end(e),function(e,t){var r,n,o,a,u;o=e,u=[];for(var l=0,f=s.length;l<f;++l){i=s[l],r=c,n=i.length,e=o,a=[];for(var h=0;h<n&&(e=r(e,i[h],a));h+=2)r=i[h+1];if(h>=n){if(t)return!0;p(i.subject?a:[o])}}if(t)return!1;return!!u.length&&(1===u.length?u[0]:u);function p(e){for(var t;e.length;)t=e.shift(),-1===u.indexOf(t)&&u.push(t)}};function f(){return e.bits=[],e.subject=!1,e.push=function(t){e.bits.push(t)},e;function e(t,r){for(var n=0,i=e.bits.length;n<i;++n)if(!e.bits[n](t))return!1;return e.subject&&r.push(t),!0}}}function c(e,t,r){return t(e,r)?e:null}function l(e,t,r,n){return function(i){var o=e(i,t);return r?1===r.length?o==n:void 0!==o&&null!==o&&f[r.charAt(0)](o,n):!!o}}var f={$:function(e,t){return e.slice(e.length-t.length)===t},"^":function(e,t){return e.slice(0,t.length)===t},"*":function(e,t){return e.indexOf(t)>-1},"~":function(e,t){return e.split(/\s+/).indexOf(t)>-1},"|":function(e,t){return e.split("-").indexOf(t)>-1}};function h(e,t,r){return t===r}}),e.file("lib/tokenizer.js",function(e,t,r,n,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){var e,t,r,n,i,o,s,j,S=!1,O=[],E=v,C=[],A=0;return e=(0,a.default)(T,function(t){arguments.length&&T(t);O.length&&e.queue(R())});function T(e){for(C=C.concat(e.split("")),t=C.length;A<t&&(j=C[A++]);)switch(E){case v:M();break;case l:N();break;case m:I();break;case c:P();break;case f:D();break;case h:z();break;case d:case p:q();break;case u:F();break;case k:case w:case b:L()}C=C.slice(A)}function M(){switch(!0){case"#"===j:E=k;break;case"."===j:E=b;break;case":"===j:E=d;break;case"["===j:E=c;break;case"!"===j:E=_,O=["!"],e.queue(R()),E=v;break;case"*"===j:E=x,O=["*"],e.queue(R()),E=v;break;case","===j:E=y,O=[","],e.queue(R()),E=v;break;case/[>\+~]/.test(j):E=m;break;case/\s/.test(j):E=l;break;case/[\w\d\-_]/.test(j):E=w,--A}}function I(){if(/[>\+~]/.test(j))return O.push(j);/\s/.test(j)||(e.queue(R()),E=v,--A)}function N(){if(!/\s/.test(j)){if(/[>\+~]/.test(j))return--A,E=m;e.queue(R()),E=v,--A}}function q(){if(o=E,L(!0),E===v){if("("===j)return i=O.join(""),E=u,O.length=0,n=1,void++A;E=d,e.queue(R()),E=v}}function F(){if(0!==O.length||r||!(r=/['"]/.test(j)?j:null)){if(r)return S||j!==r?"\\"===j?void(S?O.push(j):S=!0):(S=!1,void O.push(j)):void(r=null);O.push(j),"("===j?++n:")"===j&&--n,n||(O.pop(),e.queue({type:o,data:i+"("+O.join("")+")"}),E=v,i=o=s=null,O.length=0)}}function P(){if(L(!0),E===v){if("]"===j)return E=g,e.queue(R()),void(E=v);i=O.join(""),O.length=0,E=f}}function D(){if(/[=~|$^*]/.test(j)&&O.push(j),2===O.length||"="===j)return s=O.join(""),O.length=0,E=h,void(r=null)}function z(){if(O.length||r||!(r=/['"]/.test(j)?j:null)){if(r)return S||j!==r?"\\"===j?(S&&O.push(j),void(S=!S)):(S=!1,void O.push(j)):void(r=null);L(!0),E===v&&(e.queue({type:g,data:{lhs:i,rhs:O.join(""),cmp:s}}),E=v,i=o=s=null,O.length=0)}}function L(t){!/[^\d\w\-_]/.test(j)||S?(S=!1,O.push(j)):"\\"===j?S=!0:(!t&&e.queue(R()),E=v,--A)}function R(){var e=O.join("");return O.length=0,{type:E,data:e}}};var o,s=t("through"),a=(o=s)&&o.__esModule?o:{default:o};var u="pseudo-start",c="attr-start",l="any-child",f="attr-comp",h="attr-end",p="::",d=":",v="(ready)",m="op",b="class",y="comma",g="attr",_="!",w="tag",x="*",k="id"}),e.entry="lib/index.js"}),e.pkg("through",{},function(e){return e.file("index.js",function(e,t,r,n,i){var o=t("process"),s=t("stream");function a(e,t,r){e=e||function(e){this.queue(e)},t=t||function(){this.queue(null)};var n=!1,i=!1,a=[],u=!1,c=new s;function l(){for(;a.length&&!c.paused;){var e=a.shift();if(null===e)return c.emit("end");c.emit("data",e)}}return c.readable=c.writable=!0,c.paused=!1,c.autoDestroy=!(r&&!1===r.autoDestroy),c.write=function(t){return e.call(this,t),!c.paused},c.queue=c.push=function(e){return u?c:(null===e&&(u=!0),a.push(e),l(),c)},c.on("end",function(){c.readable=!1,!c.writable&&c.autoDestroy&&o.nextTick(function(){c.destroy()})}),c.end=function(e){if(!n)return n=!0,arguments.length&&c.write(e),c.writable=!1,t.call(c),!c.readable&&c.autoDestroy&&c.destroy(),c},c.destroy=function(){if(!i)return i=!0,n=!0,a.length=0,c.writable=c.readable=!1,c.emit("close"),c},c.pause=function(){if(!c.paused)return c.paused=!0,c},c.resume=function(){return c.paused&&(c.paused=!1,c.emit("resume")),l(),c.paused||c.emit("drain"),c},c}r.exports=a,a.through=a}),e.entry="index.js"}),e.pkg("stream",{},function(t){return t.file("index.js",function(t,r,n,i,o){e.isServer?n.exports=global.require("stream"):n.exports={}}),t.entry="index.js"}),e.pkg("es6-map",{},function(e){return e.file("implement.js",function(e,t,r,n,i){"use strict";t("./is-implemented")()||Object.defineProperty(t("es5-ext/global"),"Map",{value:t("./polyfill"),configurable:!0,enumerable:!1,writable:!0})}),e.file("is-implemented.js",function(e,t,r,n,i){"use strict";r.exports=function(){var e,t;if("function"!=typeof Map)return!1;try{e=new Map([["raz","one"],["dwa","two"],["trzy","three"]])}catch(e){return!1}return"[object Map]"===String(e)&&(3===e.size&&("function"==typeof e.clear&&("function"==typeof e.delete&&("function"==typeof e.entries&&("function"==typeof e.forEach&&("function"==typeof e.get&&("function"==typeof e.has&&("function"==typeof e.keys&&("function"==typeof e.set&&("function"==typeof e.values&&(!1===(t=e.entries().next()).done&&(!!t.value&&("raz"===t.value[0]&&"one"===t.value[1])))))))))))))}}),e.file("polyfill.js",function(e,t,r,n,i){"use strict";var o,s=t("es5-ext/array/#/clear"),a=t("es5-ext/array/#/e-index-of"),u=t("es5-ext/object/set-prototype-of"),c=t("es5-ext/object/valid-callable"),l=t("es5-ext/object/valid-value"),f=t("d"),h=t("event-emitter"),p=t("es6-symbol"),d=t("es6-iterator/valid-iterable"),v=t("es6-iterator/for-of"),m=t("./lib/iterator"),b=t("./is-native-implemented"),y=Function.prototype.call,g=Object.defineProperties,_=Object.getPrototypeOf;r.exports=o=function(){var e,t,r,n=arguments[0];if(!(this instanceof o))throw new TypeError("Constructor requires 'new'");return r=b&&u&&Map!==o?u(new Map,_(this)):this,null!=n&&d(n),g(r,{__mapKeysData__:f("c",e=[]),__mapValuesData__:f("c",t=[])}),n?(v(n,function(r){var n=l(r)[0];r=r[1],-1===a.call(e,n)&&(e.push(n),t.push(r))},r),r):r},b&&(u&&u(o,Map),o.prototype=Object.create(Map.prototype,{constructor:f(o)})),h(g(o.prototype,{clear:f(function(){this.__mapKeysData__.length&&(s.call(this.__mapKeysData__),s.call(this.__mapValuesData__),this.emit("_clear"))}),delete:f(function(e){var t=a.call(this.__mapKeysData__,e);return-1!==t&&(this.__mapKeysData__.splice(t,1),this.__mapValuesData__.splice(t,1),this.emit("_delete",t,e),!0)}),entries:f(function(){return new m(this,"key+value")}),forEach:f(function(e){var t,r,n=arguments[1];for(c(e),r=(t=this.entries())._next();void 0!==r;)y.call(e,n,this.__mapValuesData__[r],this.__mapKeysData__[r],this),r=t._next()}),get:f(function(e){var t=a.call(this.__mapKeysData__,e);if(-1!==t)return this.__mapValuesData__[t]}),has:f(function(e){return-1!==a.call(this.__mapKeysData__,e)}),keys:f(function(){return new m(this,"key")}),set:f(function(e,t){var r,n=a.call(this.__mapKeysData__,e);return-1===n&&(n=this.__mapKeysData__.push(e)-1,r=!0),this.__mapValuesData__[n]=t,r&&this.emit("_add",n,e),this}),size:f.gs(function(){return this.__mapKeysData__.length}),values:f(function(){return new m(this,"value")}),toString:f(function(){return"[object Map]"})})),Object.defineProperty(o.prototype,p.iterator,f(function(){return this.entries()})),Object.defineProperty(o.prototype,p.toStringTag,f("c","Map"))}),e.file("lib/iterator.js",function(e,t,r,n,i){"use strict";var o,s=t("es5-ext/object/set-prototype-of"),a=t("d"),u=t("es6-iterator"),c=t("es6-symbol").toStringTag,l=t("./iterator-kinds"),f=Object.defineProperties,h=u.prototype._unBind;o=r.exports=function(e,t){if(!(this instanceof o))return new o(e,t);u.call(this,e.__mapKeysData__,e),t&&l[t]||(t="key+value"),f(this,{__kind__:a("",t),__values__:a("w",e.__mapValuesData__)})},s&&s(o,u),o.prototype=Object.create(u.prototype,{constructor:a(o),_resolve:a(function(e){return"value"===this.__kind__?this.__values__[e]:"key"===this.__kind__?this.__list__[e]:[this.__list__[e],this.__values__[e]]}),_unBind:a(function(){this.__values__=null,h.call(this)}),toString:a(function(){return"[object Map Iterator]"})}),Object.defineProperty(o.prototype,c,a("c","Map Iterator"))}),e.file("lib/iterator-kinds.js",function(e,t,r,n,i){"use strict";r.exports=t("es5-ext/object/primitive-set")("key","value","key+value")}),e.file("is-native-implemented.js",function(e,t,r,n,i){"use strict";r.exports="undefined"!=typeof Map&&"[object Map]"===Object.prototype.toString.call(new Map)}),e.entry="index.js"}),e.pkg("es5-ext",{},function(e){return e.file("global.js",function(e,t,r,n,i){r.exports=function(){return this}()}),e.file("array/#/clear.js",function(e,t,r,n,i){"use strict";var o=t("../../object/valid-value");r.exports=function(){return o(this).length=0,this}}),e.file("object/valid-value.js",function(e,t,r,n,i){"use strict";var o=t("./is-value");r.exports=function(e){if(!o(e))throw new TypeError("Cannot use null or undefined");return e}}),e.file("object/is-value.js",function(e,t,r,n,i){"use strict";var o=t("../function/noop")();r.exports=function(e){return e!==o&&null!==e}}),e.file("function/noop.js",function(e,t,r,n,i){"use strict";r.exports=function(){}}),e.file("array/#/e-index-of.js",function(e,t,r,n,i){"use strict";var o=t("../../number/is-nan"),s=t("../../number/to-pos-integer"),a=t("../../object/valid-value"),u=Array.prototype.indexOf,c=Object.prototype.hasOwnProperty,l=Math.abs,f=Math.floor;r.exports=function(e){var t,r,n,i;if(!o(e))return u.apply(this,arguments);for(r=s(a(this).length),n=arguments[1],t=n=isNaN(n)?0:n>=0?f(n):s(this.length)-f(l(n));t<r;++t)if(c.call(this,t)&&(i=this[t],o(i)))return t;return-1}}),e.file("number/is-nan/index.js",function(e,t,r,n,i){"use strict";r.exports=t("./is-implemented")()?Number.isNaN:t("./shim")}),e.file("number/is-nan/is-implemented.js",function(e,t,r,n,i){"use strict";r.exports=function(){var e=Number.isNaN;return"function"==typeof e&&(!e({})&&e(NaN)&&!e(34))}}),e.file("number/is-nan/shim.js",function(e,t,r,n,i){"use strict";r.exports=function(e){return e!=e}}),e.file("number/to-pos-integer.js",function(e,t,r,n,i){"use strict";var o=t("./to-integer"),s=Math.max;r.exports=function(e){return s(0,o(e))}}),e.file("number/to-integer.js",function(e,t,r,n,i){"use strict";var o=t("../math/sign"),s=Math.abs,a=Math.floor;r.exports=function(e){return isNaN(e)?0:0!==(e=Number(e))&&isFinite(e)?o(e)*a(s(e)):e}}),e.file("math/sign/index.js",function(e,t,r,n,i){"use strict";r.exports=t("./is-implemented")()?Math.sign:t("./shim")}),e.file("math/sign/is-implemented.js",function(e,t,r,n,i){"use strict";r.exports=function(){var e=Math.sign;return"function"==typeof e&&(1===e(10)&&-1===e(-20))}}),e.file("math/sign/shim.js",function(e,t,r,n,i){"use strict";r.exports=function(e){return e=Number(e),isNaN(e)||0===e?e:e>0?1:-1}}),e.file("object/set-prototype-of/index.js",function(e,t,r,n,i){"use strict";r.exports=t("./is-implemented")()?Object.setPrototypeOf:t("./shim")}),e.file("object/set-prototype-of/is-implemented.js",function(e,t,r,n,i){"use strict";var o=Object.create,s=Object.getPrototypeOf,a={};r.exports=function(){var e=Object.setPrototypeOf,t=arguments[0]||o;return"function"==typeof e&&s(e(t(null),a))===a}}),e.file("object/set-prototype-of/shim.js",function(e,t,r,n,i){"use strict";var o,s,a,u,c=t("../is-object"),l=t("../valid-value"),f=Object.prototype.isPrototypeOf,h=Object.defineProperty,p={configurable:!0,enumerable:!1,writable:!0,value:void 0};o=function(e,t){if(l(e),null===t||c(t))return e;throw new TypeError("Prototype must be null or an object")},r.exports=(s=function(){var e,t=Object.create(null),r={},n=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__");if(n){try{(e=n.set).call(t,r)}catch(e){}if(Object.getPrototypeOf(t)===r)return{set:e,level:2}}return t.__proto__=r,Object.getPrototypeOf(t)===r?{level:2}:((t={}).__proto__=r,Object.getPrototypeOf(t)===r&&{level:1})}())?(2===s.level?s.set?(u=s.set,a=function(e,t){return u.call(o(e,t),t),e}):a=function(e,t){return o(e,t).__proto__=t,e}:a=function e(t,r){var n;return o(t,r),(n=f.call(e.nullPolyfill,t))&&delete e.nullPolyfill.__proto__,null===r&&(r=e.nullPolyfill),t.__proto__=r,n&&h(e.nullPolyfill,"__proto__",p),t},Object.defineProperty(a,"level",{configurable:!1,enumerable:!1,writable:!1,value:s.level})):null,t("../create")}),e.file("object/is-object.js",function(e,t,r,n,i){"use strict";var o=t("./is-value"),s={function:!0,object:!0};r.exports=function(e){return o(e)&&s[typeof e]||!1}}),e.file("object/create.js",function(e,t,r,n,i){"use strict";var o,s,a,u,c=Object.create;t("./set-prototype-of/is-implemented")()||(o=t("./set-prototype-of/shim")),r.exports=o?1!==o.level?c:(s={},a={},u={configurable:!1,enumerable:!1,writable:!0,value:void 0},Object.getOwnPropertyNames(Object.prototype).forEach(function(e){a[e]="__proto__"!==e?u:{configurable:!0,enumerable:!1,writable:!0,value:void 0}}),Object.defineProperties(s,a),Object.defineProperty(o,"nullPolyfill",{configurable:!1,enumerable:!1,writable:!1,value:s}),function(e,t){return c(null===e?s:e,t)}):c}),e.file("object/valid-callable.js",function(e,t,r,n,i){"use strict";r.exports=function(e){if("function"!=typeof e)throw new TypeError(e+" is not a function");return e}}),e.file("object/assign/index.js",function(e,t,r,n,i){"use strict";r.exports=t("./is-implemented")()?Object.assign:t("./shim")}),e.file("object/assign/is-implemented.js",function(e,t,r,n,i){"use strict";r.exports=function(){var e,t=Object.assign;return"function"==typeof t&&(t(e={foo:"raz"},{bar:"dwa"},{trzy:"trzy"}),e.foo+e.bar+e.trzy==="razdwatrzy")}}),e.file("object/assign/shim.js",function(e,t,r,n,i){"use strict";var o=t("../keys"),s=t("../valid-value"),a=Math.max;r.exports=function(e,t){var r,n,i,u=a(arguments.length,2);for(e=Object(s(e)),i=function(n){try{e[n]=t[n]}catch(e){r||(r=e)}},n=1;n<u;++n)t=arguments[n],o(t).forEach(i);if(void 0!==r)throw r;return e}}),e.file("object/keys/index.js",function(e,t,r,n,i){"use strict";r.exports=t("./is-implemented")()?Object.keys:t("./shim")}),e.file("object/keys/is-implemented.js",function(e,t,r,n,i){"use strict";r.exports=function(){try{return Object.keys("primitive"),!0}catch(e){return!1}}}),e.file("object/keys/shim.js",function(e,t,r,n,i){"use strict";var o=t("../is-value"),s=Object.keys;r.exports=function(e){return s(o(e)?Object(e):e)}}),e.file("object/normalize-options.js",function(e,t,r,n,i){"use strict";var o=t("./is-value"),s=Array.prototype.forEach,a=Object.create;r.exports=function(e){var t=a(null);return s.call(arguments,function(e){o(e)&&function(e,t){var r;for(r in e)t[r]=e[r]}(Object(e),t)}),t}}),e.file("object/is-callable.js",function(e,t,r,n,i){"use strict";r.exports=function(e){return"function"==typeof e}}),e.file("string/#/contains/index.js",function(e,t,r,n,i){"use strict";r.exports=t("./is-implemented")()?String.prototype.contains:t("./shim")}),e.file("string/#/contains/is-implemented.js",function(e,t,r,n,i){"use strict";r.exports=function(){return"function"==typeof"razdwatrzy".contains&&(!0==="razdwatrzy".contains("dwa")&&!1==="razdwatrzy".contains("foo"))}}),e.file("string/#/contains/shim.js",function(e,t,r,n,i){"use strict";var o=String.prototype.indexOf;r.exports=function(e){return o.call(this,e,arguments[1])>-1}}),e.file("function/is-arguments.js",function(e,t,r,n,i){"use strict";var o=Object.prototype.toString,s=o.call(function(){return arguments}());r.exports=function(e){return o.call(e)===s}}),e.file("string/is-string.js",function(e,t,r,n,i){"use strict";var o=Object.prototype.toString,s=o.call("");r.exports=function(e){return"string"==typeof e||e&&"object"==typeof e&&(e instanceof String||o.call(e)===s)||!1}}),e.file("object/copy.js",function(e,t,r,n,i){"use strict";var o=t("../array/from"),s=t("./assign"),a=t("./valid-value");r.exports=function(e){var t=Object(a(e)),r=arguments[1],n=Object(arguments[2]);if(t!==e&&!r)return t;var i={};return r?o(r,function(t){(n.ensure||t in e)&&(i[t]=e[t])}):s(i,e),i}}),e.file("array/from/index.js",function(e,t,r,n,i){"use strict";r.exports=t("./is-implemented")()?Array.from:t("./shim")}),e.file("array/from/is-implemented.js",function(e,t,r,n,i){"use strict";r.exports=function(){var e,t,r=Array.from;return"function"==typeof r&&(t=r(e=["raz","dwa"]),Boolean(t&&t!==e&&"dwa"===t[1]))}}),e.file("array/from/shim.js",function(e,t,r,n,i){"use strict";var o=t("es6-symbol").iterator,s=t("../../function/is-arguments"),a=t("../../function/is-function"),u=t("../../number/to-pos-integer"),c=t("../../object/valid-callable"),l=t("../../object/valid-value"),f=t("../../object/is-value"),h=t("../../string/is-string"),p=Array.isArray,d=Function.prototype.call,v={configurable:!0,enumerable:!0,writable:!0,value:null},m=Object.defineProperty;r.exports=function(e){var t,r,n,i,b,y,g,_,w,x,k=arguments[1],j=arguments[2];if(e=Object(l(e)),f(k)&&c(k),this&&this!==Array&&a(this))t=this;else{if(!k){if(s(e))return 1!==(b=e.length)?Array.apply(null,e):((i=new Array(1))[0]=e[0],i);if(p(e)){for(i=new Array(b=e.length),r=0;r<b;++r)i[r]=e[r];return i}}i=[]}if(!p(e))if(void 0!==(w=e[o])){for(g=c(w).call(e),t&&(i=new t),_=g.next(),r=0;!_.done;)x=k?d.call(k,j,_.value,r):_.value,t?(v.value=x,m(i,r,v)):i[r]=x,_=g.next(),++r;b=r}else if(h(e)){for(b=e.length,t&&(i=new t),r=0,n=0;r<b;++r)x=e[r],r+1<b&&(y=x.charCodeAt(0))>=55296&&y<=56319&&(x+=e[++r]),x=k?d.call(k,j,x,n):x,t?(v.value=x,m(i,n,v)):i[n]=x,++n;b=n}if(void 0===b)for(b=u(e.length),t&&(i=new t(b)),r=0;r<b;++r)x=k?d.call(k,j,e[r],r):e[r],t?(v.value=x,m(i,r,v)):i[r]=x;return t&&(v.value=null,i.length=b),i}}),e.file("function/is-function.js",function(e,t,r,n,i){"use strict";var o=Object.prototype.toString,s=o.call(t("./noop"));r.exports=function(e){return"function"==typeof e&&o.call(e)===s}}),e.file("object/map.js",function(e,t,r,n,i){"use strict";var o=t("./valid-callable"),s=t("./for-each"),a=Function.prototype.call;r.exports=function(e,t){var r={},n=arguments[2];return o(t),s(e,function(e,i,o,s){r[i]=a.call(t,n,e,i,o,s)}),r}}),e.file("object/for-each.js",function(e,t,r,n,i){"use strict";r.exports=t("./_iterate")("forEach")}),e.file("object/_iterate.js",function(e,t,r,n,i){"use strict";var o=t("./valid-callable"),s=t("./valid-value"),a=Function.prototype.bind,u=Function.prototype.call,c=Object.keys,l=Object.prototype.propertyIsEnumerable;r.exports=function(e,t){return function(r,n){var i,f=arguments[2],h=arguments[3];return r=Object(s(r)),o(n),i=c(r),h&&i.sort("function"==typeof h?a.call(h,r):void 0),"function"!=typeof e&&(e=i[e]),u.call(e,i,function(e,i){return l.call(r,e)?u.call(n,f,r[e],e,r,i):t})}}}),e.file("object/primitive-set.js",function(e,t,r,n,i){"use strict";var o=Array.prototype.forEach,s=Object.create;r.exports=function(e){var t=s(null);return o.call(arguments,function(e){t[e]=!0}),t}}),e.entry="index.js"}),e.pkg("d",{},function(e){return e.file("index.js",function(e,t,r,n,i){"use strict";var o=t("es5-ext/object/assign"),s=t("es5-ext/object/normalize-options"),a=t("es5-ext/object/is-callable"),u=t("es5-ext/string/#/contains");(r.exports=function(e,t){var r,n,i,a,c;return arguments.length<2||"string"!=typeof e?(a=t,t=e,e=null):a=arguments[2],null==e?(r=i=!0,n=!1):(r=u.call(e,"c"),n=u.call(e,"e"),i=u.call(e,"w")),c={value:t,configurable:r,enumerable:n,writable:i},a?o(s(a),c):c}).gs=function(e,t,r){var n,i,c,l;return"string"!=typeof e?(c=r,r=t,t=e,e=null):c=arguments[3],null==t?t=void 0:a(t)?null==r?r=void 0:a(r)||(c=r,r=void 0):(c=t,t=r=void 0),null==e?(n=!0,i=!1):(n=u.call(e,"c"),i=u.call(e,"e")),l={get:t,set:r,configurable:n,enumerable:i},c?o(s(c),l):l}}),e.file("auto-bind.js",function(e,t,r,n,i){"use strict";var o,s=t("es5-ext/object/copy"),a=t("es5-ext/object/normalize-options"),u=t("es5-ext/object/valid-callable"),c=t("es5-ext/object/map"),l=t("es5-ext/object/valid-callable"),f=t("es5-ext/object/valid-value"),h=Function.prototype.bind,p=Object.defineProperty,d=Object.prototype.hasOwnProperty;o=function(e,t,r){var n,i=f(t)&&l(t.value);return delete(n=s(t)).writable,delete n.value,n.get=function(){return!r.overwriteDefinition&&d.call(this,e)?i:(t.value=h.call(i,r.resolveContext?r.resolveContext(this):this),p(this,e,t),this[e])},n},r.exports=function(e){var t=a(arguments[1]);return null!=t.resolveContext&&u(t.resolveContext),c(e,function(e,r){return o(r,e,t)})}}),e.entry="index.js"}),e.pkg("event-emitter",{},function(e){return e.file("index.js",function(e,t,r,n,i){"use strict";var o,s,a,u,c,l,f,h=t("d"),p=t("es5-ext/object/valid-callable"),d=Function.prototype.apply,v=Function.prototype.call,m=Object.create,b=Object.defineProperty,y=Object.defineProperties,g=Object.prototype.hasOwnProperty,_={configurable:!0,enumerable:!1,writable:!0};c={on:o=function(e,t){var r;return p(t),g.call(this,"__ee__")?r=this.__ee__:(r=_.value=m(null),b(this,"__ee__",_),_.value=null),r[e]?"object"==typeof r[e]?r[e].push(t):r[e]=[r[e],t]:r[e]=t,this},once:s=function(e,t){var r,n;return p(t),n=this,o.call(this,e,r=function(){a.call(n,e,r),d.call(t,this,arguments)}),r.__eeOnceListener__=t,this},off:a=function(e,t){var r,n,i,o;if(p(t),!g.call(this,"__ee__"))return this;if(!(r=this.__ee__)[e])return this;if("object"==typeof(n=r[e]))for(o=0;i=n[o];++o)i!==t&&i.__eeOnceListener__!==t||(2===n.length?r[e]=n[o?0:1]:n.splice(o,1));else n!==t&&n.__eeOnceListener__!==t||delete r[e];return this},emit:u=function(e){var t,r,n,i,o;if(g.call(this,"__ee__")&&(i=this.__ee__[e]))if("object"==typeof i){for(r=arguments.length,o=new Array(r-1),t=1;t<r;++t)o[t-1]=arguments[t];for(i=i.slice(),t=0;n=i[t];++t)d.call(n,this,o)}else switch(arguments.length){case 1:v.call(i,this);break;case 2:v.call(i,this,arguments[1]);break;case 3:v.call(i,this,arguments[1],arguments[2]);break;default:for(r=arguments.length,o=new Array(r-1),t=1;t<r;++t)o[t-1]=arguments[t];d.call(i,this,o)}}},l={on:h(o),once:h(s),off:h(a),emit:h(u)},f=y({},l),r.exports=e=function(e){return null==e?m(f):y(Object(e),l)},e.methods=c}),e.entry="index.js"}),e.pkg("es6-symbol",{},function(e){return e.file("index.js",function(e,t,r,n,i){"use strict";r.exports=t("./is-implemented")()?Symbol:t("./polyfill")}),e.file("is-implemented.js",function(e,t,r,n,i){"use strict";var o={object:!0,symbol:!0};r.exports=function(){var e;if("function"!=typeof Symbol)return!1;e=Symbol("test symbol");try{String(e)}catch(e){return!1}return!!o[typeof Symbol.iterator]&&(!!o[typeof Symbol.toPrimitive]&&!!o[typeof Symbol.toStringTag])}}),e.file("polyfill.js",function(e,t,r,n,i){"use strict";var o,s,a,u,c=t("d"),l=t("./validate-symbol"),f=Object.create,h=Object.defineProperties,p=Object.defineProperty,d=Object.prototype,v=f(null);if("function"==typeof Symbol){o=Symbol;try{String(o()),u=!0}catch(e){}}var m,b=(m=f(null),function(e){for(var t,r,n=0;m[e+(n||"")];)++n;return m[e+=n||""]=!0,p(d,t="@@"+e,c.gs(null,function(e){r||(r=!0,p(this,t,c(e)),r=!1)})),t});a=function(e){if(this instanceof a)throw new TypeError("Symbol is not a constructor");return s(e)},r.exports=s=function e(t){var r;if(this instanceof e)throw new TypeError("Symbol is not a constructor");return u?o(t):(r=f(a.prototype),t=void 0===t?"":String(t),h(r,{__description__:c("",t),__name__:c("",b(t))}))},h(s,{for:c(function(e){return v[e]?v[e]:v[e]=s(String(e))}),keyFor:c(function(e){var t;l(e);for(t in v)if(v[t]===e)return t}),hasInstance:c("",o&&o.hasInstance||s("hasInstance")),isConcatSpreadable:c("",o&&o.isConcatSpreadable||s("isConcatSpreadable")),iterator:c("",o&&o.iterator||s("iterator")),match:c("",o&&o.match||s("match")),replace:c("",o&&o.replace||s("replace")),search:c("",o&&o.search||s("search")),species:c("",o&&o.species||s("species")),split:c("",o&&o.split||s("split")),toPrimitive:c("",o&&o.toPrimitive||s("toPrimitive")),toStringTag:c("",o&&o.toStringTag||s("toStringTag")),unscopables:c("",o&&o.unscopables||s("unscopables"))}),h(a.prototype,{constructor:c(s),toString:c("",function(){return this.__name__})}),h(s.prototype,{toString:c(function(){return"Symbol ("+l(this).__description__+")"}),valueOf:c(function(){return l(this)})}),p(s.prototype,s.toPrimitive,c("",function(){var e=l(this);return"symbol"==typeof e?e:e.toString()})),p(s.prototype,s.toStringTag,c("c","Symbol")),p(a.prototype,s.toStringTag,c("c",s.prototype[s.toStringTag])),p(a.prototype,s.toPrimitive,c("c",s.prototype[s.toPrimitive]))}),e.file("validate-symbol.js",function(e,t,r,n,i){"use strict";var o=t("./is-symbol");r.exports=function(e){if(!o(e))throw new TypeError(e+" is not a symbol");return e}}),e.file("is-symbol.js",function(e,t,r,n,i){"use strict";r.exports=function(e){return!!e&&("symbol"==typeof e||!!e.constructor&&("Symbol"===e.constructor.name&&"Symbol"===e[e.constructor.toStringTag]))}}),e.entry="index.js"}),e.pkg("es6-iterator",{},function(e){return e.file("valid-iterable.js",function(e,t,r,n,i){"use strict";var o=t("./is-iterable");r.exports=function(e){if(!o(e))throw new TypeError(e+" is not iterable");return e}}),e.file("is-iterable.js",function(e,t,r,n,i){"use strict";var o=t("es5-ext/function/is-arguments"),s=t("es5-ext/object/is-value"),a=t("es5-ext/string/is-string"),u=t("es6-symbol").iterator,c=Array.isArray;r.exports=function(e){return!!s(e)&&(!!c(e)||(!!a(e)||(!!o(e)||"function"==typeof e[u])))}}),e.file("for-of.js",function(e,t,r,n,i){"use strict";var o=t("es5-ext/function/is-arguments"),s=t("es5-ext/object/valid-callable"),a=t("es5-ext/string/is-string"),u=t("./get"),c=Array.isArray,l=Function.prototype.call,f=Array.prototype.some;r.exports=function(e,t){var r,n,i,h,p,d,v,m,b=arguments[2];if(c(e)||o(e)?r="array":a(e)?r="string":e=u(e),s(t),i=function(){h=!0},"array"!==r)if("string"!==r)for(n=e.next();!n.done;){if(l.call(t,b,n.value,i),h)return;n=e.next()}else for(d=e.length,p=0;p<d&&(v=e[p],p+1<d&&(m=v.charCodeAt(0))>=55296&&m<=56319&&(v+=e[++p]),l.call(t,b,v,i),!h);++p);else f.call(e,function(e){return l.call(t,b,e,i),h})}}),e.file("get.js",function(e,t,r,n,i){"use strict";var o=t("es5-ext/function/is-arguments"),s=t("es5-ext/string/is-string"),a=t("./array"),u=t("./string"),c=t("./valid-iterable"),l=t("es6-symbol").iterator;r.exports=function(e){return"function"==typeof c(e)[l]?e[l]():o(e)?new a(e):s(e)?new u(e):new a(e)}}),e.file("array.js",function(e,t,r,n,i){"use strict";var o,s=t("es5-ext/object/set-prototype-of"),a=t("es5-ext/string/#/contains"),u=t("d"),c=t("es6-symbol"),l=t("./"),f=Object.defineProperty;o=r.exports=function(e,t){if(!(this instanceof o))throw new TypeError("Constructor requires 'new'");l.call(this,e),t=t?a.call(t,"key+value")?"key+value":a.call(t,"key")?"key":"value":"value",f(this,"__kind__",u("",t))},s&&s(o,l),delete o.prototype.constructor,o.prototype=Object.create(l.prototype,{_resolve:u(function(e){return"value"===this.__kind__?this.__list__[e]:"key+value"===this.__kind__?[e,this.__list__[e]]:e})}),f(o.prototype,c.toStringTag,u("c","Array Iterator"))}),e.file("index.js",function(e,t,r,n,i){"use strict";var o,s=t("es5-ext/array/#/clear"),a=t("es5-ext/object/assign"),u=t("es5-ext/object/valid-callable"),c=t("es5-ext/object/valid-value"),l=t("d"),f=t("d/auto-bind"),h=t("es6-symbol"),p=Object.defineProperty,d=Object.defineProperties;r.exports=o=function(e,t){if(!(this instanceof o))throw new TypeError("Constructor requires 'new'");d(this,{__list__:l("w",c(e)),__context__:l("w",t),__nextIndex__:l("w",0)}),t&&(u(t.on),t.on("_add",this._onAdd),t.on("_delete",this._onDelete),t.on("_clear",this._onClear))},delete o.prototype.constructor,d(o.prototype,a({_next:l(function(){var e;if(this.__list__)return this.__redo__&&void 0!==(e=this.__redo__.shift())?e:this.__nextIndex__<this.__list__.length?this.__nextIndex__++:void this._unBind()}),next:l(function(){return this._createResult(this._next())}),_createResult:l(function(e){return void 0===e?{done:!0,value:void 0}:{done:!1,value:this._resolve(e)}}),_resolve:l(function(e){return this.__list__[e]}),_unBind:l(function(){this.__list__=null,delete this.__redo__,this.__context__&&(this.__context__.off("_add",this._onAdd),this.__context__.off("_delete",this._onDelete),this.__context__.off("_clear",this._onClear),this.__context__=null)}),toString:l(function(){return"[object "+(this[h.toStringTag]||"Object")+"]"})},f({_onAdd:l(function(e){e>=this.__nextIndex__||(++this.__nextIndex__,this.__redo__?(this.__redo__.forEach(function(t,r){t>=e&&(this.__redo__[r]=++t)},this),this.__redo__.push(e)):p(this,"__redo__",l("c",[e])))}),_onDelete:l(function(e){var t;e>=this.__nextIndex__||(--this.__nextIndex__,this.__redo__&&(-1!==(t=this.__redo__.indexOf(e))&&this.__redo__.splice(t,1),this.__redo__.forEach(function(t,r){t>e&&(this.__redo__[r]=--t)},this)))}),_onClear:l(function(){this.__redo__&&s.call(this.__redo__),this.__nextIndex__=0})}))),p(o.prototype,h.iterator,l(function(){return this}))}),e.file("string.js",function(e,t,r,n,i){"use strict";var o,s=t("es5-ext/object/set-prototype-of"),a=t("d"),u=t("es6-symbol"),c=t("./"),l=Object.defineProperty;o=r.exports=function(e){if(!(this instanceof o))throw new TypeError("Constructor requires 'new'");e=String(e),c.call(this,e),l(this,"__length__",a("",e.length))},s&&s(o,c),delete o.prototype.constructor,o.prototype=Object.create(c.prototype,{_next:a(function(){if(this.__list__)return this.__nextIndex__<this.__length__?this.__nextIndex__++:void this._unBind()}),_resolve:a(function(e){var t,r=this.__list__[e];return this.__nextIndex__===this.__length__?r:(t=r.charCodeAt(0))>=55296&&t<=56319?r+this.__list__[this.__nextIndex__++]:r})}),l(o.prototype,u.toStringTag,a("c","String Iterator"))}),e.entry="index.js"}),e.pkg("@cycle/rxjs-run",{},function(e){return e.file("lib/cjs/index.js",function(e,t,r,n,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=t("rxjs/Observable");t("rxjs/add/observable/from");var s=t("@cycle/run/lib/adapt"),a=t("@cycle/run");function u(e,t){return a.setup(e,t).run()}s.setAdapt(function(e){return o.Observable.from(e)}),e.run=u,e.setup=function(e,t){return a.setup(e,t)},e.default=u}),e.entry="lib/cjs/index.js"}),e.pkg("pouchdb",{uuid:"3.2.1",debug:"3.1.0"},function(e){return e.file("lib/index-browser.js",function(e,t,r,n,i){"use strict";function o(e){return e&&"object"==typeof e&&"default"in e?e.default:e}var s=o(t("lie")),a=o(t("argsarray")),u=o(t("immediate")),c=t("events"),l=o(t("inherits")),f=o(t("uuid")),h=o(t("debug")),p=o(t("spark-md5")),d=o(t("vuvuzela")),v="function"==typeof Promise?Promise:s;function m(e){if(e instanceof ArrayBuffer)return function(e){if("function"==typeof e.slice)return e.slice(0);var t=new ArrayBuffer(e.byteLength),r=new Uint8Array(t),n=new Uint8Array(e);return r.set(n),t}(e);var t=e.size,r=e.type;return"function"==typeof e.slice?e.slice(0,t,r):e.webkitSlice(0,t,r)}var b,y,g=Function.prototype.toString,_=g.call(Object);function w(e){var t,r,n,i;if(!e||"object"!=typeof e)return e;if(Array.isArray(e)){for(t=[],r=0,n=e.length;r<n;r++)t[r]=w(e[r]);return t}if(e instanceof Date)return e.toISOString();if(i=e,"undefined"!=typeof ArrayBuffer&&i instanceof ArrayBuffer||"undefined"!=typeof Blob&&i instanceof Blob)return m(e);if(!function(e){var t=Object.getPrototypeOf(e);if(null===t)return!0;var r=t.constructor;return"function"==typeof r&&r instanceof r&&g.call(r)==_}(e))return e;t={};for(r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var o=w(e[r]);void 0!==o&&(t[r]=o)}return t}function x(e){var t=!1;return a(function(r){if(t)throw new Error("once called more than once");t=!0,e.apply(this,r)})}function k(e){return a(function(t){var r=this,n="function"==typeof(t=w(t))[t.length-1]&&t.pop(),i=new v(function(n,i){var o;try{var s=x(function(e,t){e?i(e):n(t)});t.push(s),(o=e.apply(r,t))&&"function"==typeof o.then&&n(o)}catch(e){i(e)}});return n&&i.then(function(e){n(null,e)},n),i})}function j(e,t){return k(a(function(r){if(this._closed)return v.reject(new Error("database is closed"));if(this._destroyed)return v.reject(new Error("database is destroyed"));var n=this;return function(e,t,r){if(e.constructor.listeners("debug").length){for(var n=["api",e.name,t],i=0;i<r.length-1;i++)n.push(r[i]);e.constructor.emit("debug",n);var o=r[r.length-1];r[r.length-1]=function(r,n){var i=["api",e.name,t];i=i.concat(r?["error",r]:["success",n]),e.constructor.emit("debug",i),o(r,n)}}}(n,e,r),this.taskqueue.isReady?t.apply(this,r):new v(function(t,i){n.taskqueue.addTask(function(o){o?i(o):t(n[e].apply(n,r))})})}))}function S(e){return"$"+e}function O(){this._store={}}function E(e){if(this._store=new O,e&&Array.isArray(e))for(var t=0,r=e.length;t<r;t++)this.add(e[t])}function C(e,t){for(var r={},n=0,i=t.length;n<i;n++){var o=t[n];o in e&&(r[o]=e[o])}return r}O.prototype.get=function(e){var t=S(e);return this._store[t]},O.prototype.set=function(e,t){var r=S(e);return this._store[r]=t,!0},O.prototype.has=function(e){return S(e)in this._store},O.prototype.delete=function(e){var t=S(e),r=t in this._store;return delete this._store[t],r},O.prototype.forEach=function(e){for(var t=Object.keys(this._store),r=0,n=t.length;r<n;r++){var i=t[r];e(this._store[i],i=i.substring(1))}},Object.defineProperty(O.prototype,"size",{get:function(){return Object.keys(this._store).length}}),E.prototype.add=function(e){return this._store.set(e,!0)},E.prototype.has=function(e){return this._store.has(e)},E.prototype.forEach=function(e){this._store.forEach(function(t,r){e(r)})},Object.defineProperty(E.prototype,"size",{get:function(){return this._store.size}}),!function(){if("undefined"==typeof Symbol||"undefined"==typeof Map||"undefined"==typeof Set)return!1;var e=Object.getOwnPropertyDescriptor(Map,Symbol.species);return e&&"get"in e&&Map[Symbol.species]===Map}()?(b=E,y=O):(b=Set,y=Map);var A,T=6;function M(e){return e}function I(e){return[{ok:e}]}function N(e,t,r){var n=t.docs,i=new y;n.forEach(function(e){i.has(e.id)?i.get(e.id).push(e):i.set(e.id,[e])});var o=i.size,s=0,a=new Array(o);function u(){var e;++s===o&&(e=[],a.forEach(function(t){t.docs.forEach(function(r){e.push({id:t.id,docs:[r]})})}),r(null,{results:e}))}var c=[];i.forEach(function(e,t){c.push(t)});var l=0;function f(){if(!(l>=c.length)){var r,n=Math.min(l+T,c.length),o=c.slice(l,n);r=l,o.forEach(function(n,o){var s=r+o,c=i.get(n),l=C(c[0],["atts_since","attachments"]);l.open_revs=c.map(function(e){return e.rev}),l.open_revs=l.open_revs.filter(M);var h=M;0===l.open_revs.length&&(delete l.open_revs,h=I),["revs","attachments","binary","ajax","latest"].forEach(function(e){e in t&&(l[e]=t[e])}),e.get(n,l,function(e,t){var r,i,o;r=e?[{error:e}]:h(t),i=n,o=r,a[s]={id:i,docs:o},u(),f()})}),l+=o.length}}f()}function q(){return"undefined"!=typeof chrome&&void 0!==chrome.storage&&void 0!==chrome.storage.local}if(q())A=!1;else try{localStorage.setItem("_pouch_check_localstorage",1),A=!!localStorage.getItem("_pouch_check_localstorage")}catch(e){A=!1}function F(){return A}function P(){var e;c.EventEmitter.call(this),this._listeners={},e=this,q()?chrome.storage.onChanged.addListener(function(t){null!=t.db_name&&e.emit(t.dbName.newValue)}):F()&&("undefined"!=typeof addEventListener?addEventListener("storage",function(t){e.emit(t.key)}):window.attachEvent("storage",function(t){e.emit(t.key)}))}function D(e){if("undefined"!=typeof console&&"function"==typeof console[e]){var t=Array.prototype.slice.call(arguments,1);console[e].apply(console,t)}}function z(e){var t,r,n=0;return e||(n=2e3),t=e,r=n,t=parseInt(t,10)||0,(r=parseInt(r,10))!=r||r<=t?r=(t||1)<<1:r+=1,r>6e5&&(t=3e5,r=6e5),~~((r-t)*Math.random()+t)}function L(e,t){D("info","The above "+e+" is totally normal. "+t)}l(P,c.EventEmitter),P.prototype.addListener=function(e,t,r,n){if(!this._listeners[t]){var i=this,o=!1;this._listeners[t]=s,this.on(e,s)}function s(){if(i._listeners[t])if(o)o="waiting";else{o=!0;var e=C(n,["style","include_docs","attachments","conflicts","filter","doc_ids","view","since","query_params","binary"]);r.changes(e).on("change",function(e){e.seq>n.since&&!n.cancelled&&(n.since=e.seq,n.onChange(e))}).on("complete",function(){"waiting"===o&&u(s),o=!1}).on("error",function(){o=!1})}}},P.prototype.removeListener=function(e,t){t in this._listeners&&(c.EventEmitter.prototype.removeListener.call(this,e,this._listeners[t]),delete this._listeners[t])},P.prototype.notifyLocalWindows=function(e){q()?chrome.storage.local.set({dbName:e}):F()&&(localStorage[e]="a"===localStorage[e]?"b":"a")},P.prototype.notify=function(e){this.emit(e),this.notifyLocalWindows(e)};var R="function"==typeof Object.assign?Object.assign:function(e){for(var t=Object(e),r=1;r<arguments.length;r++){var n=arguments[r];if(null!=n)for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t};function B(e,t,r){Error.call(this,r),this.status=e,this.name=t,this.message=r,this.error=!0}l(B,Error),B.prototype.toString=function(){return JSON.stringify({status:this.status,name:this.name,message:this.message,reason:this.reason})};new B(401,"unauthorized","Name or password is incorrect.");var $=new B(400,"bad_request","Missing JSON list of 'docs'"),V=new B(404,"not_found","missing"),U=new B(409,"conflict","Document update conflict"),W=new B(400,"bad_request","_id field must contain a string"),H=new B(412,"missing_id","_id is required for puts"),G=new B(400,"bad_request","Only reserved document ids may start with underscore."),K=(new B(412,"precondition_failed","Database not open"),new B(500,"unknown_error","Database encountered an unknown error")),Y=new B(500,"badarg","Some query argument is invalid"),X=(new B(400,"invalid_request","Request was invalid"),new B(400,"query_parse_error","Some query parameter is invalid")),J=new B(500,"doc_validation","Bad special document member"),Z=new B(400,"bad_request","Something wrong with the request"),Q=new B(400,"bad_request","Document must be a JSON object"),ee=(new B(404,"not_found","Database not found"),new B(500,"indexed_db_went_bad","unknown")),te=new B(500,"web_sql_went_bad","unknown"),re=(new B(500,"levelDB_went_went_bad","unknown"),new B(403,"forbidden","Forbidden by design doc validate_doc_update function"),new B(400,"bad_request","Invalid rev format")),ne=(new B(412,"file_exists","The database could not be created, the file already exists."),new B(412,"missing_stub","A pre-existing attachment stub wasn't found"));new B(413,"invalid_url","Provided URL is invalid");function ie(e,t){function r(t){for(var r in e)"function"!=typeof e[r]&&(this[r]=e[r]);void 0!==t&&(this.reason=t)}return r.prototype=B.prototype,new r(t)}function oe(e){if("object"!=typeof e){var t=e;(e=K).data=t}return"error"in e&&"conflict"===e.error&&(e.name="conflict",e.status=409),"name"in e||(e.name=e.error||"unknown"),"status"in e||(e.status=500),"message"in e||(e.message=e.message||e.reason),e}function se(e){var t={},r=e.filter&&"function"==typeof e.filter;return t.query=e.query_params,function(n){n.doc||(n.doc={});var i=r&&function(e,t,r){try{return!e(t,r)}catch(e){var n="Filter function threw: "+e.toString();return ie(Z,n)}}(e.filter,n.doc,t);if("object"==typeof i)return i;if(i)return!1;if(e.include_docs){if(!e.attachments)for(var o in n.doc._attachments)n.doc._attachments.hasOwnProperty(o)&&(n.doc._attachments[o].stub=!0)}else delete n.doc;return!0}}function ae(e){for(var t=[],r=0,n=e.length;r<n;r++)t=t.concat(e[r]);return t}function ue(e){var t;if(e?"string"!=typeof e?t=ie(W):/^_/.test(e)&&!/^_(design|local)/.test(e)&&(t=ie(G)):t=ie(H),t)throw t}function ce(e){return"boolean"==typeof e._remote?e._remote:"function"==typeof e.type&&(D("warn","db.type() is deprecated and will be removed in a future version of PouchDB"),"http"===e.type())}function le(e){if(!e)return null;var t=e.split("/");return 2===t.length?t:1===t.length?[e,e]:null}function fe(e){var t=le(e);return t?t.join("/"):null}var he=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],pe="queryKey",de=/(?:^|&)([^&=]*)=?([^&]*)/g,ve=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/;function me(e){for(var t=ve.exec(e),r={},n=14;n--;){var i=he[n],o=t[n]||"",s=-1!==["user","password"].indexOf(i);r[i]=s?decodeURIComponent(o):o}return r[pe]={},r[he[12]].replace(de,function(e,t,n){t&&(r[pe][t]=n)}),r}function be(e,t){var r=[],n=[];for(var i in t)t.hasOwnProperty(i)&&(r.push(i),n.push(t[i]));return r.push(e),Function.apply(null,r).apply(null,n)}function ye(e,t,r){return new v(function(n,i){e.get(t,function(o,s){if(o){if(404!==o.status)return i(o);s={}}var a,u,c,l=s._rev,f=r(s);if(!f)return n({updated:!1,rev:l});f._id=t,f._rev=l,n((u=f,c=r,(a=e).put(u).then(function(e){return{updated:!0,rev:e.rev}},function(e){if(409!==e.status)throw e;return ye(a,u._id,c)})))})})}function ge(){return f.v4().replace(/-/g,"").toLowerCase()}var _e=f.v4;function we(e){for(var t,r,n,i,o=e.rev_tree.slice();i=o.pop();){var s=i.ids,a=s[2],u=i.pos;if(a.length)for(var c=0,l=a.length;c<l;c++)o.push({pos:u+1,ids:a[c]});else{var f=!!s[1].deleted,h=s[0];t&&!(n!==f?n:r!==u?r<u:t<h)||(t=h,r=u,n=f)}}return r+"-"+t}function xe(e,t){for(var r,n=e.slice();r=n.pop();)for(var i=r.pos,o=r.ids,s=o[2],a=t(0===s.length,i,o[0],r.ctx,o[1]),u=0,c=s.length;u<c;u++)n.push({pos:i+1,ids:s[u],ctx:a})}function ke(e,t){return e.pos-t.pos}function je(e){var t=[];xe(e,function(e,r,n,i,o){e&&t.push({rev:r+"-"+n,pos:r,opts:o})}),t.sort(ke).reverse();for(var r=0,n=t.length;r<n;r++)delete t[r].pos;return t}function Se(e){for(var t=we(e),r=je(e.rev_tree),n=[],i=0,o=r.length;i<o;i++){var s=r[i];s.rev===t||s.opts.deleted||n.push(s.rev)}return n}function Oe(e){var t=[];return xe(e.rev_tree,function(e,r,n,i,o){"available"!==o.status||e||(t.push(r+"-"+n),o.status="missing")}),t}function Ee(e){for(var t,r=[],n=e.slice();t=n.pop();){var i=t.pos,o=t.ids,s=o[0],a=o[1],u=o[2],c=0===u.length,l=t.history?t.history.slice():[];l.push({id:s,opts:a}),c&&r.push({pos:i+1-l.length,ids:l});for(var f=0,h=u.length;f<h;f++)n.push({pos:i+1,ids:u[f],history:l})}return r.reverse()}function Ce(e,t){return e.pos-t.pos}function Ae(e,t){for(var r,n,i=t,o=e.length;i<o;i++){var s=e[i],a=[s.id,s.opts,[]];n?(n[2].push(a),n=a):r=n=a}return r}function Te(e,t){return e[0]<t[0]?-1:1}function Me(e,t){for(var r,n,i,o=[{tree1:e,tree2:t}],s=!1;o.length>0;){var a=o.pop(),u=a.tree1,c=a.tree2;(u[1].status||c[1].status)&&(u[1].status="available"===u[1].status||"available"===c[1].status?"available":"missing");for(var l=0;l<c[2].length;l++)if(u[2][0]){for(var f=!1,h=0;h<u[2].length;h++)u[2][h][0]===c[2][l][0]&&(o.push({tree1:u[2][h],tree2:c[2][l]}),f=!0);f||(s="new_branch",r=u[2],n=c[2][l],void 0,i=function(e,t,r){for(var n,i=0,o=e.length;i<o;)r(e[n=i+o>>>1],t)<0?i=n+1:o=n;return i}(r,n,Te),r.splice(i,0,n))}else s="new_leaf",u[2][0]=c[2][l]}return{conflicts:s,tree:e}}function Ie(e,t,r){var n,i=[],o=!1,s=!1;if(!e.length)return{tree:[t],conflicts:"new_leaf"};for(var a=0,u=e.length;a<u;a++){var c=e[a];if(c.pos===t.pos&&c.ids[0]===t.ids[0])n=Me(c.ids,t.ids),i.push({pos:c.pos,ids:n.tree}),o=o||n.conflicts,s=!0;else if(!0!==r){var l=c.pos<t.pos?c:t,f=c.pos<t.pos?t:c,h=f.pos-l.pos,p=[],d=[];for(d.push({ids:l.ids,diff:h,parent:null,parentIdx:null});d.length>0;){var v=d.pop();if(0!==v.diff)for(var m=v.ids[2],b=0,y=m.length;b<y;b++)d.push({ids:m[b],diff:v.diff-1,parent:v.ids,parentIdx:b});else v.ids[0]===f.ids[0]&&p.push(v)}var g=p[0];g?(n=Me(g.ids,f.ids),g.parent[2][g.parentIdx]=n.tree,i.push({pos:l.pos,ids:l.ids}),o=o||n.conflicts,s=!0):i.push(c)}else i.push(c)}return s||i.push(t),i.sort(Ce),{tree:i,conflicts:o||"internal_node"}}function Ne(e,t,r){var n=Ie(e,t),i=function(e,t){for(var r,n,i=Ee(e),o=0,s=i.length;o<s;o++){var a,u=i[o],c=u.ids;if(c.length>t){r||(r={});var l=c.length-t;a={pos:u.pos+l,ids:Ae(c,l)};for(var f=0;f<l;f++){var h=u.pos+f+"-"+c[f].id;r[h]=!0}}else a={pos:u.pos,ids:Ae(c,0)};n=n?Ie(n,a,!0).tree:[a]}return r&&xe(n,function(e,t,n){delete r[t+"-"+n]}),{tree:n,revs:r?Object.keys(r):[]}}(n.tree,r);return{tree:i.tree,stemmedRevs:i.revs,conflicts:n.conflicts}}function qe(e){return e.ids}function Fe(e,t){t||(t=we(e));for(var r,n=t.substring(t.indexOf("-")+1),i=e.rev_tree.map(qe);r=i.pop();){if(r[0]===n)return!!r[1].deleted;i=i.concat(r[2])}}function Pe(e){return/^_local/.test(e)}function De(e,t){for(var r,n=t.rev_tree.slice();r=n.pop();){var i=r.pos,o=r.ids,s=o[0],a=o[1],u=o[2],c=0===u.length,l=r.history?r.history.slice():[];if(l.push({id:s,pos:i,opts:a}),c)for(var f=0,h=l.length;f<h;f++){var p=l[f];if(p.pos+"-"+p.id===e)return i+"-"+s}for(var d=0,v=u.length;d<v;d++)n.push({pos:i+1,ids:u[d],history:l})}throw new Error("Unable to resolve latest revision for id "+t.id+", rev "+e)}function ze(e,t,r){c.EventEmitter.call(this);var n=this;this.db=e;var i=(t=t?w(t):{}).complete=x(function(t,r){var i,s;t?(s="error",("listenerCount"in(i=n)?i.listenerCount(s):c.EventEmitter.listenerCount(i,s))>0&&n.emit("error",t)):n.emit("complete",r),n.removeAllListeners(),e.removeListener("destroyed",o)});function o(){n.cancel()}r&&(n.on("complete",function(e){r(null,e)}),n.on("error",r)),e.once("destroyed",o),t.onChange=function(e,t,r){n.isCancelled||function(e,t,r,n){try{e.emit("change",t,r,n)}catch(e){D("error",'Error in .on("change", function):',e)}}(n,e,t,r)};var s=new v(function(e,r){t.complete=function(t,n){t?r(t):e(n)}});n.once("cancel",function(){e.removeListener("destroyed",o),t.complete(null,{status:"cancelled"})}),this.then=s.then.bind(s),this.catch=s.catch.bind(s),this.then(function(e){i(null,e)},i),e.taskqueue.isReady?n.validateChanges(t):e.taskqueue.addTask(function(e){e?t.complete(e):n.isCancelled?n.emit("cancel"):n.validateChanges(t)})}function Le(e,t,r){var n=[{rev:e._rev}];"all_docs"===r.style&&(n=je(t.rev_tree).map(function(e){return{rev:e.rev}}));var i={id:t.id,changes:n,doc:e};return Fe(t,e._rev)&&(i.deleted=!0),r.conflicts&&(i.doc._conflicts=Se(t),i.doc._conflicts.length||delete i.doc._conflicts),i}function Re(e,t){return e<t?-1:e>t?1:0}function Be(e,t){return function(r,n){r||n[0]&&n[0].error?((r=r||n[0]).docId=t,e(r)):e(null,n.length?n[0]:n)}}function $e(e,t){var r=Re(e._id,t._id);return 0!==r?r:Re(e._revisions?e._revisions.start:0,t._revisions?t._revisions.start:0)}function Ve(){c.EventEmitter.call(this)}function Ue(){this.isReady=!1,this.failed=!1,this.queue=[]}function We(e,t){if(!(this instanceof We))return new We(e,t);var r=this;if(t=t||{},e&&"object"==typeof e&&(e=(t=e).name,delete t.name),this.__opts=t=w(t),r.auto_compaction=t.auto_compaction,r.prefix=We.prefix,"string"!=typeof e)throw new Error("Missing/invalid DB name");var n=function(e,t){var r=e.match(/([a-z-]*):\/\/(.*)/);if(r)return{name:/https?/.test(r[1])?r[1]+"://"+r[2]:r[2],adapter:r[1]};var n=We.adapters,i=We.preferredAdapters,o=We.prefix,s=t.adapter;if(!s)for(var a=0;a<i.length&&"idb"===(s=i[a])&&"websql"in n&&F()&&localStorage["_pouch__websqldb_"+o+e];++a)D("log",'PouchDB is downgrading "'+e+'" to WebSQL to avoid data loss, because it was already opened with WebSQL.');var u=n[s];return{name:u&&"use_prefix"in u&&!u.use_prefix?e:o+e,adapter:s}}((t.prefix||"")+e,t);if(t.name=n.name,t.adapter=t.adapter||n.adapter,r.name=e,r._adapter=t.adapter,We.emit("debug",["adapter","Picked adapter: ",t.adapter]),!We.adapters[t.adapter]||!We.adapters[t.adapter].valid())throw new Error("Invalid Adapter: "+t.adapter);Ve.call(r),r.taskqueue=new Ue,r.adapter=t.adapter,We.adapters[t.adapter].call(r,t,function(e){if(e)return r.taskqueue.fail(e);!function(e){function t(t){e.removeListener("closed",r),t||e.constructor.emit("destroyed",e.name)}function r(){e.removeListener("destroyed",t),e.constructor.emit("unref",e)}e.once("destroyed",t),e.once("closed",r),e.constructor.emit("ref",e)}(r),r.emit("created",r),We.emit("created",r.name),r.taskqueue.ready(r)})}l(ze,c.EventEmitter),ze.prototype.cancel=function(){this.isCancelled=!0,this.db.taskqueue.isReady&&this.emit("cancel")},ze.prototype.validateChanges=function(e){var t=e.complete,r=this;We._changesFilterPlugin?We._changesFilterPlugin.validate(e,function(n){if(n)return t(n);r.doChanges(e)}):r.doChanges(e)},ze.prototype.doChanges=function(e){var t=this,r=e.complete;if("live"in(e=w(e))&&!("continuous"in e)&&(e.continuous=e.live),e.processChange=Le,"latest"===e.since&&(e.since="now"),e.since||(e.since=0),"now"!==e.since){if(We._changesFilterPlugin){if(We._changesFilterPlugin.normalize(e),We._changesFilterPlugin.shouldFilter(this,e))return We._changesFilterPlugin.filter(this,e)}else["doc_ids","filter","selector","view"].forEach(function(t){t in e&&D("warn",'The "'+t+'" option was passed in to changes/replicate, but pouchdb-changes-filter plugin is not installed, so it was ignored. Please install the plugin to enable filtering.')});"descending"in e||(e.descending=!1),e.limit=0===e.limit?1:e.limit,e.complete=r;var n=this.db._changes(e);if(n&&"function"==typeof n.cancel){var i=t.cancel;t.cancel=a(function(e){n.cancel(),i.apply(this,e)})}}else this.db.info().then(function(n){t.isCancelled?r(null,{status:"cancelled"}):(e.since=n.update_seq,t.doChanges(e))},r)},l(Ve,c.EventEmitter),Ve.prototype.post=j("post",function(e,t,r){if("function"==typeof t&&(r=t,t={}),"object"!=typeof e||Array.isArray(e))return r(ie(Q));this.bulkDocs({docs:[e]},t,Be(r,e._id))}),Ve.prototype.put=j("put",function(e,t,r){if("function"==typeof t&&(r=t,t={}),"object"!=typeof e||Array.isArray(e))return r(ie(Q));if(ue(e._id),Pe(e._id)&&"function"==typeof this._putLocal)return e._deleted?this._removeLocal(e,r):this._putLocal(e,r);var n,i,o,s,a=this;function u(r){"function"==typeof a._put&&!1!==t.new_edits?a._put(e,t,r):a.bulkDocs({docs:[e]},t,Be(r,e._id))}t.force&&e._rev?(n=e._rev.split("-"),i=n[1],o=parseInt(n[0],10)+1,s=ge(),e._revisions={start:o,ids:[s,i]},e._rev=o+"-"+s,t.new_edits=!1,u(function(t){var n=t?null:{ok:!0,id:e._id,rev:e._rev};r(t,n)})):u(r)}),Ve.prototype.putAttachment=j("putAttachment",function(e,t,r,n,i){var o=this;function s(e){var r="_rev"in e?parseInt(e._rev,10):0;return e._attachments=e._attachments||{},e._attachments[t]={content_type:i,data:n,revpos:++r},o.put(e)}return"function"==typeof i&&(i=n,n=r,r=null),void 0===i&&(i=n,n=r,r=null),i||D("warn","Attachment",t,"on document",e,"is missing content_type"),o.get(e).then(function(e){if(e._rev!==r)throw ie(U);return s(e)},function(t){if(t.reason===V.message)return s({_id:e});throw t})}),Ve.prototype.removeAttachment=j("removeAttachment",function(e,t,r,n){var i=this;i.get(e,function(e,o){if(e)n(e);else if(o._rev===r){if(!o._attachments)return n();delete o._attachments[t],0===Object.keys(o._attachments).length&&delete o._attachments,i.put(o,n)}else n(ie(U))})}),Ve.prototype.remove=j("remove",function(e,t,r,n){var i;"string"==typeof t?(i={_id:e,_rev:t},"function"==typeof r&&(n=r,r={})):(i=e,"function"==typeof t?(n=t,r={}):(n=r,r=t)),(r=r||{}).was_delete=!0;var o={_id:i._id,_rev:i._rev||r.rev};if(o._deleted=!0,Pe(o._id)&&"function"==typeof this._removeLocal)return this._removeLocal(i,n);this.bulkDocs({docs:[o]},r,Be(n,o._id))}),Ve.prototype.revsDiff=j("revsDiff",function(e,t,r){"function"==typeof t&&(r=t,t={});var n=Object.keys(e);if(!n.length)return r(null,{});var i=0,o=new y;function s(e,t){o.has(e)||o.set(e,{missing:[]}),o.get(e).missing.push(t)}n.map(function(t){this._getRevisionTree(t,function(a,u){if(a&&404===a.status&&"missing"===a.message)o.set(t,{missing:e[t]});else{if(a)return r(a);l=u,f=e[c=t].slice(0),xe(l,function(e,t,r,n,i){var o=t+"-"+r,a=f.indexOf(o);-1!==a&&(f.splice(a,1),"available"!==i.status&&s(c,o))}),f.forEach(function(e){s(c,e)})}var c,l,f;if(++i===n.length){var h={};return o.forEach(function(e,t){h[t]=e}),r(null,h)}})},this)}),Ve.prototype.bulkGet=j("bulkGet",function(e,t){N(this,e,t)}),Ve.prototype.compactDocument=j("compactDocument",function(e,t,r){var n=this;this._getRevisionTree(e,function(i,o){if(i)return r(i);var s,a,u=(s={},a=[],xe(o,function(e,t,r,n){var i=t+"-"+r;return e&&(s[i]=0),void 0!==n&&a.push({from:n,to:i}),i}),a.reverse(),a.forEach(function(e){void 0===s[e.from]?s[e.from]=1+s[e.to]:s[e.from]=Math.min(s[e.from],1+s[e.to])}),s),c=[],l=[];Object.keys(u).forEach(function(e){u[e]>t&&c.push(e)}),xe(o,function(e,t,r,n,i){var o=t+"-"+r;"available"===i.status&&-1!==c.indexOf(o)&&l.push(o)}),n._doCompaction(e,l,r)})}),Ve.prototype.compact=j("compact",function(e,t){"function"==typeof e&&(t=e,e={});e=e||{},this._compactionQueue=this._compactionQueue||[],this._compactionQueue.push({opts:e,callback:t}),1===this._compactionQueue.length&&function e(t){var r=t._compactionQueue[0],n=r.opts,i=r.callback;t.get("_local/compaction").catch(function(){return!1}).then(function(r){r&&r.last_seq&&(n.last_seq=r.last_seq),t._compact(n,function(r,n){r?i(r):i(null,n),u(function(){t._compactionQueue.shift(),t._compactionQueue.length&&e(t)})})})}(this)}),Ve.prototype._compact=function(e,t){var r=this,n={return_docs:!1,last_seq:e.last_seq||0},i=[];r.changes(n).on("change",function(e){i.push(r.compactDocument(e.id,0))}).on("complete",function(e){var n=e.last_seq;v.all(i).then(function(){return ye(r,"_local/compaction",function(e){return(!e.last_seq||e.last_seq<n)&&(e.last_seq=n,e)})}).then(function(){t(null,{ok:!0})}).catch(t)}).on("error",t)},Ve.prototype.get=j("get",function(e,t,r){if("function"==typeof t&&(r=t,t={}),"string"!=typeof e)return r(ie(W));if(Pe(e)&&"function"==typeof this._getLocal)return this._getLocal(e,r);var n=[],i=this;function o(){var o=[],s=n.length;if(!s)return r(null,o);n.forEach(function(n){i.get(e,{rev:n,revs:t.revs,latest:t.latest,attachments:t.attachments,binary:t.binary},function(e,t){if(e)o.push({missing:n});else{for(var i,a=0,u=o.length;a<u;a++)if(o[a].ok&&o[a].ok._rev===t._rev){i=!0;break}i||o.push({ok:t})}--s||r(null,o)})})}if(!t.open_revs)return this._get(e,t,function(n,o){if(n)return n.docId=e,r(n);var s=o.doc,a=o.metadata,u=o.ctx;if(t.conflicts){var c=Se(a);c.length&&(s._conflicts=c)}if(Fe(a,s._rev)&&(s._deleted=!0),t.revs||t.revs_info){for(var l=s._rev.split("-"),f=parseInt(l[0],10),h=l[1],p=Ee(a.rev_tree),d=null,v=0;v<p.length;v++){var m=p[v],b=m.ids.map(function(e){return e.id}).indexOf(h);(b===f-1||!d&&-1!==b)&&(d=m)}var y=d.ids.map(function(e){return e.id}).indexOf(s._rev.split("-")[1])+1,g=d.ids.length-y;if(d.ids.splice(y,g),d.ids.reverse(),t.revs&&(s._revisions={start:d.pos+d.ids.length-1,ids:d.ids.map(function(e){return e.id})}),t.revs_info){var _=d.pos+d.ids.length;s._revs_info=d.ids.map(function(e){return{rev:--_+"-"+e.id,status:e.opts.status}})}}if(t.attachments&&s._attachments){var w=s._attachments,x=Object.keys(w).length;if(0===x)return r(null,s);Object.keys(w).forEach(function(e){this._getAttachment(s._id,e,w[e],{rev:s._rev,binary:t.binary,ctx:u},function(t,n){var i=s._attachments[e];i.data=n,delete i.stub,delete i.length,--x||r(null,s)})},i)}else{if(s._attachments)for(var k in s._attachments)s._attachments.hasOwnProperty(k)&&(s._attachments[k].stub=!0);r(null,s)}});if("all"===t.open_revs)this._getRevisionTree(e,function(e,t){if(e)return r(e);n=je(t).map(function(e){return e.rev}),o()});else{if(!Array.isArray(t.open_revs))return r(ie(K,"function_clause"));n=t.open_revs;for(var s=0;s<n.length;s++){var a=n[s];if("string"!=typeof a||!/^\d+-/.test(a))return r(ie(re))}o()}}),Ve.prototype.getAttachment=j("getAttachment",function(e,t,r,n){var i=this;r instanceof Function&&(n=r,r={}),this._get(e,r,function(o,s){return o?n(o):s.doc._attachments&&s.doc._attachments[t]?(r.ctx=s.ctx,r.binary=!0,void i._getAttachment(e,t,s.doc._attachments[t],r,n)):n(ie(V))})}),Ve.prototype.allDocs=j("allDocs",function(e,t){if("function"==typeof e&&(t=e,e={}),e.skip=void 0!==e.skip?e.skip:0,e.start_key&&(e.startkey=e.start_key),e.end_key&&(e.endkey=e.end_key),"keys"in e){if(!Array.isArray(e.keys))return t(new TypeError("options.keys must be an array"));var r=["startkey","endkey","key"].filter(function(t){return t in e})[0];if(r)return void t(ie(X,"Query parameter `"+r+"` is not compatible with multi-get"));if(!ce(this)&&(i="limit"in(n=e)?n.keys.slice(n.skip,n.limit+n.skip):n.skip>0?n.keys.slice(n.skip):n.keys,n.keys=i,n.skip=0,delete n.limit,n.descending&&(i.reverse(),n.descending=!1),0===e.keys.length))return this._allDocs({limit:0},t)}var n,i;return this._allDocs(e,t)}),Ve.prototype.changes=function(e,t){return"function"==typeof e&&(t=e,e={}),new ze(this,e,t)},Ve.prototype.close=j("close",function(e){return this._closed=!0,this.emit("closed"),this._close(e)}),Ve.prototype.info=j("info",function(e){var t=this;this._info(function(r,n){if(r)return e(r);n.db_name=n.db_name||t.name,n.auto_compaction=!(!t.auto_compaction||ce(t)),n.adapter=t.adapter,e(null,n)})}),Ve.prototype.id=j("id",function(e){return this._id(e)}),Ve.prototype.type=function(){return"function"==typeof this._type?this._type():this.adapter},Ve.prototype.bulkDocs=j("bulkDocs",function(e,t,r){if("function"==typeof t&&(r=t,t={}),t=t||{},Array.isArray(e)&&(e={docs:e}),!e||!e.docs||!Array.isArray(e.docs))return r(ie($));for(var n=0;n<e.docs.length;++n)if("object"!=typeof e.docs[n]||Array.isArray(e.docs[n]))return r(ie(Q));var i;if(e.docs.forEach(function(e){e._attachments&&Object.keys(e._attachments).forEach(function(t){var r;i=i||"_"===(r=t).charAt(0)&&r+" is not a valid attachment name, attachment names cannot start with '_'",e._attachments[t].content_type||D("warn","Attachment",t,"on document",e._id,"is missing content_type")})}),i)return r(ie(Z,i));"new_edits"in t||(t.new_edits=!("new_edits"in e)||e.new_edits);var o=this;t.new_edits||ce(o)||e.docs.sort($e),function(e){for(var t=0;t<e.length;t++){var r=e[t];if(r._deleted)delete r._attachments;else if(r._attachments)for(var n=Object.keys(r._attachments),i=0;i<n.length;i++){var o=n[i];r._attachments[o]=C(r._attachments[o],["data","digest","content_type","length","revpos","stub"])}}}(e.docs);var s=e.docs.map(function(e){return e._id});return this._bulkDocs(e,t,function(e,n){if(e)return r(e);if(t.new_edits||(n=n.filter(function(e){return e.error})),!ce(o))for(var i=0,a=n.length;i<a;i++)n[i].id=n[i].id||s[i];r(null,n)})}),Ve.prototype.registerDependentDatabase=j("registerDependentDatabase",function(e,t){var r=new this.constructor(e,this.__opts);ye(this,"_local/_pouch_dependentDbs",function(t){return t.dependentDbs=t.dependentDbs||{},!t.dependentDbs[e]&&(t.dependentDbs[e]=!0,t)}).then(function(){t(null,{db:r})}).catch(t)}),Ve.prototype.destroy=j("destroy",function(e,t){"function"==typeof e&&(t=e,e={});var r=this,n=!("use_prefix"in r)||r.use_prefix;function i(){r._destroy(e,function(e,n){if(e)return t(e);r._destroyed=!0,r.emit("destroyed"),t(null,n||{ok:!0})})}if(ce(r))return i();r.get("_local/_pouch_dependentDbs",function(e,o){if(e)return 404!==e.status?t(e):i();var s=o.dependentDbs,a=r.constructor,u=Object.keys(s).map(function(e){var t=n?e.replace(new RegExp("^"+a.prefix),""):e;return new a(t,r.__opts).destroy()});v.all(u).then(i,t)})}),Ue.prototype.execute=function(){var e;if(this.failed)for(;e=this.queue.shift();)e(this.failed);else for(;e=this.queue.shift();)e()},Ue.prototype.fail=function(e){this.failed=e,this.execute()},Ue.prototype.ready=function(e){this.isReady=!0,this.db=e,this.execute()},Ue.prototype.addTask=function(e){this.queue.push(e),this.failed&&this.execute()},l(We,Ve),We.adapters={},We.preferredAdapters=[],We.prefix="_pouch_";var He=new c.EventEmitter;!function(e){Object.keys(c.EventEmitter.prototype).forEach(function(t){"function"==typeof c.EventEmitter.prototype[t]&&(e[t]=He[t].bind(He))});var t=e._destructionListeners=new y;e.on("ref",function(e){t.has(e.name)||t.set(e.name,[]),t.get(e.name).push(e)}),e.on("unref",function(e){if(t.has(e.name)){var r=t.get(e.name),n=r.indexOf(e);n<0||(r.splice(n,1),r.length>1?t.set(e.name,r):t.delete(e.name))}}),e.on("destroyed",function(e){if(t.has(e)){var r=t.get(e);t.delete(e),r.forEach(function(e){e.emit("destroyed",!0)})}})}(We),We.adapter=function(e,t,r){t.valid()&&(We.adapters[e]=t,r&&We.preferredAdapters.push(e))},We.plugin=function(e){if("function"==typeof e)e(We);else{if("object"!=typeof e||0===Object.keys(e).length)throw new Error('Invalid plugin: got "'+e+'", expected an object or a function');Object.keys(e).forEach(function(t){We.prototype[t]=e[t]})}return this.__defaults&&(We.__defaults=R({},this.__defaults)),We},We.defaults=function(e){function t(e,r){if(!(this instanceof t))return new t(e,r);r=r||{},e&&"object"==typeof e&&(e=(r=e).name,delete r.name),r=R({},t.__defaults,r),We.call(this,e,r)}return l(t,We),t.preferredAdapters=We.preferredAdapters.slice(),Object.keys(We).forEach(function(e){e in t||(t[e]=We[e])}),t.__defaults=R({},this.__defaults,e),t};function Ge(e,t){for(var r=e,n=0,i=t.length;n<i;n++){if(!(r=r[t[n]]))break}return r}function Ke(e){for(var t=[],r="",n=0,i=e.length;n<i;n++){var o=e[n];"."===o?n>0&&"\\"===e[n-1]?r=r.substring(0,r.length-1)+".":(t.push(r),r=""):r+=o}return t.push(r),t}var Ye=["$or","$nor","$not"];function Xe(e){return Ye.indexOf(e)>-1}function Je(e){return Object.keys(e)[0]}function Ze(e){var t={};return e.forEach(function(e){Object.keys(e).forEach(function(r){var n=e[r];if("object"!=typeof n&&(n={$eq:n}),Xe(r))n instanceof Array?t[r]=n.map(function(e){return Ze([e])}):t[r]=Ze([n]);else{var i=t[r]=t[r]||{};Object.keys(n).forEach(function(e){var t,r,o,s,a=n[e];return"$gt"===e||"$gte"===e?function(e,t,r){if(void 0!==r.$eq)return;void 0!==r.$gte?"$gte"===e?t>r.$gte&&(r.$gte=t):t>=r.$gte&&(delete r.$gte,r.$gt=t):void 0!==r.$gt?"$gte"===e?t>r.$gt&&(delete r.$gt,r.$gte=t):t>r.$gt&&(r.$gt=t):r[e]=t}(e,a,i):"$lt"===e||"$lte"===e?function(e,t,r){if(void 0!==r.$eq)return;void 0!==r.$lte?"$lte"===e?t<r.$lte&&(r.$lte=t):t<=r.$lte&&(delete r.$lte,r.$lt=t):void 0!==r.$lt?"$lte"===e?t<r.$lt&&(delete r.$lt,r.$lte=t):t<r.$lt&&(r.$lt=t):r[e]=t}(e,a,i):"$ne"===e?(o=a,void("$ne"in(s=i)?s.$ne.push(o):s.$ne=[o])):"$eq"===e?(t=a,delete(r=i).$gt,delete r.$gte,delete r.$lt,delete r.$lte,delete r.$ne,void(r.$eq=t)):void(i[e]=a)})}})}),t}var Qe=-324,et=3,tt="";function rt(e,t){if(e===t)return 0;e=nt(e),t=nt(t);var r,n,i=ut(e),o=ut(t);if(i-o!=0)return i-o;switch(typeof e){case"number":return e-t;case"boolean":return e<t?-1:1;case"string":return(r=e)===(n=t)?0:r>n?1:-1}return Array.isArray(e)?function(e,t){for(var r=Math.min(e.length,t.length),n=0;n<r;n++){var i=rt(e[n],t[n]);if(0!==i)return i}return e.length===t.length?0:e.length>t.length?1:-1}(e,t):function(e,t){for(var r=Object.keys(e),n=Object.keys(t),i=Math.min(r.length,n.length),o=0;o<i;o++){var s=rt(r[o],n[o]);if(0!==s)return s;if(0!==(s=rt(e[r[o]],t[n[o]])))return s}return r.length===n.length?0:r.length>n.length?1:-1}(e,t)}function nt(e){switch(typeof e){case"undefined":return null;case"number":return e===1/0||e===-1/0||isNaN(e)?null:e;case"object":var t=e;if(Array.isArray(e)){var r=e.length;e=new Array(r);for(var n=0;n<r;n++)e[n]=nt(t[n])}else{if(e instanceof Date)return e.toJSON();if(null!==e){e={};for(var i in t)if(t.hasOwnProperty(i)){var o=t[i];void 0!==o&&(e[i]=nt(o))}}}}return e}function it(e){if(null!==e)switch(typeof e){case"boolean":return e?1:0;case"number":return function(e){if(0===e)return"1";var t=e.toExponential().split(/e\+?/),r=parseInt(t[1],10),n=e<0,i=n?"0":"2",o=(s=((n?-r:r)-Qe).toString(),a="0",u=et,function(e,t,r){for(var n="",i=r-e.length;n.length<i;)n+=t;return n}(s,a,u)+s);var s,a,u;i+=tt+o;var c=Math.abs(parseFloat(t[0]));n&&(c=10-c);var l=c.toFixed(20);return l=l.replace(/\.?0+$/,""),i+=tt+l}(e);case"string":return e.replace(/\u0002/g,"").replace(/\u0001/g,"").replace(/\u0000/g,"");case"object":var t=Array.isArray(e),r=t?e:Object.keys(e),n=-1,i=r.length,o="";if(t)for(;++n<i;)o+=ot(r[n]);else for(;++n<i;){var s=r[n];o+=ot(s)+ot(e[s])}return o}return""}function ot(e){return ut(e=nt(e))+tt+it(e)+"\0"}function st(e,t){var r,n=t;if("1"===e[t])r=0,t++;else{var i="0"===e[t];t++;var o="",s=e.substring(t,t+et),a=parseInt(s,10)+Qe;for(i&&(a=-a),t+=et;;){var u=e[t];if("\0"===u)break;o+=u,t++}r=1===(o=o.split(".")).length?parseInt(o,10):parseFloat(o[0]+"."+o[1]),i&&(r-=10),0!==a&&(r=parseFloat(r+"e"+a))}return{num:r,length:t-n}}function at(e,t){var r=e.pop();if(t.length){var n=t[t.length-1];r===n.element&&(t.pop(),n=t[t.length-1]);var i=n.element,o=n.index;if(Array.isArray(i))i.push(r);else if(o===e.length-2){i[e.pop()]=r}else e.push(r)}}function ut(e){var t=["boolean","number","string","object"].indexOf(typeof e);return~t?null===e?1:Array.isArray(e)?5:t<3?t+2:t+3:Array.isArray(e)?5:void 0}function ct(e,t,r){if(e=e.filter(function(e){return lt(e.doc,t.selector,r)}),t.sort){var n=function(e){function t(t){return e.map(function(e){var r=Ke(Je(e));return Ge(t,r)})}return function(e,r){var n,i,o=rt(t(e.doc),t(r.doc));return 0!==o?o:(n=e.doc._id,i=r.doc._id,n<i?-1:n>i?1:0)}}(t.sort);e=e.sort(n),"string"!=typeof t.sort[0]&&"desc"===(i=t.sort[0])[Je(i)]&&(e=e.reverse())}var i;if("limit"in t||"skip"in t){var o=t.skip||0,s=("limit"in t?t.limit:e.length)+o;e=e.slice(o,s)}return e}function lt(e,t,r){return r.every(function(r){var n=t[r],i=Ke(r),o=Ge(e,i);return Xe(r)?function(e,t,r){if("$or"===e)return t.some(function(e){return lt(r,e,Object.keys(e))});if("$not"===e)return!lt(r,t,Object.keys(t));return!t.find(function(e){return lt(r,e,Object.keys(e))})}(r,n,e):ft(n,e,i,o)})}function ft(e,t,r,n){return!e||Object.keys(e).every(function(i){var o=e[i];return function(e,t,r,n,i){if(!vt[e])throw new Error('unknown operator "'+e+'" - should be one of $eq, $lte, $lt, $gt, $gte, $exists, $ne, $in, $nin, $size, $mod, $regex, $elemMatch, $type, $allMatch or $all');return vt[e](t,r,n,i)}(i,t,o,r,n)})}function ht(e){return void 0!==e&&null!==e}function pt(e){return void 0!==e}function dt(e,t){return t.some(function(t){return e instanceof Array?e.indexOf(t)>-1:e===t})}var vt={$elemMatch:function(e,t,r,n){return!!Array.isArray(n)&&(0!==n.length&&("object"==typeof n[0]?n.some(function(e){return lt(e,t,Object.keys(t))}):n.some(function(n){return ft(t,e,r,n)})))},$allMatch:function(e,t,r,n){return!!Array.isArray(n)&&(0!==n.length&&("object"==typeof n[0]?n.every(function(e){return lt(e,t,Object.keys(t))}):n.every(function(n){return ft(t,e,r,n)})))},$eq:function(e,t,r,n){return pt(n)&&0===rt(n,t)},$gte:function(e,t,r,n){return pt(n)&&rt(n,t)>=0},$gt:function(e,t,r,n){return pt(n)&&rt(n,t)>0},$lte:function(e,t,r,n){return pt(n)&&rt(n,t)<=0},$lt:function(e,t,r,n){return pt(n)&&rt(n,t)<0},$exists:function(e,t,r,n){return t?pt(n):!pt(n)},$mod:function(e,t,r,n){return ht(n)&&function(e,t){var r=t[0],n=t[1];if(0===r)throw new Error("Bad divisor, cannot divide by zero");if(parseInt(r,10)!==r)throw new Error("Divisor is not an integer");if(parseInt(n,10)!==n)throw new Error("Modulus is not an integer");return parseInt(e,10)===e&&e%r===n}(n,t)},$ne:function(e,t,r,n){return t.every(function(e){return 0!==rt(n,e)})},$in:function(e,t,r,n){return ht(n)&&dt(n,t)},$nin:function(e,t,r,n){return ht(n)&&!dt(n,t)},$size:function(e,t,r,n){return ht(n)&&(i=t,n.length===i);var i},$all:function(e,t,r,n){return Array.isArray(n)&&(i=n,t.every(function(e){return i.indexOf(e)>-1}));var i},$regex:function(e,t,r,n){return ht(n)&&(i=n,new RegExp(t).test(i));var i},$type:function(e,t,r,n){return function(e,t){switch(t){case"null":return null===e;case"boolean":return"boolean"==typeof e;case"number":return"number"==typeof e;case"string":return"string"==typeof e;case"array":return e instanceof Array;case"object":return"[object Object]"==={}.toString.call(e)}throw new Error(t+" not supported as a type.Please use one of object, string, array, number, boolean or null.")}(n,t)}};function mt(e,t){if("object"!=typeof t)throw new Error("Selector error: expected a JSON object");var r=ct([{doc:e}],{selector:t=function(e){var t=w(e),r=!1;"$and"in t&&(t=Ze(t.$and),r=!0),["$or","$nor"].forEach(function(e){e in t&&t[e].forEach(function(e){for(var t=Object.keys(e),r=0;r<t.length;r++){var n=t[r],i=e[n];"object"==typeof i&&null!==i||(e[n]={$eq:i})}})}),"$not"in t&&(t.$not=Ze([t.$not]));for(var n=Object.keys(t),i=0;i<n.length;i++){var o=n[i],s=t[o];"object"!=typeof s||null===s?s={$eq:s}:"$ne"in s&&!r&&(s.$ne=[s.$ne]),t[o]=s}return t}(t)},Object.keys(t));return r&&1===r.length}function bt(e,t){if(e.selector&&e.filter&&"_selector"!==e.filter){var r="string"==typeof e.filter?e.filter:"function";return t(new Error('selector invalid for filter "'+r+'"'))}t()}function yt(e){e.view&&!e.filter&&(e.filter="_view"),e.selector&&!e.filter&&(e.filter="_selector"),e.filter&&"string"==typeof e.filter&&("_view"===e.filter?e.view=fe(e.view):e.filter=fe(e.filter))}function gt(e,t){return t.filter&&"string"==typeof t.filter&&!t.doc_ids&&!ce(e.db)}function _t(e,t){var r=t.complete;if("_view"===t.filter){if(!t.view||"string"!=typeof t.view){var n=ie(Z,"`view` filter parameter not found or invalid.");return r(n)}var i=le(t.view);e.db.get("_design/"+i[0],function(n,o){if(e.isCancelled)return r(null,{status:"cancelled"});if(n)return r(oe(n));var s=o&&o.views&&o.views[i[1]]&&o.views[i[1]].map;if(!s)return r(ie(V,o.views?"missing json key: "+i[1]:"missing json key: views"));t.filter=be(["return function(doc) {",'  "use strict";',"  var emitted = false;","  var emit = function (a, b) {","    emitted = true;","  };","  var view = "+s+";","  view(doc);","  if (emitted) {","    return true;","  }","};"].join("\n"),{}),e.doChanges(t)})}else if(t.selector)t.filter=function(e){return mt(e,t.selector)},e.doChanges(t);else{var o=le(t.filter);e.db.get("_design/"+o[0],function(n,i){if(e.isCancelled)return r(null,{status:"cancelled"});if(n)return r(oe(n));var s=i&&i.filters&&i.filters[o[1]];if(!s)return r(ie(V,i&&i.filters?"missing json key: "+o[1]:"missing json key: filters"));t.filter=be('"use strict";\nreturn '+s+";",{}),e.doChanges(t)})}}function wt(e){return e.reduce(function(e,t){return e[t]=!0,e},{})}We.plugin(function(e){e.debug=h;var t={};e.on("debug",function(e){var r=e[0],n=e.slice(1);t[r]||(t[r]=h("pouchdb:"+r)),t[r].apply(null,n)})}),We.plugin(function(e){e._changesFilterPlugin={validate:bt,normalize:yt,shouldFilter:gt,filter:_t}}),We.version="6.4.2";var xt=wt(["_id","_rev","_attachments","_deleted","_revisions","_revs_info","_conflicts","_deleted_conflicts","_local_seq","_rev_tree","_replication_id","_replication_state","_replication_state_time","_replication_state_reason","_replication_stats","_removed"]),kt=wt(["_attachments","_replication_id","_replication_state","_replication_state_time","_replication_state_reason","_replication_stats"]);function jt(e){if(!/^\d+-./.test(e))return ie(re);var t=e.indexOf("-"),r=e.substring(0,t),n=e.substring(t+1);return{prefix:parseInt(r,10),id:n}}function St(e,t){var r,n,i,o={status:"available"};if(e._deleted&&(o.deleted=!0),t)if(e._id||(e._id=_e()),n=ge(),e._rev){if((i=jt(e._rev)).error)return i;e._rev_tree=[{pos:i.prefix,ids:[i.id,{status:"missing"},[[n,o,[]]]]}],r=i.prefix+1}else e._rev_tree=[{pos:1,ids:[n,o,[]]}],r=1;else if(e._revisions&&(e._rev_tree=function(e,t){for(var r=e.start-e.ids.length+1,n=e.ids,i=[n[0],t,[]],o=1,s=n.length;o<s;o++)i=[n[o],{status:"missing"},[i]];return[{pos:r,ids:i}]}(e._revisions,o),r=e._revisions.start,n=e._revisions.ids[0]),!e._rev_tree){if((i=jt(e._rev)).error)return i;r=i.prefix,n=i.id,e._rev_tree=[{pos:r,ids:[n,o,[]]}]}ue(e._id),e._rev=r+"-"+n;var s={metadata:{},data:{}};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){var u="_"===a[0];if(u&&!xt[a]){var c=ie(J,a);throw c.message=J.message+": "+a,c}u&&!kt[a]?s.metadata[a.slice(1)]=e[a]:s.data[a]=e[a]}return s}var Ot=function(e){return atob(e)},Et=function(e){return btoa(e)};function Ct(e,t){e=e||[],t=t||{};try{return new Blob(e,t)}catch(i){if("TypeError"!==i.name)throw i;for(var r=new("undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof MSBlobBuilder?MSBlobBuilder:"undefined"!=typeof MozBlobBuilder?MozBlobBuilder:WebKitBlobBuilder),n=0;n<e.length;n+=1)r.append(e[n]);return r.getBlob(t.type)}}function At(e,t){return Ct([function(e){for(var t=e.length,r=new ArrayBuffer(t),n=new Uint8Array(r),i=0;i<t;i++)n[i]=e.charCodeAt(i);return r}(e)],{type:t})}function Tt(e,t){return At(Ot(e),t)}function Mt(e){for(var t="",r=new Uint8Array(e),n=r.byteLength,i=0;i<n;i++)t+=String.fromCharCode(r[i]);return t}function It(e,t){if("undefined"==typeof FileReader)return t(Mt((new FileReaderSync).readAsArrayBuffer(e)));var r=new FileReader,n="function"==typeof r.readAsBinaryString;r.onloadend=function(e){var r=e.target.result||"";if(n)return t(r);t(Mt(r))},n?r.readAsBinaryString(e):r.readAsArrayBuffer(e)}function Nt(e,t){It(e,function(e){t(e)})}function qt(e,t){Nt(e,function(e){t(Et(e))})}function Ft(e,t){if("undefined"==typeof FileReader)return t((new FileReaderSync).readAsArrayBuffer(e));var r=new FileReader;r.onloadend=function(e){var r=e.target.result||new ArrayBuffer(0);t(r)},r.readAsArrayBuffer(e)}var Pt=global.setImmediate||global.setTimeout,Dt=32768;function zt(e,t,r,n,i){var o,s,a;(r>0||n<t.size)&&(s=r,a=n,t=(o=t).webkitSlice?o.webkitSlice(s,a):o.slice(s,a)),Ft(t,function(t){e.append(t),i()})}function Lt(e,t,r,n,i){(r>0||n<t.length)&&(t=t.substring(r,n)),e.appendBinary(t),i()}function Rt(e,t){var r="string"==typeof e,n=r?e.length:e.size,i=Math.min(Dt,n),o=Math.ceil(n/i),s=0,a=r?new p:new p.ArrayBuffer,u=r?Lt:zt;function c(){Pt(f)}function l(){var e=a.end(!0),r=Et(e);t(r),a.destroy()}function f(){var t=s*i,r=t+i;u(a,e,t,r,++s<o?c:l)}f()}function Bt(e,t,r){var n=function(e){try{return Ot(e)}catch(e){return{error:ie(Y,"Attachment is not a valid base64 string")}}}(e.data);if(n.error)return r(n.error);e.length=n.length,e.data="blob"===t?At(n,e.content_type):"base64"===t?Et(n):n,Rt(n,function(t){e.digest="md5-"+t,r()})}function $t(e,t,r){if(e.stub)return r();var n,i,o;"string"==typeof e.data?Bt(e,t,r):(i=t,o=r,Rt((n=e).data,function(e){n.digest="md5-"+e,n.length=n.data.size||n.data.length||0,"binary"===i?Nt(n.data,function(e){n.data=e,o()}):"base64"===i?qt(n.data,function(e){n.data=e,o()}):o()}))}function Vt(e,t,r){if(!e.length)return r();var n,i=0;function o(){i++,e.length===i&&(n?r(n):r())}e.forEach(function(e){var r=e.data&&e.data._attachments?Object.keys(e.data._attachments):[],i=0;if(!r.length)return o();function s(e){n=e,++i===r.length&&o()}for(var a in e.data._attachments)e.data._attachments.hasOwnProperty(a)&&$t(e.data._attachments[a],t,s)})}function Ut(e,t,r,n,i,o,s,a){if(function(e,t){for(var r,n=e.slice(),i=t.split("-"),o=parseInt(i[0],10),s=i[1];r=n.pop();){if(r.pos===o&&r.ids[0]===s)return!0;for(var a=r.ids[2],u=0,c=a.length;u<c;u++)n.push({pos:r.pos+1,ids:a[u]})}return!1}(t.rev_tree,r.metadata.rev))return n[i]=r,o();var u=t.winningRev||we(t),c="deleted"in t?t.deleted:Fe(t,u),l="deleted"in r.metadata?r.metadata.deleted:Fe(r.metadata),f=/^1-/.test(r.metadata.rev);if(c&&!l&&a&&f){var h=r.data;h._rev=u,h._id=r.metadata.id,r=St(h,a)}var p=Ne(t.rev_tree,r.metadata.rev_tree[0],e);if(a&&(c&&l&&"new_leaf"!==p.conflicts||!c&&"new_leaf"!==p.conflicts||c&&!l&&"new_branch"===p.conflicts)){var d=ie(U);return n[i]=d,o()}var v=r.metadata.rev;r.metadata.rev_tree=p.tree,r.stemmedRevs=p.stemmedRevs||[],t.rev_map&&(r.metadata.rev_map=t.rev_map);var m=we(r.metadata),b=Fe(r.metadata,m),y=c===b?0:c<b?-1:1;s(r,m,b,v===m?b:Fe(r.metadata,v),!0,y,i,o)}function Wt(e,t,r,n,i,o,s,a,u){e=e||1e3;var c=a.new_edits,l=new y,f=0,h=t.length;function p(){++f===h&&u&&u()}t.forEach(function(e,t){if(e._id&&Pe(e._id)){var n=e._deleted?"_removeLocal":"_putLocal";r[n](e,{ctx:i},function(e,r){o[t]=e||r,p()})}else{var s=e.metadata.id;l.has(s)?(h--,l.get(s).push([e,t])):l.set(s,[[e,t]])}}),l.forEach(function(t,r){var i=0;function u(){++i<t.length?l():p()}function l(){var l=t[i],f=l[0],h=l[1];if(n.has(r))Ut(e,n.get(r),f,o,h,u,s,c);else{var p=Ne([],f.metadata.rev_tree[0],e);f.metadata.rev_tree=p.tree,f.stemmedRevs=p.stemmedRevs||[],function(e,t,r){var n=we(e.metadata),i=Fe(e.metadata,n);if("was_delete"in a&&i)return o[t]=ie(V,"deleted"),r();if(c&&"missing"===e.metadata.rev_tree[0].ids[1].status){var u=ie(U);return o[t]=u,r()}s(e,n,i,i,!1,i?0:1,t,r)}(f,h,u)}}l()})}var Ht=5,Gt="document-store",Kt="by-sequence",Yt="attach-store",Xt="attach-seq-store",Jt="meta-store",Zt="local-store",Qt="detect-blob-support";function er(e){try{return JSON.parse(e)}catch(t){return d.parse(e)}}function tr(e){try{return JSON.stringify(e)}catch(t){return d.stringify(e)}}function rr(e){return function(t){var r="unknown_error";t.target&&t.target.error&&(r=t.target.error.name||t.target.error.message),e(ie(ee,r,t.type))}}function nr(e,t,r){return{data:tr(e),winningRev:t,deletedOrLocal:r?"1":"0",seq:e.seq,id:e.id}}function ir(e){if(!e)return null;var t=er(e.data);return t.winningRev=e.winningRev,t.deleted="1"===e.deletedOrLocal,t.seq=e.seq,t}function or(e){if(!e)return e;var t=e._doc_id_rev.lastIndexOf(":");return e._id=e._doc_id_rev.substring(0,t-1),e._rev=e._doc_id_rev.substring(t+1),delete e._doc_id_rev,e}function sr(e,t,r,n){r?n(e?"string"!=typeof e?e:Tt(e,t):Ct([""],{type:t})):e?"string"!=typeof e?It(e,function(e){n(Et(e))}):n(e):n("")}function ar(e,t,r,n){var i=Object.keys(e._attachments||{});if(!i.length)return n&&n();var o=0;function s(){++o===i.length&&n&&n()}i.forEach(function(n){var i,o,a;t.attachments&&t.include_docs?(i=n,o=e._attachments[i],a=o.digest,r.objectStore(Yt).get(a).onsuccess=function(e){o.body=e.target.result.body,s()}):(e._attachments[n].stub=!0,s())})}function ur(e,t){return v.all(e.map(function(e){if(e.doc&&e.doc._attachments){var r=Object.keys(e.doc._attachments);return v.all(r.map(function(r){var n=e.doc._attachments[r];if("body"in n){var i=n.body,o=n.content_type;return new v(function(s){sr(i,o,t,function(t){e.doc._attachments[r]=R(C(n,["digest","content_type"]),{data:t}),s()})})}}))}}))}function cr(e,t,r){var n=[],i=r.objectStore(Kt),o=r.objectStore(Yt),s=r.objectStore(Xt),a=e.length;function u(){--a||function(){if(!n.length)return;n.forEach(function(e){var t=s.index("digestSeq").count(IDBKeyRange.bound(e+"::",e+"::",!1,!1));t.onsuccess=function(t){var r=t.target.result;r||o.delete(e)}})}()}e.forEach(function(e){var r=i.index("_doc_id_rev"),o=t+"::"+e;r.getKey(o).onsuccess=function(e){var t=e.target.result;if("number"!=typeof t)return u();i.delete(t),s.index("seq").openCursor(IDBKeyRange.only(t)).onsuccess=function(e){var t=e.target.result;if(t){var r=t.value.digestSeq.split("::")[0];n.push(r),s.delete(t.primaryKey),t.continue()}else u()}}})}function lr(e,t,r){try{return{txn:e.transaction(t,r)}}catch(e){return{error:e}}}var fr=new P;function hr(e,t,r,n,i,o){for(var s,a,u,c,l,f,h,p,d=t.docs,v=0,m=d.length;v<m;v++){var b=d[v];b._id&&Pe(b._id)||(b=d[v]=St(b,r.new_edits)).error&&!h&&(h=b)}if(h)return o(h);var g=!1,_=0,w=new Array(d.length),x=new y,k=!1,j=n._meta.blobSupport?"blob":"base64";function S(){g=!0,O()}function O(){p&&g&&(p.docCount+=_,f.put(p))}function E(){k||(fr.notify(n._meta.name),o(null,w))}function C(e,t,r,n,i,o,s,a){e.metadata.winningRev=t,e.metadata.deleted=r;var u=e.data;if(u._id=e.metadata.id,u._rev=e.metadata.rev,n&&(u._deleted=!0),u._attachments&&Object.keys(u._attachments).length)return function(e,t,r,n,i,o){var s=e.data,a=0,u=Object.keys(s._attachments);function l(){a===u.length&&A(e,t,r,n,i,o)}function f(){a++,l()}u.forEach(function(r){var n,i,o,s=e.data._attachments[r];if(s.stub)a++,l();else{var u=s.data;delete s.data,s.revpos=parseInt(t,10);var h=s.digest;n=h,i=u,o=f,c.count(n).onsuccess=function(e){var t=e.target.result;if(t)return o();var r={digest:n,body:i},s=c.put(r);s.onsuccess=o}}})}(e,t,r,i,s,a);_+=o,O(),A(e,t,r,i,s,a)}function A(e,t,r,i,o,c){var f=e.data,h=e.metadata;function p(o){var u=e.stemmedRevs||[];i&&n.auto_compaction&&(u=u.concat(Oe(e.metadata))),u&&u.length&&cr(u,e.metadata.id,s),h.seq=o.target.result;var c=nr(h,t,r);a.put(c).onsuccess=d}function d(){w[o]={ok:!0,id:h.id,rev:h.rev},x.set(e.metadata.id,e.metadata),function(e,t,r){var n=0,i=Object.keys(e.data._attachments||{});if(!i.length)return r();function o(){++n===i.length&&r()}function s(r){var n=e.data._attachments[r].digest,i=l.put({seq:t,digestSeq:n+"::"+t});i.onsuccess=o,i.onerror=function(e){e.preventDefault(),e.stopPropagation(),o()}}for(var a=0;a<i.length;a++)s(i[a])}(e,h.seq,c)}f._doc_id_rev=h.id+"::"+h.rev,delete f._id,delete f._rev;var v=u.put(f);v.onsuccess=p,v.onerror=function(e){e.preventDefault(),e.stopPropagation(),u.index("_doc_id_rev").getKey(f._doc_id_rev).onsuccess=function(e){u.put(f,e.target.result).onsuccess=p}}}Vt(d,j,function(t){if(t)return o(t);!function(){var t=lr(i,[Gt,Kt,Yt,Zt,Xt,Jt],"readwrite");if(t.error)return o(t.error);(s=t.txn).onabort=rr(o),s.ontimeout=rr(o),s.oncomplete=E,a=s.objectStore(Gt),u=s.objectStore(Kt),c=s.objectStore(Yt),l=s.objectStore(Xt),(f=s.objectStore(Jt)).get(Jt).onsuccess=function(e){p=e.target.result,O()},function(e){var t=[];if(d.forEach(function(e){e.data&&e.data._attachments&&Object.keys(e.data._attachments).forEach(function(r){var n=e.data._attachments[r];n.stub&&t.push(n.digest)})}),!t.length)return e();var r,n=0;t.forEach(function(i){var o,s;o=i,s=function(i){i&&!r&&(r=i),++n===t.length&&e(r)},c.get(o).onsuccess=function(e){if(e.target.result)s();else{var t=ie(ne,"unknown stub attachment with digest "+o);t.status=412,s(t)}}})}(function(t){if(t)return k=!0,o(t);!function(){if(!d.length)return;var t=0;function i(){++t===d.length&&Wt(e.revs_limit,d,n,x,s,w,C,r,S)}function o(e){var t=ir(e.target.result);t&&x.set(t.id,t),i()}for(var u=0,c=d.length;u<c;u++){var l=d[u];if(l._id&&Pe(l._id))i();else{var f=a.get(l.metadata.id);f.onsuccess=o}}}()})}()})}function pr(e,t,r,n,i){var o,s,a;function u(e){s=e.target.result,o&&i(o,s,a)}function c(e){o=e.target.result,s&&i(o,s,a)}function l(e){var t=e.target.result;if(!t)return i();i([t.key],[t.value],t)}"function"==typeof e.getAll&&"function"==typeof e.getAllKeys&&n>1&&!r?(a={continue:function(){if(!o.length)return i();var r,a=o[o.length-1];if(t&&t.upper)try{r=IDBKeyRange.bound(a,t.upper,!0,t.upperOpen)}catch(e){if("DataError"===e.name&&0===e.code)return i()}else r=IDBKeyRange.lowerBound(a,!0);t=r,o=null,s=null,e.getAll(t,n).onsuccess=u,e.getAllKeys(t,n).onsuccess=c}},e.getAll(t,n).onsuccess=u,e.getAllKeys(t,n).onsuccess=c):r?e.openCursor(t,"prev").onsuccess=l:e.openCursor(t).onsuccess=l}function dr(e,t,r){var n,i,o="startkey"in e&&e.startkey,s="endkey"in e&&e.endkey,a="key"in e&&e.key,u="keys"in e&&e.keys,c=e.skip||0,l="number"==typeof e.limit?e.limit:-1,f=!1!==e.inclusive_end;if(!u&&(i=(n=function(e,t,r,n,i){try{if(e&&t)return i?IDBKeyRange.bound(t,e,!r,!1):IDBKeyRange.bound(e,t,!1,!r);if(e)return i?IDBKeyRange.upperBound(e):IDBKeyRange.lowerBound(e);if(t)return i?IDBKeyRange.lowerBound(t,!r):IDBKeyRange.upperBound(t,!r);if(n)return IDBKeyRange.only(n)}catch(e){return{error:e}}return null}(o,s,f,a,e.descending))&&n.error)&&("DataError"!==i.name||0!==i.code))return r(ie(ee,i.name,i.message));var h=[Gt,Kt,Jt];e.attachments&&h.push(Yt);var p=lr(t,h,"readonly");if(p.error)return r(p.error);var d=p.txn;d.oncomplete=function(){e.attachments?ur(O,e.binary).then(T):T()},d.onabort=rr(r);var v,m,b,y,g,_,w,x=d.objectStore(Gt),k=d.objectStore(Kt),j=d.objectStore(Jt),S=k.index("_doc_id_rev"),O=[];function E(t,r){var n,i,o,s,a={id:r.id,key:r.id,value:{rev:t}};r.deleted?u&&(O.push(a),a.value.deleted=!0,a.doc=null):c--<=0&&(O.push(a),e.include_docs&&(i=a,o=t,s=(n=r).id+"::"+o,S.get(s).onsuccess=function(t){if(i.doc=or(t.target.result),e.conflicts){var r=Se(n);r.length&&(i.doc._conflicts=r)}ar(i.doc,e,d)}))}function C(e){for(var t=0,r=e.length;t<r&&O.length!==l;t++){var n=e[t];if(n.error&&u)O.push(n);else{var i=ir(n);E(i.winningRev,i)}}}function A(e,t,r){r&&(C(t),O.length<l&&r.continue())}function T(){var t={total_rows:v,offset:e.skip,rows:O};e.update_seq&&void 0!==m&&(t.update_seq=m),r(null,t)}return j.get(Jt).onsuccess=function(e){v=e.target.result.docCount},e.update_seq&&function(e,t){e.openCursor(null,"prev").onsuccess=function(e){var r=e.target.result,n=void 0;r&&r.key&&(n=r.key);return t({target:{result:[n]}})}}(k,function(e){e.target.result&&e.target.result.length>0&&(m=e.target.result[0])}),i||0===l?void 0:u?(b=e.keys,y=x,g=A,_=[],w=0,void b.forEach(function(e,t){y.get(e).onsuccess=function(r){r.target.result?_[t]=r.target.result:_[t]={key:e,error:"not_found"},++w===b.length&&g(b,_,{})}})):-1===l?function(e,t,r){if("function"!=typeof e.getAll){var n=[];e.openCursor(t).onsuccess=function(e){var t=e.target.result;t?(n.push(t.value),t.continue()):r({target:{result:n}})}}else e.getAll(t).onsuccess=r}(x,n,function(t){var r=t.target.result;e.descending&&(r=r.reverse()),C(r)}):void pr(x,n,e.descending,l+c,A)}var vr=!1,mr=[];function br(){!vr&&mr.length&&(vr=!0,mr.shift()())}function yr(e,t,r,n){if((e=w(e)).continuous){var i=r+":"+_e();return fr.addListener(r,i,t,e),fr.notify(r),{cancel:function(){fr.removeListener(r,i)}}}var o=e.doc_ids&&new b(e.doc_ids);e.since=e.since||0;var s,a=e.since,u="limit"in e?e.limit:-1;0===u&&(u=1),s="return_docs"in e?e.return_docs:!("returnDocs"in e)||e.returnDocs;var c,l,f,h,p=[],d=0,v=se(e),m=new y;function g(e,t,r,n){if(r.seq!==t)return n();if(r.winningRev===e._rev)return n(r,e);var i=e._id+"::"+r.winningRev;h.get(i).onsuccess=function(e){n(r,or(e.target.result))}}function _(){e.complete(null,{results:p,last_seq:a})}var x=[Gt,Kt];e.attachments&&x.push(Yt);var k=lr(n,x,"readonly");if(k.error)return e.complete(k.error);(c=k.txn).onabort=rr(e.complete),c.oncomplete=function(){!e.continuous&&e.attachments?ur(p).then(_):_()},l=c.objectStore(Kt),f=c.objectStore(Gt),h=l.index("_doc_id_rev"),pr(l,e.since&&!e.descending?IDBKeyRange.lowerBound(e.since,!0):null,e.descending,u,function(t,r,n){if(n&&t.length){var i=new Array(t.length),l=new Array(t.length),h=0;r.forEach(function(e,r){!function(e,t,r){if(o&&!o.has(e._id))return r();var n=m.get(e._id);if(n)return g(e,t,n,r);f.get(e._id).onsuccess=function(i){n=ir(i.target.result),m.set(e._id,n),g(e,t,n,r)}}(or(e),t[r],function(e,o){l[r]=e,i[r]=o,++h===t.length&&function(){for(var e=0,t=i.length;e<t&&d!==u;e++){var r=i[e];r&&b(l[e],r)}d!==u&&n.continue()}()})})}function b(t,r){var n=e.processChange(r,t,e);a=n.seq=t.seq;var i=v(n);if("object"==typeof i)return e.complete(i);i&&(d++,s&&p.push(n),e.attachments&&e.include_docs?ar(r,e,c,function(){ur([n],e.binary).then(function(){e.onChange(n)})}):e.onChange(n))}})}var gr,_r=new y,wr=new y;function xr(e,t){var r,n,i,o=this;r=function(t){!function(e,t,r){var n=t.name,i=null;function o(e,t){var r=e.objectStore(Gt);r.createIndex("deletedOrLocal","deletedOrLocal",{unique:!1}),r.openCursor().onsuccess=function(e){var n=e.target.result;if(n){var i=n.value,o=Fe(i);i.deletedOrLocal=o?"1":"0",r.put(i),n.continue()}else t()}}function s(e,t){var r=e.objectStore(Zt),n=e.objectStore(Gt),i=e.objectStore(Kt),o=n.openCursor();o.onsuccess=function(e){var o=e.target.result;if(o){var s=o.value,a=s.id,u=Pe(a),c=we(s);if(u){var l=a+"::"+c,f=a+"::",h=a+"::~",p=i.index("_doc_id_rev"),d=IDBKeyRange.bound(f,h,!1,!1),v=p.openCursor(d);v.onsuccess=function(e){if(v=e.target.result){var t=v.value;t._doc_id_rev===l&&r.put(t),i.delete(v.primaryKey),v.continue()}else n.delete(o.primaryKey),o.continue()}}else o.continue()}else t&&t()}}function a(e,t){var r=e.objectStore(Kt),n=e.objectStore(Yt),i=e.objectStore(Xt),o=n.count();o.onsuccess=function(e){var n=e.target.result;if(!n)return t();r.openCursor().onsuccess=function(e){var r=e.target.result;if(!r)return t();for(var n=r.value,o=r.primaryKey,s=Object.keys(n._attachments||{}),a={},u=0;u<s.length;u++){var c=n._attachments[s[u]];a[c.digest]=!0}var l=Object.keys(a);for(u=0;u<l.length;u++){var f=l[u];i.put({seq:o,digestSeq:f+"::"+o})}r.continue()}}}function c(e){var t=e.objectStore(Kt),r=e.objectStore(Gt),n=r.openCursor();n.onsuccess=function(e){var n=e.target.result;if(n){var i,o,s,a=function(e){if(!e.data)return e.deleted="1"===e.deletedOrLocal,e;return ir(e)}(n.value);if(a.winningRev=a.winningRev||we(a),a.seq)return u();i=a.id+"::",o=a.id+"::",s=0,t.index("_doc_id_rev").openCursor(IDBKeyRange.bound(i,o)).onsuccess=function(e){var t=e.target.result;if(!t)return a.seq=s,u();var r=t.primaryKey;r>s&&(s=r),t.continue()}}function u(){var e=nr(a,a.winningRev,a.deleted),t=r.put(e);t.onsuccess=function(){n.continue()}}}}e._meta=null,e._remote=!1,e.type=function(){return"idb"},e._id=k(function(t){t(null,e._meta.instanceId)}),e._bulkDocs=function(r,n,o){hr(t,r,n,e,i,o)},e._get=function(e,t,r){var n,o,s,a=t.ctx;if(!a){var u=lr(i,[Gt,Kt,Yt],"readonly");if(u.error)return r(u.error);a=u.txn}function c(){r(s,{doc:n,metadata:o,ctx:a})}a.objectStore(Gt).get(e).onsuccess=function(e){if(!(o=ir(e.target.result)))return s=ie(V,"missing"),c();var r;if(t.rev)r=t.latest?De(t.rev,o):t.rev;else{r=o.winningRev;var i=Fe(o);if(i)return s=ie(V,"deleted"),c()}var u=a.objectStore(Kt),l=o.id+"::"+r;u.index("_doc_id_rev").get(l).onsuccess=function(e){if((n=e.target.result)&&(n=or(n)),!n)return s=ie(V,"missing"),c();c()}}},e._getAttachment=function(e,t,r,n,o){var s;if(n.ctx)s=n.ctx;else{var a=lr(i,[Gt,Kt,Yt],"readonly");if(a.error)return o(a.error);s=a.txn}var u=r.digest,c=r.content_type;s.objectStore(Yt).get(u).onsuccess=function(e){var t=e.target.result.body;sr(t,c,n.binary,function(e){o(null,e)})}},e._info=function(t){var r,n,o=lr(i,[Jt,Kt],"readonly");if(o.error)return t(o.error);var s=o.txn;s.objectStore(Jt).get(Jt).onsuccess=function(e){n=e.target.result.docCount},s.objectStore(Kt).openCursor(null,"prev").onsuccess=function(e){var t=e.target.result;r=t?t.key:0},s.oncomplete=function(){t(null,{doc_count:n,update_seq:r,idb_attachment_format:e._meta.blobSupport?"binary":"base64"})}},e._allDocs=function(e,t){dr(e,i,t)},e._changes=function(t){return yr(t,e,n,i)},e._close=function(e){i.close(),_r.delete(n),e()},e._getRevisionTree=function(e,t){var r=lr(i,[Gt],"readonly");if(r.error)return t(r.error);var n=r.txn,o=n.objectStore(Gt).get(e);o.onsuccess=function(e){var r=ir(e.target.result);r?t(null,r.rev_tree):t(ie(V))}},e._doCompaction=function(e,t,r){var n=[Gt,Kt,Yt,Xt],o=lr(i,n,"readwrite");if(o.error)return r(o.error);var s=o.txn,a=s.objectStore(Gt);a.get(e).onsuccess=function(r){var n=ir(r.target.result);xe(n.rev_tree,function(e,r,n,i,o){var s=r+"-"+n;-1!==t.indexOf(s)&&(o.status="missing")}),cr(t,e,s);var i=n.winningRev,o=n.deleted;s.objectStore(Gt).put(nr(n,i,o))},s.onabort=rr(r),s.oncomplete=function(){r()}},e._getLocal=function(e,t){var r=lr(i,[Zt],"readonly");if(r.error)return t(r.error);var n=r.txn,o=n.objectStore(Zt).get(e);o.onerror=rr(t),o.onsuccess=function(e){var r=e.target.result;r?(delete r._doc_id_rev,t(null,r)):t(ie(V))}},e._putLocal=function(e,t,r){"function"==typeof t&&(r=t,t={}),delete e._revisions;var n=e._rev,o=e._id;e._rev=n?"0-"+(parseInt(n.split("-")[1],10)+1):"0-1";var s,a=t.ctx;if(!a){var u=lr(i,[Zt],"readwrite");if(u.error)return r(u.error);(a=u.txn).onerror=rr(r),a.oncomplete=function(){s&&r(null,s)}}var c,l=a.objectStore(Zt);n?(c=l.get(o)).onsuccess=function(i){var o=i.target.result;if(o&&o._rev===n){var a=l.put(e);a.onsuccess=function(){s={ok:!0,id:e._id,rev:e._rev},t.ctx&&r(null,s)}}else r(ie(U))}:((c=l.add(e)).onerror=function(e){r(ie(U)),e.preventDefault(),e.stopPropagation()},c.onsuccess=function(){s={ok:!0,id:e._id,rev:e._rev},t.ctx&&r(null,s)})},e._removeLocal=function(e,t,r){"function"==typeof t&&(r=t,t={});var n,o=t.ctx;if(!o){var s=lr(i,[Zt],"readwrite");if(s.error)return r(s.error);(o=s.txn).oncomplete=function(){n&&r(null,n)}}var a=e._id,u=o.objectStore(Zt),c=u.get(a);c.onerror=rr(r),c.onsuccess=function(i){var o=i.target.result;o&&o._rev===e._rev?(u.delete(a),n={ok:!0,id:a,rev:"0-0"},t.ctx&&r(null,n)):r(ie(V))}},e._destroy=function(e,t){fr.removeAllListeners(n);var r=wr.get(n);r&&r.result&&(r.result.close(),_r.delete(n));var i=indexedDB.deleteDatabase(n);i.onsuccess=function(){wr.delete(n),F()&&n in localStorage&&delete localStorage[n],t(null,{ok:!0})},i.onerror=rr(t)};var l,f=_r.get(n);if(f)return i=f.idb,e._meta=f.global,u(function(){r(null,e)});l=t.storage?function(e,t){try{return indexedDB.open(e,{version:Ht,storage:t})}catch(t){return indexedDB.open(e,Ht)}}(n,t.storage):indexedDB.open(n,Ht);wr.set(n,l),l.onupgradeneeded=function(e){var t=e.target.result;if(e.oldVersion<1)return function(e){var t=e.createObjectStore(Gt,{keyPath:"id"});e.createObjectStore(Kt,{autoIncrement:!0}).createIndex("_doc_id_rev","_doc_id_rev",{unique:!0}),e.createObjectStore(Yt,{keyPath:"digest"}),e.createObjectStore(Jt,{keyPath:"id",autoIncrement:!1}),e.createObjectStore(Qt),t.createIndex("deletedOrLocal","deletedOrLocal",{unique:!1}),e.createObjectStore(Zt,{keyPath:"_id"});var r=e.createObjectStore(Xt,{autoIncrement:!0});r.createIndex("seq","seq"),r.createIndex("digestSeq","digestSeq",{unique:!0})}(t);var r,n=e.currentTarget.transaction;e.oldVersion<3&&t.createObjectStore(Zt,{keyPath:"_id"}).createIndex("_doc_id_rev","_doc_id_rev",{unique:!0}),e.oldVersion<4&&((r=t.createObjectStore(Xt,{autoIncrement:!0})).createIndex("seq","seq"),r.createIndex("digestSeq","digestSeq",{unique:!0}));var i=[o,s,a,c],u=e.oldVersion;!function e(){var t=i[u-1];u++;t&&t(n,e)}()},l.onsuccess=function(t){(i=t.target.result).onversionchange=function(){i.close(),_r.delete(n)},i.onabort=function(e){D("error","Database has a global failure",e.target.error),i.close(),_r.delete(n)};var o,s,a,u,c,l,f=i.transaction([Jt,Qt,Gt],"readwrite"),h=!1;function p(){void 0!==a&&h&&(e._meta={name:n,instanceId:u,blobSupport:a},_r.set(n,{idb:i,global:e._meta}),r(null,e))}function d(){if(void 0!==s&&void 0!==o){var e=n+"_id";e in o?u=o[e]:o[e]=u=_e(),o.docCount=s,f.objectStore(Jt).put(o)}}f.objectStore(Jt).get(Jt).onsuccess=function(e){o=e.target.result||{id:Jt},d()},c=function(e){s=e,d()},f.objectStore(Gt).index("deletedOrLocal").count(IDBKeyRange.only("0")).onsuccess=function(e){c(e.target.result)},gr||(l=f,gr=new v(function(e){var t=Ct([""]);l.objectStore(Qt).put(t,"key").onsuccess=function(){var t=navigator.userAgent.match(/Chrome\/(\d+)/),r=navigator.userAgent.match(/Edge\//);e(r||!t||parseInt(t[1],10)>=43)},l.onabort=function(t){t.preventDefault(),t.stopPropagation(),e(!1)}}).catch(function(){return!1})),gr.then(function(e){a=e,p()}),f.oncomplete=function(){h=!0,p()},f.onabort=rr(r)},l.onerror=function(){var e="Failed to open indexedDB, are you in private browsing mode?";D("error",e),r(ie(ee,e))}}(o,e,t)},n=t,i=o.constructor,mr.push(function(){r(function(e,t){!function(e,t,r,n){try{e(t,r)}catch(t){n.emit("error",t)}}(n,e,t,i),vr=!1,u(function(){br()})})}),br()}function kr(e){return e<65?e-48:e-55}function jr(e,t){return"UTF-8"===t?(r=function(e,t,r){for(var n="";t<r;)n+=String.fromCharCode(kr(e.charCodeAt(t++))<<4|kr(e.charCodeAt(t++)));return n}(e,0,e.length),decodeURIComponent(escape(r))):function(e,t,r){for(var n="";t<r;)n+=String.fromCharCode(kr(e.charCodeAt(t+2))<<12|kr(e.charCodeAt(t+3))<<8|kr(e.charCodeAt(t))<<4|kr(e.charCodeAt(t+1))),t+=4;return n}(e,0,e.length);var r}function Sr(e){return"'"+e+"'"}xr.valid=function(){var e="undefined"!=typeof openDatabase&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),t="function"==typeof fetch&&-1!==fetch.toString().indexOf("[native code");try{return(!e||t)&&"undefined"!=typeof indexedDB&&"undefined"!=typeof IDBKeyRange}catch(e){return!1}};var Or=7,Er=Sr("document-store"),Cr=Sr("by-sequence"),Ar=Sr("attach-store"),Tr=Sr("local-store"),Mr=Sr("metadata-store"),Ir=Sr("attach-seq-store");function Nr(e){return delete e._id,delete e._rev,JSON.stringify(e)}function qr(e,t,r){return(e=JSON.parse(e))._id=t,e._rev=r,e}function Fr(e){for(var t="(";e--;)t+="?",e&&(t+=",");return t+")"}function Pr(e,t,r,n,i){return"SELECT "+e+" FROM "+("string"==typeof t?t:t.join(" JOIN "))+(r?" ON "+r:"")+(n?" WHERE "+("string"==typeof n?n:n.join(" AND ")):"")+(i?" ORDER BY "+i:"")}function Dr(e,t,r){if(e.length){var n=0,i=[];e.forEach(function(e){var n="SELECT seq FROM "+Cr+" WHERE doc_id=? AND rev=?";r.executeSql(n,[t,e],function(e,t){if(!t.rows.length)return o();var r=t.rows.item(0).seq;i.push(r),e.executeSql("DELETE FROM "+Cr+" WHERE seq=?",[r],o)})})}function o(){++n===e.length&&function(){if(!i.length)return;var e="SELECT DISTINCT digest AS digest FROM "+Ir+" WHERE seq IN "+Fr(i.length);r.executeSql(e,i,function(e,t){for(var r=[],n=0;n<t.rows.length;n++)r.push(t.rows.item(n).digest);if(r.length){var o="DELETE FROM "+Ir+" WHERE seq IN ("+i.map(function(){return"?"}).join(",")+")";e.executeSql(o,i,function(e){var t="SELECT digest FROM "+Ir+" WHERE digest IN ("+r.map(function(){return"?"}).join(",")+")";e.executeSql(t,r,function(e,t){for(var n=new b,i=0;i<t.rows.length;i++)n.add(t.rows.item(i).digest);r.forEach(function(t){n.has(t)||(e.executeSql("DELETE FROM "+Ir+" WHERE digest=?",[t]),e.executeSql("DELETE FROM "+Ar+" WHERE digest=?",[t]))})})})}})}()}}function zr(e){return function(t){D("error","WebSQL threw an error",t);var r=t&&t.constructor.toString().match(/function ([^(]+)/),n=(r&&r[1]||t.type,t.target||t.message);e(ie(te,n))}}function Lr(e,t,r,n,i,o,s){var a,u=r.new_edits,c=t.docs.map(function(e){return e._id&&Pe(e._id)?e:St(e,u)}),l=c.filter(function(e){return e.error});if(l.length)return s(l[0]);var f,h=new Array(c.length),p=new y;function d(){if(f)return s(f);o.notify(n._name),s(null,h)}function v(e){var t=[];if(c.forEach(function(e){e.data&&e.data._attachments&&Object.keys(e.data._attachments).forEach(function(r){var n=e.data._attachments[r];n.stub&&t.push(n.digest)})}),!t.length)return e();var r,n=0;t.forEach(function(i){var o,s,u;o=i,s=function(i){i&&!r&&(r=i),++n===t.length&&e(r)},u="SELECT count(*) as cnt FROM "+Ar+" WHERE digest=?",a.executeSql(u,[o],function(e,t){if(0===t.rows.item(0).cnt){var r=ie(ne,"unknown stub attachment with digest "+o);s(r)}else s()})})}function m(e,t,r,i,o,s,u,c){function l(){var t=e.data,r=i?1:0,n=t._id,o=t._rev,s=Nr(t),u="INSERT INTO "+Cr+" (doc_id, rev, json, deleted) VALUES (?, ?, ?, ?);",c=[n,o,s,r];function l(e,r){var n,i,o,s=0,u=Object.keys(t._attachments||{});if(!u.length)return r();function c(){return++s===u.length&&r(),!1}for(var l=0;l<u.length;l++)n=u[l],void 0,void 0,i="INSERT INTO "+Ir+" (digest, seq) VALUES (?,?)",o=[t._attachments[n].digest,e],a.executeSql(i,o,c,c)}a.executeSql(u,c,function(e,t){var r=t.insertId;l(r,function(){y(e,r)})},function(){var e=Pr("seq",Cr,null,"doc_id=? AND rev=?");return a.executeSql(e,[n,o],function(e,t){var i=t.rows.item(0).seq,a="UPDATE "+Cr+" SET json=?, deleted=? WHERE doc_id=? AND rev=?;",u=[s,r,n,o];e.executeSql(a,u,function(e){l(i,function(){y(e,i)})})}),!1})}function f(e){d||(e?c(d=e):v===m.length&&l())}var d=null,v=0;e.data._id=e.metadata.id,e.data._rev=e.metadata.rev;var m=Object.keys(e.data._attachments||{});function b(e){v++,f(e)}function y(r,i){var s=e.metadata.id,a=e.stemmedRevs||[];o&&n.auto_compaction&&(a=Oe(e.metadata).concat(a)),a.length&&Dr(a,s,r),e.metadata.seq=i;var l=e.metadata.rev;delete e.metadata.rev;var f=o?"UPDATE "+Er+" SET json=?, max_seq=?, winningseq=(SELECT seq FROM "+Cr+" WHERE doc_id="+Er+".id AND rev=?) WHERE id=?":"INSERT INTO "+Er+" (id, winningseq, max_seq, json) VALUES (?,?,?,?);",d=tr(e.metadata),v=o?[d,i,t,s]:[s,i,i,d];r.executeSql(f,v,function(){h[u]={ok:!0,id:e.metadata.id,rev:l},p.set(s,e.metadata),c()})}i&&(e.data._deleted=!0),m.forEach(function(r){var n,i,o,s,u=e.data._attachments[r];if(u.stub)v++,f();else{var c=u.data;delete u.data,u.revpos=parseInt(t,10);var l=u.digest;n=l,i=c,o=b,s="SELECT digest FROM "+Ar+" WHERE digest=?",a.executeSql(s,[n],function(e,t){if(t.rows.length)return o();var r;s="INSERT INTO "+Ar+" (digest, body, escaped) VALUES (?,?,1)",e.executeSql(s,[n,(r=i,r.replace(/\u0002/g,"").replace(/\u0001/g,"").replace(/\u0000/g,""))],function(){o()},function(){return o(),!1})})}}),m.length||l()}function b(){Wt(e.revs_limit,c,n,p,a,h,m,r)}Vt(c,"binary",function(e){if(e)return s(e);i.transaction(function(e){a=e,v(function(e){e?f=e:function(e){if(!c.length)return e();var t=0;function r(){++t===c.length&&e()}c.forEach(function(e){if(e._id&&Pe(e._id))return r();var t=e.metadata.id;a.executeSql("SELECT json FROM "+Er+" WHERE id = ?",[t],function(e,n){if(n.rows.length){var i=er(n.rows.item(0).json);p.set(t,i)}r()})})}(b)})},zr(s),d)})}var Rr=new y;var Br=new P;function $r(e,t,r,n,i){var o=Object.keys(e._attachments||{});if(!o.length)return i&&i();var s=0;function a(){++s===o.length&&i&&i()}o.forEach(function(i){var o,s,u,c;t.attachments&&t.include_docs?(s=i,u=(o=e)._attachments[s],c={binary:t.binary,ctx:n},r._getAttachment(o._id,s,u,c,function(e,t){o._attachments[s]=R(C(u,["digest","content_type"]),{data:t}),a()})):(e._attachments[i].stub=!0,a())})}var Vr=1,Ur="CREATE INDEX IF NOT EXISTS 'by-seq-deleted-idx' ON "+Cr+" (seq, deleted)",Wr="CREATE UNIQUE INDEX IF NOT EXISTS 'by-seq-doc-id-rev' ON "+Cr+" (doc_id, rev)",Hr="CREATE INDEX IF NOT EXISTS 'doc-winningseq-idx' ON "+Er+" (winningseq)",Gr="CREATE INDEX IF NOT EXISTS 'attach-seq-seq-idx' ON "+Ir+" (seq)",Kr="CREATE UNIQUE INDEX IF NOT EXISTS 'attach-seq-digest-idx' ON "+Ir+" (digest, seq)",Yr=Cr+".seq = "+Er+".winningseq",Xr=Cr+".seq AS seq, "+Cr+".deleted AS deleted, "+Cr+".json AS data, "+Cr+".rev AS rev, "+Er+".json AS metadata";function Jr(e,t){var r,n,i=this,o=null,s="size"in(r=e)?1e6*r.size:"undefined"!=typeof navigator&&/Android/.test(navigator.userAgent)?5e6:1,a=[];i._name=e.name;var u,c,l=R({},e,{version:Vr,description:e.name,size:s}),f=(u=l,(c=Rr.get(u.name))||(c=function(e){try{return{db:(t=e,t.websql(t.name,t.version,t.description,t.size))}}catch(e){return{error:e}}var t}(u),Rr.set(u.name,c)),c);if(f.error)return zr(t)(f.error);var h=f.db;function p(){F()&&(window.localStorage["_pouch__websqldb_"+i._name]=!0),t(null,i)}function d(e,t){e.executeSql(Hr),e.executeSql("ALTER TABLE "+Cr+" ADD COLUMN deleted TINYINT(1) DEFAULT 0",[],function(){e.executeSql(Ur),e.executeSql("ALTER TABLE "+Er+" ADD COLUMN local TINYINT(1) DEFAULT 0",[],function(){e.executeSql("CREATE INDEX IF NOT EXISTS 'doc-store-local-idx' ON "+Er+" (local, id)");var r="SELECT "+Er+".winningseq AS seq, "+Er+".json AS metadata FROM "+Cr+" JOIN "+Er+" ON "+Cr+".seq = "+Er+".winningseq";e.executeSql(r,[],function(e,r){for(var n=[],i=[],o=0;o<r.rows.length;o++){var s=r.rows.item(o),a=s.seq,u=JSON.parse(s.metadata);Fe(u)&&n.push(a),Pe(u.id)&&i.push(u.id)}e.executeSql("UPDATE "+Er+"SET local = 1 WHERE id IN "+Fr(i.length),i,function(){e.executeSql("UPDATE "+Cr+" SET deleted = 1 WHERE seq IN "+Fr(n.length),n,t)})})})})}function v(e,t){var r="CREATE TABLE IF NOT EXISTS "+Tr+" (id UNIQUE, rev, json)";e.executeSql(r,[],function(){var r="SELECT "+Er+".id AS id, "+Cr+".json AS data FROM "+Cr+" JOIN "+Er+" ON "+Cr+".seq = "+Er+".winningseq WHERE local = 1";e.executeSql(r,[],function(e,r){for(var n=[],i=0;i<r.rows.length;i++)n.push(r.rows.item(i));!function r(){if(!n.length)return t(e);var i=n.shift(),o=JSON.parse(i.data)._rev;e.executeSql("INSERT INTO "+Tr+" (id, rev, json) VALUES (?,?,?)",[i.id,o,i.data],function(e){e.executeSql("DELETE FROM "+Er+" WHERE id=?",[i.id],function(e){e.executeSql("DELETE FROM "+Cr+" WHERE seq=?",[i.seq],function(){r()})})})}()})})}function m(e,t){var r="ALTER TABLE "+Cr+" ADD COLUMN doc_id";e.executeSql(r,[],function(r){var i="ALTER TABLE "+Cr+" ADD COLUMN rev";r.executeSql(i,[],function(r){r.executeSql(Wr,[],function(r){var i="SELECT hex(doc_id_rev) as hex FROM "+Cr;r.executeSql(i,[],function(r,i){for(var o,s=[],a=0;a<i.rows.length;a++)s.push(i.rows.item(a));o=s,function r(){if(!o.length)return t(e);var i=jr(o.shift().hex,n),s=i.lastIndexOf("::"),a=i.substring(0,s),u=i.substring(s+2),c="UPDATE "+Cr+" SET doc_id=?, rev=? WHERE doc_id_rev=?";e.executeSql(c,[a,u,i],function(){r()})}()})})})})}function b(e,t){function r(e){var r="SELECT COUNT(*) AS cnt FROM "+Ar;e.executeSql(r,[],function(e,r){if(!r.rows.item(0).cnt)return t(e);var n=0,i=10;!function r(){var o=Pr(Xr+", "+Er+".id AS id",[Er,Cr],Yr,null,Er+".id ");o+=" LIMIT "+i+" OFFSET "+n,n+=i,e.executeSql(o,[],function(e,n){if(!n.rows.length)return t(e);for(var i,o,s,a={},u=0;u<n.rows.length;u++)for(var c=n.rows.item(u),l=qr(c.data,c.id,c.rev),f=Object.keys(l._attachments||{}),h=0;h<f.length;h++){var p=l._attachments[f[h]];i=p.digest,o=c.seq,s=void 0,-1===(s=a[i]=a[i]||[]).indexOf(o)&&s.push(o)}var d=[];if(Object.keys(a).forEach(function(e){a[e].forEach(function(t){d.push([e,t])})}),!d.length)return r();var v=0;d.forEach(function(t){var n="INSERT INTO "+Ir+" (digest, seq) VALUES (?,?)";e.executeSql(n,t,function(){++v===d.length&&r()})})})}()})}var n="CREATE TABLE IF NOT EXISTS "+Ir+" (digest, seq INTEGER)";e.executeSql(n,[],function(e){e.executeSql(Kr,[],function(e){e.executeSql(Gr,[],r)})})}function y(e,t){var r="ALTER TABLE "+Ar+" ADD COLUMN escaped TINYINT(1) DEFAULT 0";e.executeSql(r,[],t)}function g(e,t){var r="ALTER TABLE "+Er+" ADD COLUMN max_seq INTEGER";e.executeSql(r,[],function(e){var r="UPDATE "+Er+" SET max_seq=(SELECT MAX(seq) FROM "+Cr+" WHERE doc_id=id)";e.executeSql(r,[],function(e){var r="CREATE UNIQUE INDEX IF NOT EXISTS 'doc-max-seq-idx' ON "+Er+" (max_seq)";e.executeSql(r,[],t)})})}function _(){for(;a.length>0;){a.pop()(null,o)}}function x(e,t){if(0===t){var r="CREATE TABLE IF NOT EXISTS "+Mr+" (dbid, db_version INTEGER)",n="CREATE TABLE IF NOT EXISTS "+Ar+" (digest UNIQUE, escaped TINYINT(1), body BLOB)",i="CREATE TABLE IF NOT EXISTS "+Ir+" (digest, seq INTEGER)",s="CREATE TABLE IF NOT EXISTS "+Er+" (id unique, json, winningseq, max_seq INTEGER UNIQUE)",a="CREATE TABLE IF NOT EXISTS "+Cr+" (seq INTEGER NOT NULL PRIMARY KEY AUTOINCREMENT, json, deleted TINYINT(1), doc_id, rev)",u="CREATE TABLE IF NOT EXISTS "+Tr+" (id UNIQUE, rev, json)";e.executeSql(n),e.executeSql(u),e.executeSql(i,[],function(){e.executeSql(Gr),e.executeSql(Kr)}),e.executeSql(s,[],function(){e.executeSql(Hr),e.executeSql(a,[],function(){e.executeSql(Ur),e.executeSql(Wr),e.executeSql(r,[],function(){var t="INSERT INTO "+Mr+" (db_version, dbid) VALUES (?,?)";o=_e();var r=[Or,o];e.executeSql(t,r,function(){_()})})})})}else{var c=[d,v,m,b,y,g,function(){t<Or&&e.executeSql("UPDATE "+Mr+" SET db_version = "+Or);var r="SELECT dbid FROM "+Mr;e.executeSql(r,[],function(e,t){o=t.rows.item(0).dbid,_()})}],l=t,f=function(e){c[l-1](e,f),l++};f(e)}}function j(e,t){var r="SELECT MAX(seq) AS seq FROM "+Cr;e.executeSql(r,[],function(e,r){var n=r.rows.item(0).seq||0;t(n)})}function S(e,t){var r=Pr("COUNT("+Er+".id) AS 'num'",[Er,Cr],Yr,Cr+".deleted=0");e.executeSql(r,[],function(e,r){t(r.rows.item(0).num)})}"function"!=typeof h.readTransaction&&(h.readTransaction=h.transaction),h.transaction(function(e){var t;t=function(){var t;t="SELECT sql FROM sqlite_master WHERE tbl_name = "+Mr,e.executeSql(t,[],function(e,t){t.rows.length?/db_version/.test(t.rows.item(0).sql)?e.executeSql("SELECT db_version FROM "+Mr,[],function(e,t){var r=t.rows.item(0).db_version;x(e,r)}):e.executeSql("ALTER TABLE "+Mr+" ADD COLUMN db_version INTEGER",[],function(){x(e,1)}):x(e,0)})},e.executeSql('SELECT HEX("a") AS hex',[],function(e,r){var i=r.rows.item(0).hex;n=2===i.length?"UTF-8":"UTF-16",t()})},zr(t),p),i._remote=!1,i.type=function(){return"websql"},i._id=k(function(e){e(null,o)}),i._info=function(e){var t,r;h.readTransaction(function(e){j(e,function(e){t=e}),S(e,function(e){r=e})},zr(e),function(){e(null,{doc_count:r,update_seq:t,websql_encoding:n})})},i._bulkDocs=function(t,r,n){Lr(e,t,r,i,h,Br,n)},i._get=function(e,t,r){var n,o,s,a,u,c,l,f,p,d,v,m=t.ctx;if(!m)return h.readTransaction(function(n){i._get(e,R({ctx:n},t),r)});function b(e){r(e,{doc:n,metadata:o,ctx:m})}if(t.rev){if(t.latest)return u=m,c=e,l=t.rev,f=function(n){t.latest=!1,t.rev=n,i._get(e,t,r)},p=b,d=Pr(Xr,[Er,Cr],Yr,Er+".id=?"),v=[c],void u.executeSql(d,v,function(e,t){if(!t.rows.length){var r=ie(V,"missing");return p(r)}var n=er(t.rows.item(0).metadata);f(De(l,n))});s=Pr(Xr,[Er,Cr],Er+".id="+Cr+".doc_id",[Cr+".doc_id=?",Cr+".rev=?"]),a=[e,t.rev]}else s=Pr(Xr,[Er,Cr],Yr,Er+".id=?"),a=[e];m.executeSql(s,a,function(e,r){if(!r.rows.length)return b(ie(V,"missing"));var i=r.rows.item(0);if(o=er(i.metadata),i.deleted&&!t.rev)return b(ie(V,"deleted"));n=qr(i.data,o.id,i.rev),b()})},i._allDocs=function(e,t){var r,n,o=[],s="startkey"in e&&e.startkey,a="endkey"in e&&e.endkey,u="key"in e&&e.key,c="keys"in e&&e.keys,l="descending"in e&&e.descending,f="limit"in e?e.limit:-1,p="skip"in e?e.skip:0,d=!1!==e.inclusive_end,v=[],m=[];if(c){var b=[],y="";c.forEach(function(e){-1===b.indexOf(e)&&(b.push(e),y+="?,")}),y=y.substring(0,y.length-1),m.push(Er+".id IN ("+y+")"),v=v.concat(b)}else if(!1!==u)m.push(Er+".id = ?"),v.push(u);else if(!1!==s||!1!==a){if(!1!==s&&(m.push(Er+".id "+(l?"<=":">=")+" ?"),v.push(s)),!1!==a){var g=l?">":"<";d&&(g+="="),m.push(Er+".id "+g+" ?"),v.push(a)}!1!==u&&(m.push(Er+".id = ?"),v.push(u))}c||m.push(Cr+".deleted = 0"),h.readTransaction(function(t){if(S(t,function(e){r=e}),e.update_seq&&j(t,function(e){n=e}),0!==f){var s=Pr(Xr,[Er,Cr],Yr,m,Er+".id "+(l?"DESC":"ASC"));s+=" LIMIT "+f+" OFFSET "+p,t.executeSql(s,v,function(t,r){for(var n=0,s=r.rows.length;n<s;n++){var a=r.rows.item(n),u=er(a.metadata),l=u.id,f=qr(a.data,l,a.rev),h=f._rev,p={id:l,key:l,value:{rev:h}};if(e.include_docs){if(p.doc=f,p.doc._rev=h,e.conflicts){var d=Se(u);d.length&&(p.doc._conflicts=d)}$r(p.doc,e,i,t)}if(a.deleted){if(!c)continue;p.value.deleted=!0,p.doc=null}if(c){var v=c.indexOf(l,v);do{o[v]=p,v=c.indexOf(l,v+1)}while(v>-1&&v<c.length)}else o.push(p)}c&&c.forEach(function(e,t){o[t]||(o[t]={key:e,error:"not_found"})})})}},zr(t),function(){var i={total_rows:r,offset:e.skip,rows:o};e.update_seq&&(i.update_seq=n),t(null,i)})},i._changes=function(e){if((e=w(e)).continuous){var t=i._name+":"+_e();return Br.addListener(i._name,t,i,e),Br.notify(i._name),{cancel:function(){Br.removeListener(i._name,t)}}}var r=e.descending;e.since=e.since&&!r?e.since:0;var n,o="limit"in e?e.limit:-1;0===o&&(o=1),n="return_docs"in e?e.return_docs:!("returnDocs"in e)||e.returnDocs;var s=[],a=0;!function(){var t=Er+".json AS metadata, "+Er+".max_seq AS maxSeq, "+Cr+".json AS winningDoc, "+Cr+".rev AS winningRev ",u=Er+" JOIN "+Cr,c=Er+".id="+Cr+".doc_id AND "+Er+".winningseq="+Cr+".seq",l=["maxSeq > ?"],f=[e.since];e.doc_ids&&(l.push(Er+".id IN "+Fr(e.doc_ids.length)),f=f.concat(e.doc_ids));var p=Pr(t,u,c,l,"maxSeq "+(r?"DESC":"ASC")),d=se(e);e.view||e.filter||(p+=" LIMIT "+o);var v=e.since||0;h.readTransaction(function(t){t.executeSql(p,f,function(t,r){function u(t){return function(){e.onChange(t)}}for(var c=0,l=r.rows.length;c<l;c++){var f=r.rows.item(c),h=er(f.metadata);v=f.maxSeq;var p=qr(f.winningDoc,h.id,f.winningRev),m=e.processChange(p,h,e);m.seq=f.maxSeq;var b=d(m);if("object"==typeof b)return e.complete(b);if(b&&(a++,n&&s.push(m),e.attachments&&e.include_docs?$r(p,e,i,t,u(m)):u(m)()),a===o)break}})},zr(e.complete),function(){e.continuous||e.complete(null,{results:s,last_seq:v})})}()},i._close=function(e){e()},i._getAttachment=function(e,t,r,i,o){var s,a=i.ctx,u=r.digest,c=r.content_type,l="SELECT escaped, CASE WHEN escaped = 1 THEN body ELSE HEX(body) END AS body FROM "+Ar+" WHERE digest=?";a.executeSql(l,[u],function(e,t){var r=t.rows.item(0),a=r.escaped?r.body.replace(/\u0001\u0001/g,"\0").replace(/\u0001\u0002/g,"").replace(/\u0002\u0002/g,""):jr(r.body,n);s=i.binary?At(a,c):Et(a),o(null,s)})},i._getRevisionTree=function(e,t){h.readTransaction(function(r){var n="SELECT json AS metadata FROM "+Er+" WHERE id = ?";r.executeSql(n,[e],function(e,r){if(r.rows.length){var n=er(r.rows.item(0).metadata);t(null,n.rev_tree)}else t(ie(V))})})},i._doCompaction=function(e,t,r){if(!t.length)return r();h.transaction(function(r){var n="SELECT json AS metadata FROM "+Er+" WHERE id = ?";r.executeSql(n,[e],function(r,n){var i=er(n.rows.item(0).metadata);xe(i.rev_tree,function(e,r,n,i,o){var s=r+"-"+n;-1!==t.indexOf(s)&&(o.status="missing")});var o="UPDATE "+Er+" SET json = ? WHERE id = ?";r.executeSql(o,[tr(i),e])}),Dr(t,e,r)},zr(r),function(){r()})},i._getLocal=function(e,t){h.readTransaction(function(r){var n="SELECT json, rev FROM "+Tr+" WHERE id=?";r.executeSql(n,[e],function(r,n){if(n.rows.length){var i=n.rows.item(0),o=qr(i.json,e,i.rev);t(null,o)}else t(ie(V))})})},i._putLocal=function(e,t,r){"function"==typeof t&&(r=t,t={}),delete e._revisions;var n,i=e._rev,o=e._id;n=e._rev=i?"0-"+(parseInt(i.split("-")[1],10)+1):"0-1";var s,a=Nr(e);function u(e){var u,c;i?(u="UPDATE "+Tr+" SET rev=?, json=? WHERE id=? AND rev=?",c=[n,a,o,i]):(u="INSERT INTO "+Tr+" (id, rev, json) VALUES (?,?,?)",c=[o,n,a]),e.executeSql(u,c,function(e,i){i.rowsAffected?(s={ok:!0,id:o,rev:n},t.ctx&&r(null,s)):r(ie(U))},function(){return r(ie(U)),!1})}t.ctx?u(t.ctx):h.transaction(u,zr(r),function(){s&&r(null,s)})},i._removeLocal=function(e,t,r){var n;function i(i){var o="DELETE FROM "+Tr+" WHERE id=? AND rev=?",s=[e._id,e._rev];i.executeSql(o,s,function(i,o){if(!o.rowsAffected)return r(ie(V));n={ok:!0,id:e._id,rev:"0-0"},t.ctx&&r(null,n)})}"function"==typeof t&&(r=t,t={}),t.ctx?i(t.ctx):h.transaction(i,zr(r),function(){n&&r(null,n)})},i._destroy=function(e,t){Br.removeAllListeners(i._name),h.transaction(function(e){[Er,Cr,Ar,Mr,Tr,Ir].forEach(function(t){e.executeSql("DROP TABLE IF EXISTS "+t,[])})},zr(t),function(){F()&&(delete window.localStorage["_pouch__websqldb_"+i._name],delete window.localStorage[i._name]),t(null,{ok:!0})})}}function Zr(){if("undefined"==typeof indexedDB||null===indexedDB||!/iP(hone|od|ad)/.test(navigator.userAgent))return!0;var e=F(),t="_pouch__websqldb_valid_"+navigator.userAgent;if(e&&localStorage[t])return"1"===localStorage[t];var r=function(){try{return openDatabase("_pouch_validate_websql",1,"",1),!0}catch(e){return!1}}();return e&&(localStorage[t]=r?"1":"0"),r}function Qr(e,t,r,n){return openDatabase(e,t,r,n)}function en(e,t){D("warn","WebSQL is deprecated and will be removed in future releases of PouchDB. Please migrate to IndexedDB: https://pouchdb.com/2018/01/23/pouchdb-6.4.2.html");var r=R({websql:Qr},e);Jr.call(this,r,t)}function tn(e,t){var r,n,i,o=new Headers,s={method:e.method,credentials:"include",headers:o};return e.json&&(o.set("Accept","application/json"),o.set("Content-Type",e.headers["Content-Type"]||"application/json")),e.body&&e.processData&&"string"!=typeof e.body?s.body=JSON.stringify(e.body):s.body="body"in e?e.body:null,Object.keys(e.headers).forEach(function(t){e.headers.hasOwnProperty(t)&&o.set(t,e.headers[t])}),r=function(){for(var e={},t=new v(function(t,r){e.resolve=t,e.reject=r}),r=new Array(arguments.length),n=0;n<r.length;n++)r[n]=arguments[n];return e.promise=t,v.resolve().then(function(){return fetch.apply(null,r)}).then(function(t){e.resolve(t)}).catch(function(t){e.reject(t)}),e}(e.url,s),e.timeout>0&&(n=setTimeout(function(){r.reject(new Error("Load timeout for resource: "+e.url))},e.timeout)),r.promise.then(function(t){return i={statusCode:t.status},e.timeout>0&&clearTimeout(n),i.statusCode>=200&&i.statusCode<300?e.binary?t.blob():t.text():t.json()}).then(function(e){i.statusCode>=200&&i.statusCode<300?t(null,i,e):(e.status=i.statusCode,t(e))}).catch(function(e){e||(e=new Error("canceled")),t(e)}),{abort:r.reject}}en.valid=function(){return"function"==typeof openDatabase&&Zr()},en.use_prefix=!0;var rn=function(){try{return new XMLHttpRequest,!0}catch(e){return!1}}();function nn(e,t){return rn||e.xhr?function(e,t){var r,n,i=!1,o=function(){i=!0,r.abort(),a()},s={abort:function(){r.abort(),a()}},a=function(){clearTimeout(n),s.abort=function(){},r&&(r.onprogress=void 0,r.upload&&(r.upload.onprogress=void 0),r.onreadystatechange=void 0,r=void 0)};r=e.xhr?new e.xhr:new XMLHttpRequest;try{r.open(e.method,e.url)}catch(e){return t(new Error(e.name||"Url is invalid"))}r.withCredentials=!("withCredentials"in e)||e.withCredentials,"GET"===e.method?delete e.headers["Content-Type"]:e.json&&(e.headers.Accept="application/json",e.headers["Content-Type"]=e.headers["Content-Type"]||"application/json",e.body&&e.processData&&"string"!=typeof e.body&&(e.body=JSON.stringify(e.body))),e.binary&&(r.responseType="arraybuffer"),"body"in e||(e.body=null);for(var u in e.headers)e.headers.hasOwnProperty(u)&&r.setRequestHeader(u,e.headers[u]);return e.timeout>0&&(n=setTimeout(o,e.timeout),r.onprogress=function(){clearTimeout(n),4!==r.readyState&&(n=setTimeout(o,e.timeout))},void 0!==r.upload&&(r.upload.onprogress=r.onprogress)),r.onreadystatechange=function(){if(4===r.readyState){var n={statusCode:r.status};if(r.status>=200&&r.status<300){var o;o=e.binary?Ct([r.response||""],{type:r.getResponseHeader("Content-Type")}):r.responseText,t(null,n,o)}else{var s={};if(i)(s=new Error("ETIMEDOUT")).code="ETIMEDOUT";else if("string"==typeof r.response&&""!==r.response)try{s=JSON.parse(r.response)}catch(e){}s.status=r.status,t(s)}a()}},e.body&&e.body instanceof Blob?Ft(e.body,function(e){r.send(e)}):r.send(e.body),s}(e,t):tn(e,t)}function on(e,t){e=w(e);return(e=R({method:"GET",headers:{},json:!0,processData:!0,timeout:1e4,cache:!1},e)).json&&(e.binary||(e.headers.Accept="application/json"),e.headers["Content-Type"]=e.headers["Content-Type"]||"application/json"),e.binary&&(e.encoding=null,e.json=!1),e.processData||(e.json=!1),nn(e,function(r,n,i){if(r)return t(oe(r));var o,s=n.headers&&n.headers["content-type"],a=i||"";if(!e.binary&&(e.json||!e.processData)&&"object"!=typeof a&&(/json/.test(s)||/^[\s]*\{/.test(a)&&/\}[\s]*$/.test(a)))try{a=JSON.parse(a.toString())}catch(e){}n.statusCode>=200&&n.statusCode<300?function(t,r,n){if(!e.binary&&e.json&&"string"==typeof t)try{t=JSON.parse(t)}catch(e){return n(e)}Array.isArray(t)&&(t=t.map(function(e){return e.error||e.missing?oe(e):e})),e.binary,n(null,t,r)}(a,n,t):((o=oe(a)).status=n.statusCode,t(o))})}function sn(e,t){var r=navigator&&navigator.userAgent?navigator.userAgent.toLowerCase():"",n=-1!==r.indexOf("safari")&&-1===r.indexOf("chrome"),i=-1!==r.indexOf("msie"),o=-1!==r.indexOf("trident"),s=-1!==r.indexOf("edge"),a=n||(i||o||s)&&"GET"===e.method,u=!("cache"in e)||e.cache;if(!/^blob:/.test(e.url)&&(a||!u)){var c=-1!==e.url.indexOf("?");e.url+=(c?"&":"?")+"_nonce="+Date.now()}return on(e,t)}var an=25,un=50,cn=5e3,ln=1e4,fn={};function hn(e){var t=(e.doc||e.ok)._attachments;t&&Object.keys(t).forEach(function(e){var r=t[e];r.data=Tt(r.data,r.content_type)})}function pn(e){return/^_design/.test(e)?"_design/"+encodeURIComponent(e.slice(8)):/^_local/.test(e)?"_local/"+encodeURIComponent(e.slice(7)):encodeURIComponent(e)}function dn(e){return e._attachments&&Object.keys(e._attachments)?v.all(Object.keys(e._attachments).map(function(t){var r=e._attachments[t];if(r.data&&"string"!=typeof r.data)return new v(function(e){qt(r.data,e)}).then(function(e){r.data=e})})):v.resolve()}function vn(e,t){if(function(e){if(!e.prefix)return!1;var t=me(e.prefix).protocol;return"http"===t||"https"===t}(t)){var r=t.name.substr(t.prefix.length);e=t.prefix+encodeURIComponent(r)}var n=me(e);(n.user||n.password)&&(n.auth={username:n.user,password:n.password});var i=n.path.replace(/(^\/|\/$)/g,"").split("/");return n.db=i.pop(),-1===n.db.indexOf("%")&&(n.db=encodeURIComponent(n.db)),n.path=i.join("/"),n}function mn(e,t){return bn(e,e.db+"/"+t)}function bn(e,t){var r=e.path?"/":"";return e.protocol+"://"+e.host+(e.port?":"+e.port:"")+"/"+e.path+r+t}function yn(e){return"?"+Object.keys(e).map(function(t){return t+"="+encodeURIComponent(e[t])}).join("&")}function gn(e,t){var r,n=this,i=vn(e.name,e),o=mn(i,""),s=(e=w(e)).ajax||{};if(e.auth||i.auth){var c=e.auth||i.auth,l=c.username+":"+c.password,f=Et(unescape(encodeURIComponent(l)));s.headers=s.headers||{},s.headers.Authorization="Basic "+f}function h(e,t,r){var i=(e||{}).ajax||{},o=R(w(s),i,t),a=w(s.headers||{});return o.headers=R(a,i.headers,t.headers||{}),n.constructor.listeners("debug").length&&n.constructor.emit("debug",["http",o.method,o.url]),n._ajax(o,r)}function p(e,t){return new v(function(r,n){h(e,t,function(e,t){if(e)return n(e);r(t)})})}function d(e,t){return j(e,a(function(e){m().then(function(){return t.apply(this,e)}).catch(function(t){e.pop()(t)})}))}function m(){return e.skipSetup||e.skip_setup?v.resolve():r||((r=p({},{method:"GET",url:o}).catch(function(e){return e&&e.status&&404===e.status?(L(404,"PouchDB is just detecting if the remote exists."),p({},{method:"PUT",url:o})):v.reject(e)}).catch(function(e){return!(!e||!e.status||412!==e.status)||v.reject(e)})).catch(function(){r=null}),r)}function b(e){return e.split("/").map(encodeURIComponent).join("/")}n._ajax=sn,u(function(){t(null,n)}),n._remote=!0,n.type=function(){return"http"},n.id=d("id",function(e){h({},{method:"GET",url:bn(i,"")},function(t,r){var n=r&&r.uuid?r.uuid+i.db:mn(i,"");e(null,n)})}),n.request=d("request",function(e,t){e.url=mn(i,e.url),h({},e,t)}),n.compact=d("compact",function(e,t){"function"==typeof e&&(t=e,e={}),h(e=w(e),{url:mn(i,"_compact"),method:"POST"},function(){!function r(){n.info(function(n,i){i&&!i.compact_running?t(null,{ok:!0}):setTimeout(r,e.interval||200)})}()})}),n.bulkGet=j("bulkGet",function(e,t){var r=this;function n(t){var r={};e.revs&&(r.revs=!0),e.attachments&&(r.attachments=!0),e.latest&&(r.latest=!0),h(e,{url:mn(i,"_bulk_get"+yn(r)),method:"POST",body:{docs:e.docs}},function(r,n){!r&&e.attachments&&e.binary&&n.results.forEach(function(e){e.docs.forEach(hn)}),t(r,n)})}function o(){var n=un,i=Math.ceil(e.docs.length/n),o=0,a=new Array(i);function u(e){return function(r,n){a[e]=n.results,++o===i&&t(null,{results:ae(a)})}}for(var c=0;c<i;c++){var l=C(e,["revs","attachments","binary","latest"]);l.ajax=s,l.docs=e.docs.slice(c*n,Math.min(e.docs.length,(c+1)*n)),N(r,l,u(c))}}var a=bn(i,""),u=fn[a];"boolean"!=typeof u?n(function(e,r){e?(fn[a]=!1,L(e.status,"PouchDB is just detecting if the remote supports the _bulk_get API."),o()):(fn[a]=!0,t(null,r))}):u?n(t):o()}),n._info=function(e){m().then(function(){h({},{method:"GET",url:mn(i,"")},function(t,r){if(t)return e(t);r.host=mn(i,""),e(null,r)})}).catch(e)},n.get=d("get",function(e,t,r){"function"==typeof t&&(r=t,t={});var n={};(t=w(t)).revs&&(n.revs=!0),t.revs_info&&(n.revs_info=!0),t.latest&&(n.latest=!0),t.open_revs&&("all"!==t.open_revs&&(t.open_revs=JSON.stringify(t.open_revs)),n.open_revs=t.open_revs),t.rev&&(n.rev=t.rev),t.conflicts&&(n.conflicts=t.conflicts),t.update_seq&&(n.update_seq=t.update_seq),e=pn(e);var o={method:"GET",url:mn(i,e+yn(n))};function s(e){var r=e._attachments,n=r&&Object.keys(r);if(r&&n.length){var o,s,a=n.map(function(n){return function(){return s=r[o=n],a=pn(e._id)+"/"+b(o)+"?rev="+e._rev,p(t,{method:"GET",url:mn(i,a),binary:!0}).then(function(e){return t.binary?e:new v(function(t){qt(e,t)})}).then(function(e){delete s.stub,delete s.length,s.data=e});var o,s,a}});return o=a,s=5,new v(function(e,t){var r,n=0,i=0,a=0,u=o.length;function c(){++a===u?r?t(r):e():h()}function l(){n--,c()}function f(e){n--,r=r||e,c()}function h(){for(;n<s&&i<u;)n++,o[i++]().then(l,f)}h()})}}p(t,o).then(function(e){return v.resolve().then(function(){if(t.attachments)return r=e,Array.isArray(r)?v.all(r.map(function(e){if(e.ok)return s(e.ok)})):s(r);var r}).then(function(){r(null,e)})}).catch(function(t){t.docId=e,r(t)})}),n.remove=d("remove",function(e,t,r,n){var o;"string"==typeof t?(o={_id:e,_rev:t},"function"==typeof r&&(n=r,r={})):(o=e,"function"==typeof t?(n=t,r={}):(n=r,r=t));var s=o._rev||r.rev;h(r,{method:"DELETE",url:mn(i,pn(o._id))+"?rev="+s},n)}),n.getAttachment=d("getAttachment",function(e,t,r,n){"function"==typeof r&&(n=r,r={});var o=r.rev?"?rev="+r.rev:"";h(r,{method:"GET",url:mn(i,pn(e))+"/"+b(t)+o,binary:!0},n)}),n.removeAttachment=d("removeAttachment",function(e,t,r,n){h({},{method:"DELETE",url:mn(i,pn(e)+"/"+b(t))+"?rev="+r},n)}),n.putAttachment=d("putAttachment",function(e,t,r,n,o,a){"function"==typeof o&&(a=o,o=n,n=r,r=null);var u=pn(e)+"/"+b(t),c=mn(i,u);if(r&&(c+="?rev="+r),"string"==typeof n){var l;try{l=Ot(n)}catch(e){return a(ie(Y,"Attachment is not a valid base64 string"))}n=l?At(l,o):""}h({},{headers:{"Content-Type":o},method:"PUT",url:c,processData:!1,body:n,timeout:s.timeout||6e4},a)}),n._bulkDocs=function(e,t,r){e.new_edits=t.new_edits,m().then(function(){return v.all(e.docs.map(dn))}).then(function(){h(t,{method:"POST",url:mn(i,"_bulk_docs"),timeout:t.timeout,body:e},function(e,t){if(e)return r(e);t.forEach(function(e){e.ok=!0}),r(null,t)})}).catch(r)},n._put=function(e,t,r){m().then(function(){return dn(e)}).then(function(){h(t,{method:"PUT",url:mn(i,pn(e._id)),body:e},function(t,n){if(t)return t.docId=e&&e._id,r(t);r(null,n)})}).catch(r)},n.allDocs=d("allDocs",function(e,t){"function"==typeof e&&(t=e,e={});var r,n={},o="GET";(e=w(e)).conflicts&&(n.conflicts=!0),e.update_seq&&(n.update_seq=!0),e.descending&&(n.descending=!0),e.include_docs&&(n.include_docs=!0),e.attachments&&(n.attachments=!0),e.key&&(n.key=JSON.stringify(e.key)),e.start_key&&(e.startkey=e.start_key),e.startkey&&(n.startkey=JSON.stringify(e.startkey)),e.end_key&&(e.endkey=e.end_key),e.endkey&&(n.endkey=JSON.stringify(e.endkey)),void 0!==e.inclusive_end&&(n.inclusive_end=!!e.inclusive_end),void 0!==e.limit&&(n.limit=e.limit),void 0!==e.skip&&(n.skip=e.skip);var s=yn(n);void 0!==e.keys&&(o="POST",r={keys:e.keys}),p(e,{method:o,url:mn(i,"_all_docs"+s),body:r}).then(function(r){e.include_docs&&e.attachments&&e.binary&&r.rows.forEach(hn),t(null,r)}).catch(t)}),n._changes=function(e){var t="batch_size"in e?e.batch_size:an;!(e=w(e)).continuous||"heartbeat"in e||(e.heartbeat=ln);var r="timeout"in e?e.timeout:"timeout"in s?s.timeout:3e4;"timeout"in e&&e.timeout&&r-e.timeout<cn&&(r=e.timeout+cn),"heartbeat"in e&&e.heartbeat&&r-e.heartbeat<cn&&(r=e.heartbeat+cn);var n={};"timeout"in e&&e.timeout&&(n.timeout=e.timeout);var o,a=void 0!==e.limit&&e.limit;o="return_docs"in e?e.return_docs:!("returnDocs"in e)||e.returnDocs;var c=a;if(e.style&&(n.style=e.style),(e.include_docs||e.filter&&"function"==typeof e.filter)&&(n.include_docs=!0),e.attachments&&(n.attachments=!0),e.continuous&&(n.feed="longpoll"),e.seq_interval&&(n.seq_interval=e.seq_interval),e.conflicts&&(n.conflicts=!0),e.descending&&(n.descending=!0),e.update_seq&&(n.update_seq=!0),"heartbeat"in e&&e.heartbeat&&(n.heartbeat=e.heartbeat),e.filter&&"string"==typeof e.filter&&(n.filter=e.filter),e.view&&"string"==typeof e.view&&(n.filter="_view",n.view=e.view),e.query_params&&"object"==typeof e.query_params)for(var l in e.query_params)e.query_params.hasOwnProperty(l)&&(n[l]=e.query_params[l]);var f,p,d,v="GET";e.doc_ids?(n.filter="_doc_ids",v="POST",f={doc_ids:e.doc_ids}):e.selector&&(n.filter="_selector",v="POST",f={selector:e.selector});var b=function(o,s){if(!e.aborted){n.since=o,"object"==typeof n.since&&(n.since=JSON.stringify(n.since)),e.descending?a&&(n.limit=c):n.limit=!a||c>t?t:c;var u={method:v,url:mn(i,"_changes"+yn(n)),timeout:r,body:f};d=o,e.aborted||m().then(function(){p=h(e,u,s)}).catch(s)}},y={results:[]},g=function(r,n){if(!e.aborted){var i=0;if(n&&n.results){i=n.results.length,y.last_seq=n.last_seq;var s=null,l=null;"number"==typeof n.pending&&(s=n.pending),"string"!=typeof y.last_seq&&"number"!=typeof y.last_seq||(l=y.last_seq);e.query_params,n.results=n.results.filter(function(t){c--;var r=se(e)(t);return r&&(e.include_docs&&e.attachments&&e.binary&&hn(t),o&&y.results.push(t),e.onChange(t,s,l)),r})}else if(r)return e.aborted=!0,void e.complete(r);n&&n.last_seq&&(d=n.last_seq);var f=a&&c<=0||n&&i<t||e.descending;(!e.continuous||a&&c<=0)&&f?e.complete(null,y):u(function(){b(d,g)})}};return b(e.since||0,g),{cancel:function(){e.aborted=!0,p&&p.abort()}}},n.revsDiff=d("revsDiff",function(e,t,r){"function"==typeof t&&(r=t,t={}),h(t,{method:"POST",url:mn(i,"_revs_diff"),body:e},r)}),n._close=function(e){e()},n._destroy=function(e,t){h(e,{url:mn(i,""),method:"DELETE"},function(e,r){if(e&&e.status&&404!==e.status)return t(e);t(null,r)})}}function _n(e){this.status=400,this.name="query_parse_error",this.message=e,this.error=!0;try{Error.captureStackTrace(this,_n)}catch(e){}}function wn(e){this.status=404,this.name="not_found",this.message=e,this.error=!0;try{Error.captureStackTrace(this,wn)}catch(e){}}function xn(e){this.status=500,this.name="invalid_value",this.message=e,this.error=!0;try{Error.captureStackTrace(this,xn)}catch(e){}}function kn(e,t){return t&&e.then(function(e){u(function(){t(null,e)})},function(e){u(function(){t(e)})}),e}function jn(e,t){return function(){var r=arguments,n=this;return e.add(function(){return t.apply(n,r)})}}function Sn(e){var t=new b(e),r=new Array(t.size),n=-1;return t.forEach(function(e){r[++n]=e}),r}function On(e){var t=new Array(e.size),r=-1;return e.forEach(function(e,n){t[++r]=n}),t}function En(e){return new xn("builtin "+e+" function requires map values to be numbers or number arrays")}function Cn(e){for(var t=0,r=0,n=e.length;r<n;r++){var i=e[r];if("number"!=typeof i){if(!Array.isArray(i))throw En("_sum");t="number"==typeof t?[t]:t;for(var o=0,s=i.length;o<s;o++){var a=i[o];if("number"!=typeof a)throw En("_sum");void 0===t[o]?t.push(a):t[o]+=a}}else"number"==typeof t?t+=i:t[0]+=i}return t}gn.valid=function(){return!0},l(_n,Error),l(wn,Error),l(xn,Error);var An=D.bind(null,"log"),Tn=Array.isArray,Mn=JSON.parse;function In(e,t){return be("return ("+e.replace(/;\s*$/,"")+");",{emit:t,sum:Cn,log:An,isArray:Tn,toJSON:Mn})}function Nn(){this.promise=new v(function(e){e()})}function qn(e){if(!e)return"undefined";switch(typeof e){case"function":case"string":return e.toString();default:return JSON.stringify(e)}}function Fn(e,t,r,n,i,o){var s,a,u=(s=n,qn(r)+qn(s)+"undefined");if(!i&&(a=e._cachedViews=e._cachedViews||{})[u])return a[u];var c=e.info().then(function(s){var c,l=s.db_name+"-mrview-"+(i?"temp":(c=u,p.hash(c)));return ye(e,"_local/"+o,function(e){e.views=e.views||{};var r=t;-1===r.indexOf("/")&&(r=t+"/"+t);var n=e.views[r]=e.views[r]||{};if(!n[l])return n[l]=!0,e}).then(function(){return e.registerDependentDatabase(l).then(function(t){var i=t.db;i.auto_compaction=!0;var o={name:l,db:i,sourceDB:e,adapter:e.adapter,mapFun:r,reduceFun:n};return o.db.get("_local/lastSeq").catch(function(e){if(404!==e.status)throw e}).then(function(e){return o.seq=e?e.seq:0,a&&o.db.once("destroyed",function(){delete a[u]}),o})})})});return a&&(a[u]=c),c}Nn.prototype.add=function(e){return this.promise=this.promise.catch(function(){}).then(function(){return e()}),this.promise},Nn.prototype.finish=function(){return this.promise};var Pn={},Dn=new Nn,zn=50;function Ln(e){return-1===e.indexOf("/")?[e,e]:e.split("/")}function Rn(e,t){try{e.emit("error",t)}catch(e){D("error","The user's map/reduce function threw an uncaught error.\nYou can debug this error by doing:\nmyDatabase.on('error', function (err) { debugger; });\nPlease double-check your map/reduce function."),D("error",t)}}var Bn={_sum:function(e,t){return Cn(t)},_count:function(e,t){return t.length},_stats:function(e,t){return{sum:Cn(t),min:Math.min.apply(null,t),max:Math.max.apply(null,t),count:t.length,sumsqr:function(e){for(var t=0,r=0,n=e.length;r<n;r++){var i=e[r];t+=i*i}return t}(t)}}};var $n=function(e,t,r,n){function i(e,t,r){try{t(r)}catch(t){Rn(e,t)}}function o(e,t,r,n,i){try{return{output:t(r,n,i)}}catch(t){return Rn(e,t),{error:t}}}function s(e,t){var r=rt(e.key,t.key);return 0!==r?r:rt(e.value,t.value)}function c(e){var t=e.value;return t&&"object"==typeof t&&t._id||e.id}function l(e){return function(t){return e.include_docs&&e.attachments&&e.binary&&t.rows.forEach(function(e){var t=e.doc&&e.doc._attachments;t&&Object.keys(t).forEach(function(e){var r=t[e];t[e].data=Tt(r.data,r.content_type)})}),t}}function f(e,t,r,n){var i=t[e];void 0!==i&&(n&&(i=encodeURIComponent(JSON.stringify(i))),r.push(e+"="+i))}function h(e){if(void 0!==e){var t=Number(e);return isNaN(t)||t!==parseInt(e,10)?e:t}}function p(e,t){var r=e.descending?"endkey":"startkey",n=e.descending?"startkey":"endkey";if(void 0!==e[r]&&void 0!==e[n]&&rt(e[r],e[n])>0)throw new _n("No rows can match your key range, reverse your start_key and end_key or set {descending : true}");if(t.reduce&&!1!==e.reduce){if(e.include_docs)throw new _n("{include_docs:true} is invalid for reduce");if(e.keys&&e.keys.length>1&&!e.group&&!e.group_level)throw new _n("Multi-key fetches for reduce views must use {group: true}")}["group_level","limit","skip"].forEach(function(t){var r=function(e){if(e){if("number"!=typeof e)return new _n('Invalid value for integer: "'+e+'"');if(e<0)return new _n('Invalid value for positive integer: "'+e+'"')}}(e[t]);if(r)throw r})}function d(e){return function(t){if(404===t.status)return e;throw t}}function m(e,t,r){var n,i="_local/doc_"+e,o={_id:i,keys:[]},s=r.get(e),a=s[0],u=s[1];return(1===(n=u).length&&/^1-/.test(n[0].rev)?v.resolve(o):t.db.get(i).catch(d(o))).then(function(e){return(r=e,r.keys.length?t.db.allDocs({keys:r.keys,include_docs:!0}):v.resolve({rows:[]})).then(function(t){return function(e,t){for(var r=[],n=new b,i=0,o=t.rows.length;i<o;i++){var s=t.rows[i].doc;if(s&&(r.push(s),n.add(s._id),s._deleted=!a.has(s._id),!s._deleted)){var u=a.get(s._id);"value"in u&&(s.value=u.value)}}var c=On(a);return c.forEach(function(e){if(!n.has(e)){var t={_id:e},i=a.get(e);"value"in i&&(t.value=i.value),r.push(t)}}),e.keys=Sn(c.concat(e.keys)),r.push(e),r}(e,t)});var r})}function g(e){var t="string"==typeof e?e:e.name,r=Pn[t];return r||(r=Pn[t]=new Nn),r}function _(e){return jn(g(e),function(){return function(e){var r,n,o=t(e.mapFun,function(e,t){var i={id:n._id,key:nt(e)};void 0!==t&&null!==t&&(i.value=nt(t)),r.push(i)}),a=e.seq||0;function u(t,r){return function(){return i=t,o=r,(n=e).db.get("_local/lastSeq").catch(d({_id:"_local/lastSeq",seq:0})).then(function(e){var t=On(i);return v.all(t.map(function(e){return m(e,n,i)})).then(function(t){var r=ae(t);return e.seq=o,r.push(e),n.db.bulkDocs({docs:r})})});var n,i,o}}var c=new Nn;function l(){return e.sourceDB.changes({conflicts:!0,include_docs:!0,style:"all_docs",since:a,limit:zn}).then(f)}function f(t){var f=t.results;if(f.length){var p=function(t){for(var u=new y,c=0,l=t.length;c<l;c++){var f=t[c];if("_"!==f.doc._id[0]){r=[],(n=f.doc)._deleted||i(e.sourceDB,o,n),r.sort(s);var p=h(r);u.set(f.doc._id,[p,f.changes])}a=f.seq}return u}(f);if(c.add(u(p,a)),!(f.length<zn))return l()}}function h(e){for(var t,r=new y,n=0,i=e.length;n<i;n++){var o=e[n],s=[o.key,o.id];n>0&&0===rt(o.key,t)&&s.push(n),r.set(ot(s),o),t=o.key}return r}return l().then(function(){return c.finish()}).then(function(){e.seq=a})}(e)})()}function w(e,t){return jn(g(e),function(){return function(e,t){var n,i=e.reduceFun&&!1!==t.reduce,s=t.skip||0;function a(t){return t.include_docs=!0,e.db.allDocs(t).then(function(e){return n=e.total_rows,e.rows.map(function(e){if("value"in e.doc&&"object"==typeof e.doc.value&&null!==e.doc.value){var t=Object.keys(e.doc.value).sort(),r=["id","key","value"];if(!(t<r||t>r))return e.doc.value}var n=function(e){for(var t=[],r=[],n=0;;){var i=e[n++];if("\0"!==i)switch(i){case"1":t.push(null);break;case"2":t.push("1"===e[n]),n++;break;case"3":var o=st(e,n);t.push(o.num),n+=o.length;break;case"4":for(var s="";;){var a=e[n];if("\0"===a)break;s+=a,n++}s=s.replace(/\u0001\u0001/g,"\0").replace(/\u0001\u0002/g,"").replace(/\u0002\u0002/g,""),t.push(s);break;case"5":var u={element:[],index:t.length};t.push(u.element),r.push(u);break;case"6":var c={element:{},index:t.length};t.push(c.element),r.push(c);break;default:throw new Error("bad collationIndex or unexpectedly reached end of input: "+i)}else{if(1===t.length)return t.pop();at(t,r)}}}(e.doc._id);return{key:n[0],id:n[1],value:"value"in e.doc?e.doc.value:null}})})}function u(a){var u;if(u=i?function(e,t,n){0===n.group_level&&delete n.group_level;var i,s,a,u=n.group||n.group_level,c=r(e.reduceFun),l=[],f=isNaN(n.group_level)?Number.POSITIVE_INFINITY:n.group_level;t.forEach(function(e){var t=l[l.length-1],r=u?e.key:null;if(u&&Array.isArray(r)&&(r=r.slice(0,f)),t&&0===rt(t.groupKey,r))return t.keys.push([e.key,e.id]),void t.values.push(e.value);l.push({keys:[[e.key,e.id]],values:[e.value],groupKey:r})}),t=[];for(var h=0,p=l.length;h<p;h++){var d=l[h],v=o(e.sourceDB,c,d.keys,d.values,!1);if(v.error&&v.error instanceof xn)throw v.error;t.push({value:v.error?null:v.output,key:d.groupKey})}return{rows:(i=t,s=n.limit,a=n.skip,a=a||0,"number"==typeof s?i.slice(a,s+a):a>0?i.slice(a):i)}}(e,a,t):{total_rows:n,offset:s,rows:a},t.update_seq&&(u.update_seq=e.seq),t.include_docs){var l=Sn(a.map(c));return e.sourceDB.allDocs({keys:l,include_docs:!0,conflicts:t.conflicts,attachments:t.attachments,binary:t.binary}).then(function(e){var t=new y;return e.rows.forEach(function(e){t.set(e.id,e.doc)}),a.forEach(function(e){var r=c(e),n=t.get(r);n&&(e.doc=n)}),u})}return u}if(void 0===t.keys||t.keys.length||(t.limit=0,delete t.keys),void 0!==t.keys){var l=t.keys,f=l.map(function(e){var r={startkey:ot([e]),endkey:ot([e,{}])};return t.update_seq&&(r.update_seq=!0),a(r)});return v.all(f).then(ae).then(u)}var h,p,d={descending:t.descending};if(t.update_seq&&(d.update_seq=!0),"start_key"in t&&(h=t.start_key),"startkey"in t&&(h=t.startkey),"end_key"in t&&(p=t.end_key),"endkey"in t&&(p=t.endkey),void 0!==h&&(d.startkey=t.descending?ot([h,{}]):ot([h])),void 0!==p){var m=!1!==t.inclusive_end;t.descending&&(m=!m),d.endkey=ot(m?[p,{}]:[p])}if(void 0!==t.key){var b=ot([t.key]),g=ot([t.key,{}]);d.descending?(d.endkey=b,d.startkey=g):(d.startkey=b,d.endkey=g)}return i||("number"==typeof t.limit&&(d.limit=t.limit),d.skip=s),a(d).then(u)}(e,t)})()}function x(t,r,i){if("function"==typeof t._query)return o=t,s=r,a=i,new v(function(e,t){o._query(s,a,function(r,n){if(r)return t(r);e(n)})});var o,s,a;if(ce(t))return function(e,t,r){var n,i=[],o="GET";if(f("reduce",r,i),f("include_docs",r,i),f("attachments",r,i),f("limit",r,i),f("descending",r,i),f("group",r,i),f("group_level",r,i),f("skip",r,i),f("stale",r,i),f("conflicts",r,i),f("startkey",r,i,!0),f("start_key",r,i,!0),f("endkey",r,i,!0),f("end_key",r,i,!0),f("inclusive_end",r,i),f("key",r,i,!0),f("update_seq",r,i),i=""===(i=i.join("&"))?"":"?"+i,void 0!==r.keys){var s="keys="+encodeURIComponent(JSON.stringify(r.keys));s.length+i.length+1<=2e3?i+=("?"===i[0]?"&":"?")+s:(o="POST","string"==typeof t?n={keys:r.keys}:t.keys=r.keys)}if("string"==typeof t){var a=Ln(t);return e.request({method:o,url:"_design/"+a[0]+"/_view/"+a[1]+i,body:n}).then(function(e){return e.rows.forEach(function(e){if(e.value&&e.value.error&&"builtin_reduce_error"===e.value.error)throw new Error(e.reason)}),e}).then(l(r))}return n=n||{},Object.keys(t).forEach(function(e){Array.isArray(t[e])?n[e]=t[e]:n[e]=t[e].toString()}),e.request({method:"POST",url:"_temp_view"+i,body:n}).then(l(r))}(t,r,i);if("string"!=typeof r)return p(i,r),Dn.add(function(){return Fn(t,"temp_view/temp_view",r.map,r.reduce,!0,e).then(function(e){return t=_(e).then(function(){return w(e,i)}),r=function(){return e.db.destroy()},t.then(function(e){return r().then(function(){return e})},function(e){return r().then(function(){throw e})});var t,r})}),Dn.finish();var c=r,h=Ln(c),d=h[0],m=h[1];return t.get("_design/"+d).then(function(r){var o=r.views&&r.views[m];if(!o)throw new wn("ddoc "+r._id+" has no view named "+m);return n(r,m),p(i,o),Fn(t,c,o.map,o.reduce,!1,e).then(function(e){return"ok"===i.stale||"update_after"===i.stale?("update_after"===i.stale&&u(function(){_(e)}),w(e,i)):_(e).then(function(){return w(e,i)})})})}var k;return{query:function(e,t,r){var n,i=this;"function"==typeof t&&(r=t,t={}),t=t?((n=t).group_level=h(n.group_level),n.limit=h(n.limit),n.skip=h(n.skip),n):{},"function"==typeof e&&(e={map:e});var o=v.resolve().then(function(){return x(i,e,t)});return kn(o,r),o},viewCleanup:(k=function(){var t,r;return"function"==typeof this._viewCleanup?(t=this,new v(function(e,r){t._viewCleanup(function(t,n){if(t)return r(t);e(n)})})):ce(this)?this.request({method:"POST",url:"_view_cleanup"}):(r=this).get("_local/"+e).then(function(e){var t=new y;Object.keys(e.views).forEach(function(e){var r=Ln(e),n="_design/"+r[0],i=r[1],o=t.get(n);o||(o=new b,t.set(n,o)),o.add(i)});var n={keys:On(t),include_docs:!0};return r.allDocs(n).then(function(n){var i={};n.rows.forEach(function(r){var n=r.key.substring(8);t.get(r.key).forEach(function(t){var o=n+"/"+t;e.views[o]||(o=t);var s=Object.keys(e.views[o]),a=r.doc&&r.doc.views&&r.doc.views[t];s.forEach(function(e){i[e]=i[e]||a})})});var o=Object.keys(i).filter(function(e){return!i[e]}).map(function(e){return jn(g(e),function(){return new r.constructor(e,r.__opts).destroy()})()});return v.all(o).then(function(){return{ok:!0}})})},d({ok:!0}))},a(function(e){var t=e.pop(),r=k.apply(this,e);return"function"==typeof t&&kn(r,t),r}))}}("mrviews",function(e,t){if("function"==typeof e&&2===e.length){var r=e;return function(e){return r(e,t)}}return In(e.toString(),t)},function(e){var t=e.toString(),r=function(e){if(/^_sum/.test(e))return Bn._sum;if(/^_count/.test(e))return Bn._count;if(/^_stats/.test(e))return Bn._stats;if(/^_/.test(e))throw new Error(e+" is not a supported reduce function.")}(t);return r||In(t)},function(e,t){var r=e.views&&e.views[t];if("string"!=typeof r.map)throw new wn("ddoc "+e._id+" has no string view named "+t+", instead found object of type: "+typeof r.map)});var Vn={query:function(e,t,r){return $n.query.call(this,e,t,r)},viewCleanup:function(e){return $n.viewCleanup.call(this,e)}};function Un(e){return/^1-/.test(e)}function Wn(e,t){var r=Object.keys(t._attachments);return v.all(r.map(function(r){return e.getAttachment(t._id,r,{rev:t._rev})}))}function Hn(e,t,r,n){r=w(r);var i=[],o=!0;function s(t){return e.allDocs({keys:t,include_docs:!0,conflicts:!0}).then(function(e){if(n.cancelled)throw new Error("cancelled");e.rows.forEach(function(e){var t,n;e.deleted||!e.doc||!Un(e.value.rev)||(n=e.doc,n._attachments&&Object.keys(n._attachments).length>0)||(t=e.doc,t._conflicts&&t._conflicts.length>0)||(e.doc._conflicts&&delete e.doc._conflicts,i.push(e.doc),delete r[e.id])})})}return v.resolve().then(function(){var e=Object.keys(r).filter(function(e){var t=r[e].missing;return 1===t.length&&Un(t[0])});if(e.length>0)return s(e)}).then(function(){var s,a,u=(s=r,a=[],Object.keys(s).forEach(function(e){s[e].missing.forEach(function(t){a.push({id:e,rev:t})})}),{docs:a,revs:!0,latest:!0});if(u.docs.length)return e.bulkGet(u).then(function(r){if(n.cancelled)throw new Error("cancelled");return v.all(r.results.map(function(r){return v.all(r.docs.map(function(r){var n,i,s,a,u,c=r.ok;return r.error&&(o=!1),c&&c._attachments?(n=t,i=e,s=c,a=ce(i)&&!ce(n),u=Object.keys(s._attachments),a?n.get(s._id).then(function(e){return v.all(u.map(function(t){return o=s,a=t,(r=e)._attachments&&r._attachments[a]&&r._attachments[a].digest===o._attachments[a].digest?n.getAttachment(e._id,t):i.getAttachment(s._id,t);var r,o,a}))}).catch(function(e){if(404!==e.status)throw e;return Wn(i,s)}):Wn(i,s)).then(function(e){var t=Object.keys(c._attachments);return e.forEach(function(e,r){var n=c._attachments[t[r]];delete n.stub,delete n.length,n.data=e}),c}):c}))})).then(function(e){i=i.concat(ae(e).filter(Boolean))})})}).then(function(){return{ok:o,docs:i}})}var Gn=1,Kn="pouchdb",Yn=5,Xn=0;function Jn(e,t,r,n,i){return e.get(t).catch(function(r){if(404===r.status)return"http"!==e.adapter&&"https"!==e.adapter||L(404,"PouchDB is just checking if a remote checkpoint exists."),{session_id:n,_id:t,history:[],replicator:Kn,version:Gn};throw r}).then(function(o){if(!i.cancelled&&o.last_seq!==r)return o.history=(o.history||[]).filter(function(e){return e.session_id!==n}),o.history.unshift({last_seq:r,session_id:n}),o.history=o.history.slice(0,Yn),o.version=Gn,o.replicator=Kn,o.session_id=n,o.last_seq=r,e.put(o).catch(function(o){if(409===o.status)return Jn(e,t,r,n,i);throw o})})}function Zn(e,t,r,n,i){this.src=e,this.target=t,this.id=r,this.returnValue=n,this.opts=i||{}}Zn.prototype.writeCheckpoint=function(e,t){var r=this;return this.updateTarget(e,t).then(function(){return r.updateSource(e,t)})},Zn.prototype.updateTarget=function(e,t){return this.opts.writeTargetCheckpoint?Jn(this.target,this.id,e,t,this.returnValue):v.resolve(!0)},Zn.prototype.updateSource=function(e,t){if(this.opts.writeSourceCheckpoint){var r=this;return Jn(this.src,this.id,e,t,this.returnValue).catch(function(e){if(ti(e))return r.opts.writeSourceCheckpoint=!1,!0;throw e})}return v.resolve(!0)};var Qn={undefined:function(e,t){return 0===rt(e.last_seq,t.last_seq)?t.last_seq:0},1:function(e,t){return function(e,t){if(e.session_id===t.session_id)return{last_seq:e.last_seq,history:e.history};return function e(t,r){var n=t[0];var i=t.slice(1);var o=r[0];var s=r.slice(1);if(!n||0===r.length)return{last_seq:Xn,history:[]};var a=n.session_id;if(ei(a,r))return{last_seq:n.last_seq,history:t};var u=o.session_id;if(ei(u,i))return{last_seq:o.last_seq,history:s};return e(i,s)}(e.history,t.history)}(t,e).last_seq}};function ei(e,t){var r=t[0],n=t.slice(1);return!(!e||0===t.length)&&(e===r.session_id||ei(e,n))}function ti(e){return"number"==typeof e.status&&4===Math.floor(e.status/100)}Zn.prototype.getCheckpoint=function(){var e=this;return e.opts&&e.opts.writeSourceCheckpoint&&!e.opts.writeTargetCheckpoint?e.src.get(e.id).then(function(e){return e.last_seq||Xn}).catch(function(e){if(404!==e.status)throw e;return Xn}):e.target.get(e.id).then(function(t){return e.opts&&e.opts.writeTargetCheckpoint&&!e.opts.writeSourceCheckpoint?t.last_seq||Xn:e.src.get(e.id).then(function(e){return t.version!==e.version?Xn:(r=t.version?t.version.toString():"undefined")in Qn?Qn[r](t,e):Xn;var r},function(r){if(404===r.status&&t.last_seq)return e.src.put({_id:e.id,last_seq:Xn}).then(function(){return Xn},function(r){return ti(r)?(e.opts.writeSourceCheckpoint=!1,t.last_seq):Xn});throw r})}).catch(function(e){if(404!==e.status)throw e;return Xn})};var ri=0;function ni(e,t,r){var n,i=r.doc_ids?r.doc_ids.sort(rt):"",o=r.filter?r.filter.toString():"",s="",a="",u="";return r.selector&&(u=JSON.stringify(r.selector)),r.filter&&r.query_params&&(s=JSON.stringify((n=r.query_params,Object.keys(n).sort(rt).reduce(function(e,t){return e[t]=n[t],e},{})))),r.filter&&"_view"===r.filter&&(a=r.view.toString()),v.all([e.id(),t.id()]).then(function(e){var t=e[0]+e[1]+o+a+s+i+u;return new v(function(e){Rt(t,e)})}).then(function(e){return"_local/"+(e=e.replace(/\//g,".").replace(/\+/g,"_"))})}function ii(e,t,r,n,i){var o,s,a,u=[],c={seq:0,changes:[],docs:[]},l=!1,f=!1,h=!1,p=0,d=r.continuous||r.live||!1,m=r.batch_size||100,b=r.batches_limit||10,y=!1,g=r.doc_ids,_=r.selector,x=[],k=_e(),j=r.seq_interval;i=i||{ok:!0,start_time:new Date,docs_read:0,docs_written:0,doc_write_failures:0,errors:[]};var S={};function O(){return a?v.resolve():ni(e,t,r).then(function(i){s=i;var o={};o=!1===r.checkpoint?{writeSourceCheckpoint:!1,writeTargetCheckpoint:!1}:"source"===r.checkpoint?{writeSourceCheckpoint:!0,writeTargetCheckpoint:!1}:"target"===r.checkpoint?{writeSourceCheckpoint:!1,writeTargetCheckpoint:!0}:{writeSourceCheckpoint:!0,writeTargetCheckpoint:!0},a=new Zn(e,t,s,n,o)})}function E(){if(x=[],0!==o.docs.length){var e=o.docs,s={timeout:r.timeout};return t.bulkDocs({docs:e,new_edits:!1},s).then(function(t){if(n.cancelled)throw N(),new Error("cancelled");var r=Object.create(null);t.forEach(function(e){e.error&&(r[e.id]=e)});var o=Object.keys(r).length;i.doc_write_failures+=o,i.docs_written+=e.length-o,e.forEach(function(e){var t=r[e._id];if(t){i.errors.push(t);var o=(t.name||"").toLowerCase();if("unauthorized"!==o&&"forbidden"!==o)throw t;n.emit("denied",w(t))}else x.push(e)})},function(t){throw i.doc_write_failures+=e.length,t})}}function C(){if(o.error)throw new Error("There was a problem getting docs.");i.last_seq=p=o.seq;var e=w(i);return x.length&&(e.docs=x,"number"==typeof o.pending&&(e.pending=o.pending,delete o.pending),n.emit("change",e)),l=!0,a.writeCheckpoint(o.seq,k).then(function(){if(l=!1,n.cancelled)throw N(),new Error("cancelled");o=void 0,D()}).catch(function(e){throw R(e),e})}function A(){return Hn(e,t,o.diffs,n).then(function(e){o.error=!e.ok,e.docs.forEach(function(e){delete o.diffs[e._id],i.docs_read++,o.docs.push(e)})})}function T(){var e;n.cancelled||o||(0!==u.length?(o=u.shift(),(e={},o.changes.forEach(function(t){"_user/"!==t.id&&(e[t.id]=t.changes.map(function(e){return e.rev}))}),t.revsDiff(e).then(function(e){if(n.cancelled)throw N(),new Error("cancelled");o.diffs=e})).then(A).then(E).then(C).then(T).catch(function(e){I("batch processing terminated with error",e)})):M(!0))}function M(e){0!==c.changes.length?(e||f||c.changes.length>=m)&&(u.push(c),c={seq:0,changes:[],docs:[]},"pending"!==n.state&&"stopped"!==n.state||(n.state="active",n.emit("active")),T()):0!==u.length||o||((d&&S.live||f)&&(n.state="pending",n.emit("paused")),f&&N())}function I(e,t){h||(t.message||(t.message=e),i.ok=!1,i.status="aborting",u=[],c={seq:0,changes:[],docs:[]},N(t))}function N(o){if(!(h||n.cancelled&&(i.status="cancelled",l)))if(i.status=i.status||"complete",i.end_time=new Date,i.last_seq=p,h=!0,o){(o=ie(o)).result=i;var s=(o.name||"").toLowerCase();"unauthorized"===s||"forbidden"===s?(n.emit("error",o),n.removeAllListeners()):function(e,t,r,n){if(!1===e.retry)return t.emit("error",r),void t.removeAllListeners();if("function"!=typeof e.back_off_function&&(e.back_off_function=z),t.emit("requestError",r),"active"===t.state||"pending"===t.state){t.emit("paused",r),t.state="stopped";var i=function(){e.current_back_off=ri};t.once("paused",function(){t.removeListener("active",i)}),t.once("active",i)}e.current_back_off=e.current_back_off||ri,e.current_back_off=e.back_off_function(e.current_back_off),setTimeout(n,e.current_back_off)}(r,n,o,function(){ii(e,t,r,n)})}else n.emit("complete",i),n.removeAllListeners()}function q(e,t,i){if(n.cancelled)return N();"number"==typeof t&&(c.pending=t),se(r)(e)&&(c.seq=e.seq||i,c.changes.push(e),M(0===u.length&&S.live))}function F(e){if(y=!1,n.cancelled)return N();if(e.results.length>0)S.since=e.last_seq,D(),M(!0);else{var t=function(){d?(S.live=!0,D()):f=!0,M(!0)};o||0!==e.results.length?t():(l=!0,a.writeCheckpoint(e.last_seq,k).then(function(){l=!1,i.last_seq=p=e.last_seq,t()}).catch(R))}}function P(e){if(y=!1,n.cancelled)return N();I("changes rejected",e)}function D(){if(!y&&!f&&u.length<b){y=!0,n._changes&&(n.removeListener("cancel",n._abortChanges),n._changes.cancel()),n.once("cancel",i);var t=e.changes(S).on("change",q);t.then(o,o),t.then(F).catch(P),r.retry&&(n._changes=t,n._abortChanges=i)}function i(){t.cancel()}function o(){n.removeListener("cancel",i)}}function L(){O().then(function(){if(!n.cancelled)return a.getCheckpoint().then(function(e){S={since:p=e,limit:m,batch_size:m,style:"all_docs",doc_ids:g,selector:_,return_docs:!0},!1!==j&&(S.seq_interval=j||m),r.filter&&("string"!=typeof r.filter?S.include_docs=!0:S.filter=r.filter),"heartbeat"in r&&(S.heartbeat=r.heartbeat),"timeout"in r&&(S.timeout=r.timeout),r.query_params&&(S.query_params=r.query_params),r.view&&(S.view=r.view),D()});N()}).catch(function(e){I("getCheckpoint rejected with ",e)})}function R(e){l=!1,I("writeCheckpoint completed with error",e)}n.ready(e,t),n.cancelled?N():(n._addedListeners||(n.once("cancel",N),"function"==typeof r.complete&&(n.once("error",r.complete),n.once("complete",function(e){r.complete(null,e)})),n._addedListeners=!0),void 0===r.since?L():O().then(function(){return l=!0,a.writeCheckpoint(r.since,k)}).then(function(){l=!1,n.cancelled?N():(p=r.since,L())}).catch(R))}function oi(){c.EventEmitter.call(this),this.cancelled=!1,this.state="pending";var e=this,t=new v(function(t,r){e.once("complete",t),e.once("error",r)});e.then=function(e,r){return t.then(e,r)},e.catch=function(e){return t.catch(e)},e.catch(function(){})}function si(e,t){var r=t.PouchConstructor;return"string"==typeof e?new r(e,t):e}function ai(e,t,r,n){if("function"==typeof r&&(n=r,r={}),void 0===r&&(r={}),r.doc_ids&&!Array.isArray(r.doc_ids))throw ie(Z,"`doc_ids` filter parameter is not a list.");r.complete=n,(r=w(r)).continuous=r.continuous||r.live,r.retry="retry"in r&&r.retry,r.PouchConstructor=r.PouchConstructor||this;var i=new oi(r);return ii(si(e,r),si(t,r),r,i),i}function ui(e,t,r,n){return"function"==typeof r&&(n=r,r={}),void 0===r&&(r={}),(r=w(r)).PouchConstructor=r.PouchConstructor||this,new ci(e=si(e,r),t=si(t,r),r,n)}function ci(e,t,r,n){var i=this;this.canceled=!1;var o=r.push?R({},r,r.push):r,s=r.pull?R({},r,r.pull):r;function a(e){i.emit("change",{direction:"pull",change:e})}function u(e){i.emit("change",{direction:"push",change:e})}function c(e){i.emit("denied",{direction:"push",doc:e})}function l(e){i.emit("denied",{direction:"pull",doc:e})}function f(){i.pushPaused=!0,i.pullPaused&&i.emit("paused")}function h(){i.pullPaused=!0,i.pushPaused&&i.emit("paused")}function p(){i.pushPaused=!1,i.pullPaused&&i.emit("active",{direction:"push"})}function d(){i.pullPaused=!1,i.pushPaused&&i.emit("active",{direction:"pull"})}this.push=ai(e,t,o),this.pull=ai(t,e,s),this.pushPaused=!0,this.pullPaused=!0;var m={};function b(e){return function(t,r){("change"===t&&(r===a||r===u)||"denied"===t&&(r===l||r===c)||"paused"===t&&(r===h||r===f)||"active"===t&&(r===d||r===p))&&(t in m||(m[t]={}),m[t][e]=!0,2===Object.keys(m[t]).length&&i.removeAllListeners(t))}}function y(e,t,r){-1==e.listeners(t).indexOf(r)&&e.on(t,r)}r.live&&(this.push.on("complete",i.pull.cancel.bind(i.pull)),this.pull.on("complete",i.push.cancel.bind(i.push))),this.on("newListener",function(e){"change"===e?(y(i.pull,"change",a),y(i.push,"change",u)):"denied"===e?(y(i.pull,"denied",l),y(i.push,"denied",c)):"active"===e?(y(i.pull,"active",d),y(i.push,"active",p)):"paused"===e&&(y(i.pull,"paused",h),y(i.push,"paused",f))}),this.on("removeListener",function(e){"change"===e?(i.pull.removeListener("change",a),i.push.removeListener("change",u)):"denied"===e?(i.pull.removeListener("denied",l),i.push.removeListener("denied",c)):"active"===e?(i.pull.removeListener("active",d),i.push.removeListener("active",p)):"paused"===e&&(i.pull.removeListener("paused",h),i.push.removeListener("paused",f))}),this.pull.on("removeListener",b("pull")),this.push.on("removeListener",b("push"));var g=v.all([this.push,this.pull]).then(function(e){var t={push:e[0],pull:e[1]};return i.emit("complete",t),n&&n(null,t),i.removeAllListeners(),t},function(e){if(i.cancel(),n?n(e):i.emit("error",e),i.removeAllListeners(),n)throw e});this.then=function(e,t){return g.then(e,t)},this.catch=function(e){return g.catch(e)}}l(oi,c.EventEmitter),oi.prototype.cancel=function(){this.cancelled=!0,this.state="cancelled",this.emit("cancel")},oi.prototype.ready=function(e,t){var r=this;function n(){r.cancel()}r._readyCalled||(r._readyCalled=!0,e.once("destroyed",n),t.once("destroyed",n),r.once("complete",function(){e.removeListener("destroyed",n),t.removeListener("destroyed",n)}))},l(ci,c.EventEmitter),ci.prototype.cancel=function(){this.canceled||(this.canceled=!0,this.push.cancel(),this.pull.cancel())},We.plugin(function(e){e.adapter("idb",xr,!0)}).plugin(function(e){e.adapter("websql",en,!0)}).plugin(function(e){e.adapter("http",gn,!1),e.adapter("https",gn,!1)}).plugin(Vn).plugin(function(e){e.replicate=ai,e.sync=ui,Object.defineProperty(e.prototype,"replicate",{get:function(){var e=this;return void 0===this.replicateMethods&&(this.replicateMethods={from:function(t,r,n){return e.constructor.replicate(t,e,r,n)},to:function(t,r,n){return e.constructor.replicate(e,t,r,n)}}),this.replicateMethods}}),e.prototype.sync=function(e,t,r){return this.constructor.sync(this,e,t,r)}}),r.exports=We}),e.entry="lib/index-browser.js"}),e.pkg("lie",{},function(e){return e.file("lib/index.js",function(e,t,r,n,i){var o=t("process"),s=t("immediate");function a(){}var u={},c=["REJECTED"],l=["FULFILLED"],f=["PENDING"];if(!o.browser)var h=["UNHANDLED"];function p(e){if("function"!=typeof e)throw new TypeError("resolver must be a function");this.state=f,this.queue=[],this.outcome=void 0,o.browser||(this.handled=h),e!==a&&b(this,e)}function d(e,t,r){this.promise=e,"function"==typeof t&&(this.onFulfilled=t,this.callFulfilled=this.otherCallFulfilled),"function"==typeof r&&(this.onRejected=r,this.callRejected=this.otherCallRejected)}function v(e,t,r){s(function(){var n;try{n=t(r)}catch(t){return u.reject(e,t)}n===e?u.reject(e,new TypeError("Cannot resolve promise with itself")):u.resolve(e,n)})}function m(e){var t=e&&e.then;if(e&&("object"==typeof e||"function"==typeof e)&&"function"==typeof t)return function(){t.apply(e,arguments)}}function b(e,t){var r=!1;function n(t){r||(r=!0,u.reject(e,t))}function i(t){r||(r=!0,u.resolve(e,t))}var o=y(function(){t(i,n)});"error"===o.status&&n(o.value)}function y(e,t){var r={};try{r.value=e(t),r.status="success"}catch(e){r.status="error",r.value=e}return r}r.exports=p,p.prototype.catch=function(e){return this.then(null,e)},p.prototype.then=function(e,t){if("function"!=typeof e&&this.state===l||"function"!=typeof t&&this.state===c)return this;var r=new this.constructor(a);(o.browser||this.handled===h&&(this.handled=null),this.state!==f)?v(r,this.state===l?e:t,this.outcome):this.queue.push(new d(r,e,t));return r},d.prototype.callFulfilled=function(e){u.resolve(this.promise,e)},d.prototype.otherCallFulfilled=function(e){v(this.promise,this.onFulfilled,e)},d.prototype.callRejected=function(e){u.reject(this.promise,e)},d.prototype.otherCallRejected=function(e){v(this.promise,this.onRejected,e)},u.resolve=function(e,t){var r=y(m,t);if("error"===r.status)return u.reject(e,r.value);var n=r.value;if(n)b(e,n);else{e.state=l,e.outcome=t;for(var i=-1,o=e.queue.length;++i<o;)e.queue[i].callFulfilled(t)}return e},u.reject=function(e,t){e.state=c,e.outcome=t,o.browser||e.handled===h&&s(function(){e.handled===h&&o.emit("unhandledRejection",t,e)});for(var r=-1,n=e.queue.length;++r<n;)e.queue[r].callRejected(t);return e},p.resolve=function(e){if(e instanceof this)return e;return u.resolve(new this(a),e)},p.reject=function(e){var t=new this(a);return u.reject(t,e)},p.all=function(e){var t=this;if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var r=e.length,n=!1;if(!r)return this.resolve([]);var i=new Array(r),o=0,s=-1,c=new this(a);for(;++s<r;)l(e[s],s);return c;function l(e,s){t.resolve(e).then(function(e){i[s]=e,++o!==r||n||(n=!0,u.resolve(c,i))},function(e){n||(n=!0,u.reject(c,e))})}},p.race=function(e){var t=this;if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var r=e.length,n=!1;if(!r)return this.resolve([]);var i=-1,o=new this(a);for(;++i<r;)s=e[i],t.resolve(s).then(function(e){n||(n=!0,u.resolve(o,e))},function(e){n||(n=!0,u.reject(o,e))});var s;return o}}),e.entry="lib/index.js"}),e.pkg("immediate",{},function(e){return e.file("lib/index.js",function(e,t,r,n,i){var o,s,a=t("process"),u=global.MutationObserver||global.WebKitMutationObserver;if(a.browser)if(u){var c=0,l=new u(d),f=global.document.createTextNode("");l.observe(f,{characterData:!0}),o=function(){f.data=c=++c%2}}else if(global.setImmediate||void 0===global.MessageChannel)o="document"in global&&"onreadystatechange"in global.document.createElement("script")?function(){var e=global.document.createElement("script");e.onreadystatechange=function(){d(),e.onreadystatechange=null,e.parentNode.removeChild(e),e=null},global.document.documentElement.appendChild(e)}:function(){setTimeout(d,0)};else{var h=new global.MessageChannel;h.port1.onmessage=d,o=function(){h.port2.postMessage(0)}}else o=function(){a.nextTick(d)};var p=[];function d(){var e,t;s=!0;for(var r=p.length;r;){for(t=p,p=[],e=-1;++e<r;)t[e]();r=p.length}s=!1}r.exports=function(e){1!==p.push(e)||s||o()}}),e.entry="lib/index.js"}),e.pkg("argsarray",{},function(e){return e.file("index.js",function(e,t,r,n,i){"use strict";r.exports=function(e){return function(){var t=arguments.length;if(t){for(var r=[],n=-1;++n<t;)r[n]=arguments[n];return e.call(this,r)}return e.call(this,[])}}}),e.entry="index.js"}),e.pkg("events",{},function(t){return t.file("index.js",function(t,r,n,i,o){if(e.isServer)n.exports=global.require("events");else{function s(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function a(e){return"function"==typeof e}function u(e){return"object"==typeof e&&null!==e}function c(e){return void 0===e}n.exports=s,s.EventEmitter=s,s.prototype._events=void 0,s.prototype._maxListeners=void 0,s.defaultMaxListeners=10,s.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this},s.prototype.emit=function(e){var t,r,n,i,o,s;if(this._events||(this._events={}),"error"===e&&(!this._events.error||u(this._events.error)&&!this._events.error.length)){if((t=arguments[1])instanceof Error)throw t;throw TypeError('Uncaught, unspecified "error" event.')}if(c(r=this._events[e]))return!1;if(a(r))switch(arguments.length){case 1:r.call(this);break;case 2:r.call(this,arguments[1]);break;case 3:r.call(this,arguments[1],arguments[2]);break;default:i=Array.prototype.slice.call(arguments,1),r.apply(this,i)}else if(u(r))for(i=Array.prototype.slice.call(arguments,1),n=(s=r.slice()).length,o=0;o<n;o++)s[o].apply(this,i);return!0},s.prototype.addListener=function(e,t){var r;if(!a(t))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,a(t.listener)?t.listener:t),this._events[e]?u(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,u(this._events[e])&&!this._events[e].warned&&(r=c(this._maxListeners)?s.defaultMaxListeners:this._maxListeners)&&r>0&&this._events[e].length>r&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),"function"==typeof console.trace&&console.trace()),this},s.prototype.on=s.prototype.addListener,s.prototype.once=function(e,t){if(!a(t))throw TypeError("listener must be a function");var r=!1;function n(){this.removeListener(e,n),r||(r=!0,t.apply(this,arguments))}return n.listener=t,this.on(e,n),this},s.prototype.removeListener=function(e,t){var r,n,i,o;if(!a(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(i=(r=this._events[e]).length,n=-1,r===t||a(r.listener)&&r.listener===t)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,t);else if(u(r)){for(o=i;o-- >0;)if(r[o]===t||r[o].listener&&r[o].listener===t){n=o;break}if(n<0)return this;1===r.length?(r.length=0,delete this._events[e]):r.splice(n,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this},s.prototype.removeAllListeners=function(e){var t,r;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e],this;if(0===arguments.length){for(t in this._events)"removeListener"!==t&&this.removeAllListeners(t);return this.removeAllListeners("removeListener"),this._events={},this}if(a(r=this._events[e]))this.removeListener(e,r);else if(r)for(;r.length;)this.removeListener(e,r[r.length-1]);return delete this._events[e],this},s.prototype.listeners=function(e){return this._events&&this._events[e]?a(this._events[e])?[this._events[e]]:this._events[e].slice():[]},s.prototype.listenerCount=function(e){if(this._events){var t=this._events[e];if(a(t))return 1;if(t)return t.length}return 0},s.listenerCount=function(e,t){return e.listenerCount(t)}}}),t.entry="index.js"}),e.pkg("inherits",{},function(e){return e.file("inherits_browser.js",function(e,t,r,n,i){"function"==typeof Object.create?r.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:r.exports=function(e,t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}}),e.entry="inherits_browser.js"}),e.pkg("uuid@3.2.1",{},function(e){return e.file("index.js",function(e,t,r,n,i){var o=t("./v1"),s=t("./v4"),a=s;a.v1=o,a.v4=s,r.exports=a}),e.file("v1.js",function(e,t,r,n,i){var o,s,a=t("~/lib/rng-browser.js"),u=t("./lib/bytesToUuid"),c=0,l=0;r.exports=function(e,t,r){var n=t&&r||0,i=t||[],f=(e=e||{}).node||o,h=void 0!==e.clockseq?e.clockseq:s;if(null==f||null==h){var p=a();null==f&&(f=o=[1|p[0],p[1],p[2],p[3],p[4],p[5]]),null==h&&(h=s=16383&(p[6]<<8|p[7]))}var d=void 0!==e.msecs?e.msecs:(new Date).getTime(),v=void 0!==e.nsecs?e.nsecs:l+1,m=d-c+(v-l)/1e4;if(m<0&&void 0===e.clockseq&&(h=h+1&16383),(m<0||d>c)&&void 0===e.nsecs&&(v=0),v>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");c=d,l=v,s=h;var b=(1e4*(268435455&(d+=122192928e5))+v)%4294967296;i[n++]=b>>>24&255,i[n++]=b>>>16&255,i[n++]=b>>>8&255,i[n++]=255&b;var y=d/4294967296*1e4&268435455;i[n++]=y>>>8&255,i[n++]=255&y,i[n++]=y>>>24&15|16,i[n++]=y>>>16&255,i[n++]=h>>>8|128,i[n++]=255&h;for(var g=0;g<6;++g)i[n+g]=f[g];return t||u(i)}}),e.file("lib/rng-browser.js",function(e,t,r,n,i){var o="undefined"!=typeof crypto&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&msCrypto.getRandomValues.bind(msCrypto);if(o){var s=new Uint8Array(16);r.exports=function(){return o(s),s}}else{var a=new Array(16);r.exports=function(){for(var e,t=0;t<16;t++)0==(3&t)&&(e=4294967296*Math.random()),a[t]=e>>>((3&t)<<3)&255;return a}}}),e.file("lib/bytesToUuid.js",function(e,t,r,n,i){for(var o=[],s=0;s<256;++s)o[s]=(s+256).toString(16).substr(1);r.exports=function(e,t){var r=t||0,n=o;return n[e[r++]]+n[e[r++]]+n[e[r++]]+n[e[r++]]+"-"+n[e[r++]]+n[e[r++]]+"-"+n[e[r++]]+n[e[r++]]+"-"+n[e[r++]]+n[e[r++]]+"-"+n[e[r++]]+n[e[r++]]+n[e[r++]]+n[e[r++]]+n[e[r++]]+n[e[r++]]}}),e.file("v4.js",function(e,t,r,n,i){var o=t("~/lib/rng-browser.js"),s=t("./lib/bytesToUuid");r.exports=function(e,t,r){var n=t&&r||0;"string"==typeof e&&(t="binary"===e?new Array(16):null,e=null);var i=(e=e||{}).random||(e.rng||o)();if(i[6]=15&i[6]|64,i[8]=63&i[8]|128,t)for(var a=0;a<16;++a)t[n+a]=i[a];return t||s(i)}}),e.entry="index.js"}),e.pkg("debug@3.1.0",{},function(e){return e.file("src/browser.js",function(e,t,r,n,i){var o=t("process");function s(){var t;try{t=e.storage.debug}catch(e){}return!t&&void 0!==o&&"env"in o&&(t=o.env.DEBUG),t}(e=r.exports=t("./debug")).log=function(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)},e.formatArgs=function(t){var r=this.useColors;if(t[0]=(r?"%c":"")+this.namespace+(r?" %c":" ")+t[0]+(r?"%c ":" ")+"+"+e.humanize(this.diff),!r)return;var n="color: "+this.color;t.splice(1,0,n,"color: inherit");var i=0,o=0;t[0].replace(/%[a-zA-Z%]/g,function(e){"%%"!==e&&"%c"===e&&(o=++i)}),t.splice(o,0,n)},e.save=function(t){try{null==t?e.storage.removeItem("debug"):e.storage.debug=t}catch(e){}},e.load=s,e.useColors=function(){if("undefined"!=typeof window&&window.process&&"renderer"===window.process.type)return!0;if("undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;return"undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},e.storage="undefined"!=typeof chrome&&void 0!==chrome.storage?chrome.storage.local:function(){try{return window.localStorage}catch(e){}}(),e.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],e.formatters.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}},e.enable(s())}),e.file("src/debug.js",function(e,t,r,n,i){function o(t){var r;function n(){if(n.enabled){var t=n,i=+new Date,o=i-(r||i);t.diff=o,t.prev=r,t.curr=i,r=i;for(var s=new Array(arguments.length),a=0;a<s.length;a++)s[a]=arguments[a];s[0]=e.coerce(s[0]),"string"!=typeof s[0]&&s.unshift("%O");var u=0;s[0]=s[0].replace(/%([a-zA-Z%])/g,function(r,n){if("%%"===r)return r;u++;var i=e.formatters[n];if("function"==typeof i){var o=s[u];r=i.call(t,o),s.splice(u,1),u--}return r}),e.formatArgs.call(t,s),(n.log||e.log||console.log.bind(console)).apply(t,s)}}return n.namespace=t,n.enabled=e.enabled(t),n.useColors=e.useColors(),n.color=function(t){var r,n=0;for(r in t)n=(n<<5)-n+t.charCodeAt(r),n|=0;return e.colors[Math.abs(n)%e.colors.length]}(t),n.destroy=s,"function"==typeof e.init&&e.init(n),e.instances.push(n),n}function s(){var t=e.instances.indexOf(this);return-1!==t&&(e.instances.splice(t,1),!0)}(e=r.exports=o.debug=o.default=o).coerce=function(e){return e instanceof Error?e.stack||e.message:e},e.disable=function(){e.enable("")},e.enable=function(t){var r;e.save(t),e.names=[],e.skips=[];var n=("string"==typeof t?t:"").split(/[\s,]+/),i=n.length;for(r=0;r<i;r++)n[r]&&("-"===(t=n[r].replace(/\*/g,".*?"))[0]?e.skips.push(new RegExp("^"+t.substr(1)+"$")):e.names.push(new RegExp("^"+t+"$")));for(r=0;r<e.instances.length;r++){var o=e.instances[r];o.enabled=e.enabled(o.namespace)}},e.enabled=function(t){if("*"===t[t.length-1])return!0;var r,n;for(r=0,n=e.skips.length;r<n;r++)if(e.skips[r].test(t))return!1;for(r=0,n=e.names.length;r<n;r++)if(e.names[r].test(t))return!0;return!1},e.humanize=t("ms"),e.instances=[],e.names=[],e.skips=[],e.formatters={}}),e.entry="src/browser.js"}),e.pkg("ms",{},function(e){return e.file("index.js",function(e,t,r,n,i){var o=1e3,s=60*o,a=60*s,u=24*a,c=365.25*u;function l(e,t,r){if(!(e<t))return e<1.5*t?Math.floor(e/t)+" "+r:Math.ceil(e/t)+" "+r+"s"}r.exports=function(e,t){t=t||{};var r,n=typeof e;if("string"===n&&e.length>0)return function(e){if((e=String(e)).length>100)return;var t=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(e);if(!t)return;var r=parseFloat(t[1]);switch((t[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return r*c;case"days":case"day":case"d":return r*u;case"hours":case"hour":case"hrs":case"hr":case"h":return r*a;case"minutes":case"minute":case"mins":case"min":case"m":return r*s;case"seconds":case"second":case"secs":case"sec":case"s":return r*o;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return r;default:return}}(e);if("number"===n&&!1===isNaN(e))return t.long?l(r=e,u,"day")||l(r,a,"hour")||l(r,s,"minute")||l(r,o,"second")||r+" ms":function(e){if(e>=u)return Math.round(e/u)+"d";if(e>=a)return Math.round(e/a)+"h";if(e>=s)return Math.round(e/s)+"m";if(e>=o)return Math.round(e/o)+"s";return e+"ms"}(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}}),e.entry="index.js"}),e.pkg("spark-md5",{},function(e){return e.file("spark-md5.js",function(e,t,r,n,i){!function(t){if("object"==typeof e)r.exports=t();else if("function"==typeof define&&define.amd)define(t);else{var n;try{n=window}catch(e){n=self}n.SparkMD5=t()}}(function(e){"use strict";var t=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"];function r(e,t){var r=e[0],n=e[1],i=e[2],o=e[3];n=((n+=((i=((i+=((o=((o+=((r=((r+=(n&i|~n&o)+t[0]-680876936|0)<<7|r>>>25)+n|0)&n|~r&i)+t[1]-389564586|0)<<12|o>>>20)+r|0)&r|~o&n)+t[2]+606105819|0)<<17|i>>>15)+o|0)&o|~i&r)+t[3]-1044525330|0)<<22|n>>>10)+i|0,n=((n+=((i=((i+=((o=((o+=((r=((r+=(n&i|~n&o)+t[4]-176418897|0)<<7|r>>>25)+n|0)&n|~r&i)+t[5]+1200080426|0)<<12|o>>>20)+r|0)&r|~o&n)+t[6]-1473231341|0)<<17|i>>>15)+o|0)&o|~i&r)+t[7]-45705983|0)<<22|n>>>10)+i|0,n=((n+=((i=((i+=((o=((o+=((r=((r+=(n&i|~n&o)+t[8]+1770035416|0)<<7|r>>>25)+n|0)&n|~r&i)+t[9]-1958414417|0)<<12|o>>>20)+r|0)&r|~o&n)+t[10]-42063|0)<<17|i>>>15)+o|0)&o|~i&r)+t[11]-1990404162|0)<<22|n>>>10)+i|0,n=((n+=((i=((i+=((o=((o+=((r=((r+=(n&i|~n&o)+t[12]+1804603682|0)<<7|r>>>25)+n|0)&n|~r&i)+t[13]-40341101|0)<<12|o>>>20)+r|0)&r|~o&n)+t[14]-1502002290|0)<<17|i>>>15)+o|0)&o|~i&r)+t[15]+1236535329|0)<<22|n>>>10)+i|0,n=((n+=((i=((i+=((o=((o+=((r=((r+=(n&o|i&~o)+t[1]-165796510|0)<<5|r>>>27)+n|0)&i|n&~i)+t[6]-1069501632|0)<<9|o>>>23)+r|0)&n|r&~n)+t[11]+643717713|0)<<14|i>>>18)+o|0)&r|o&~r)+t[0]-373897302|0)<<20|n>>>12)+i|0,n=((n+=((i=((i+=((o=((o+=((r=((r+=(n&o|i&~o)+t[5]-701558691|0)<<5|r>>>27)+n|0)&i|n&~i)+t[10]+38016083|0)<<9|o>>>23)+r|0)&n|r&~n)+t[15]-660478335|0)<<14|i>>>18)+o|0)&r|o&~r)+t[4]-405537848|0)<<20|n>>>12)+i|0,n=((n+=((i=((i+=((o=((o+=((r=((r+=(n&o|i&~o)+t[9]+568446438|0)<<5|r>>>27)+n|0)&i|n&~i)+t[14]-1019803690|0)<<9|o>>>23)+r|0)&n|r&~n)+t[3]-187363961|0)<<14|i>>>18)+o|0)&r|o&~r)+t[8]+1163531501|0)<<20|n>>>12)+i|0,n=((n+=((i=((i+=((o=((o+=((r=((r+=(n&o|i&~o)+t[13]-1444681467|0)<<5|r>>>27)+n|0)&i|n&~i)+t[2]-51403784|0)<<9|o>>>23)+r|0)&n|r&~n)+t[7]+1735328473|0)<<14|i>>>18)+o|0)&r|o&~r)+t[12]-1926607734|0)<<20|n>>>12)+i|0,n=((n+=((i=((i+=((o=((o+=((r=((r+=(n^i^o)+t[5]-378558|0)<<4|r>>>28)+n|0)^n^i)+t[8]-2022574463|0)<<11|o>>>21)+r|0)^r^n)+t[11]+1839030562|0)<<16|i>>>16)+o|0)^o^r)+t[14]-35309556|0)<<23|n>>>9)+i|0,n=((n+=((i=((i+=((o=((o+=((r=((r+=(n^i^o)+t[1]-1530992060|0)<<4|r>>>28)+n|0)^n^i)+t[4]+1272893353|0)<<11|o>>>21)+r|0)^r^n)+t[7]-155497632|0)<<16|i>>>16)+o|0)^o^r)+t[10]-1094730640|0)<<23|n>>>9)+i|0,n=((n+=((i=((i+=((o=((o+=((r=((r+=(n^i^o)+t[13]+681279174|0)<<4|r>>>28)+n|0)^n^i)+t[0]-358537222|0)<<11|o>>>21)+r|0)^r^n)+t[3]-722521979|0)<<16|i>>>16)+o|0)^o^r)+t[6]+76029189|0)<<23|n>>>9)+i|0,n=((n+=((i=((i+=((o=((o+=((r=((r+=(n^i^o)+t[9]-640364487|0)<<4|r>>>28)+n|0)^n^i)+t[12]-421815835|0)<<11|o>>>21)+r|0)^r^n)+t[15]+530742520|0)<<16|i>>>16)+o|0)^o^r)+t[2]-995338651|0)<<23|n>>>9)+i|0,n=((n+=((o=((o+=(n^((r=((r+=(i^(n|~o))+t[0]-198630844|0)<<6|r>>>26)+n|0)|~i))+t[7]+1126891415|0)<<10|o>>>22)+r|0)^((i=((i+=(r^(o|~n))+t[14]-1416354905|0)<<15|i>>>17)+o|0)|~r))+t[5]-57434055|0)<<21|n>>>11)+i|0,n=((n+=((o=((o+=(n^((r=((r+=(i^(n|~o))+t[12]+1700485571|0)<<6|r>>>26)+n|0)|~i))+t[3]-1894986606|0)<<10|o>>>22)+r|0)^((i=((i+=(r^(o|~n))+t[10]-1051523|0)<<15|i>>>17)+o|0)|~r))+t[1]-2054922799|0)<<21|n>>>11)+i|0,n=((n+=((o=((o+=(n^((r=((r+=(i^(n|~o))+t[8]+1873313359|0)<<6|r>>>26)+n|0)|~i))+t[15]-30611744|0)<<10|o>>>22)+r|0)^((i=((i+=(r^(o|~n))+t[6]-1560198380|0)<<15|i>>>17)+o|0)|~r))+t[13]+1309151649|0)<<21|n>>>11)+i|0,n=((n+=((o=((o+=(n^((r=((r+=(i^(n|~o))+t[4]-145523070|0)<<6|r>>>26)+n|0)|~i))+t[11]-1120210379|0)<<10|o>>>22)+r|0)^((i=((i+=(r^(o|~n))+t[2]+718787259|0)<<15|i>>>17)+o|0)|~r))+t[9]-343485551|0)<<21|n>>>11)+i|0,e[0]=r+e[0]|0,e[1]=n+e[1]|0,e[2]=i+e[2]|0,e[3]=o+e[3]|0}function n(e){var t,r=[];for(t=0;t<64;t+=4)r[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return r}function i(e){var t,r=[];for(t=0;t<64;t+=4)r[t>>2]=e[t]+(e[t+1]<<8)+(e[t+2]<<16)+(e[t+3]<<24);return r}function o(e){var t,i,o,s,a,u,c=e.length,l=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=c;t+=64)r(l,n(e.substring(t-64,t)));for(i=(e=e.substring(t-64)).length,o=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],t=0;t<i;t+=1)o[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(o[t>>2]|=128<<(t%4<<3),t>55)for(r(l,o),t=0;t<16;t+=1)o[t]=0;return s=(s=8*c).toString(16).match(/(.*?)(.{0,8})$/),a=parseInt(s[2],16),u=parseInt(s[1],16)||0,o[14]=a,o[15]=u,r(l,o),l}function s(e){var r,n="";for(r=0;r<4;r+=1)n+=t[e>>8*r+4&15]+t[e>>8*r&15];return n}function a(e){var t;for(t=0;t<e.length;t+=1)e[t]=s(e[t]);return e.join("")}function u(e){return/[\u0080-\uFFFF]/.test(e)&&(e=unescape(encodeURIComponent(e))),e}function c(e){var t,r=[],n=e.length;for(t=0;t<n-1;t+=2)r.push(parseInt(e.substr(t,2),16));return String.fromCharCode.apply(String,r)}function l(){this.reset()}return"5d41402abc4b2a76b9719d911017c592"!==a(o("hello"))&&function(e,t){var r=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(r>>16)<<16|65535&r},"undefined"==typeof ArrayBuffer||ArrayBuffer.prototype.slice||function(){function t(e,t){return(e=0|e||0)<0?Math.max(e+t,0):Math.min(e,t)}ArrayBuffer.prototype.slice=function(r,n){var i,o,s,a,u=this.byteLength,c=t(r,u),l=u;return n!==e&&(l=t(n,u)),c>l?new ArrayBuffer(0):(i=l-c,o=new ArrayBuffer(i),s=new Uint8Array(o),a=new Uint8Array(this,c,i),s.set(a),o)}}(),l.prototype.append=function(e){return this.appendBinary(u(e)),this},l.prototype.appendBinary=function(e){this._buff+=e,this._length+=e.length;var t,i=this._buff.length;for(t=64;t<=i;t+=64)r(this._hash,n(this._buff.substring(t-64,t)));return this._buff=this._buff.substring(t-64),this},l.prototype.end=function(e){var t,r,n=this._buff,i=n.length,o=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<i;t+=1)o[t>>2]|=n.charCodeAt(t)<<(t%4<<3);return this._finish(o,i),r=a(this._hash),e&&(r=c(r)),this.reset(),r},l.prototype.reset=function(){return this._buff="",this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},l.prototype.getState=function(){return{buff:this._buff,length:this._length,hash:this._hash}},l.prototype.setState=function(e){return this._buff=e.buff,this._length=e.length,this._hash=e.hash,this},l.prototype.destroy=function(){delete this._hash,delete this._buff,delete this._length},l.prototype._finish=function(e,t){var n,i,o,s=t;if(e[s>>2]|=128<<(s%4<<3),s>55)for(r(this._hash,e),s=0;s<16;s+=1)e[s]=0;n=(n=8*this._length).toString(16).match(/(.*?)(.{0,8})$/),i=parseInt(n[2],16),o=parseInt(n[1],16)||0,e[14]=i,e[15]=o,r(this._hash,e)},l.hash=function(e,t){return l.hashBinary(u(e),t)},l.hashBinary=function(e,t){var r=a(o(e));return t?c(r):r},l.ArrayBuffer=function(){this.reset()},l.ArrayBuffer.prototype.append=function(e){var t,n,o,s,a,u=(n=this._buff.buffer,o=e,s=!0,(a=new Uint8Array(n.byteLength+o.byteLength)).set(new Uint8Array(n)),a.set(new Uint8Array(o),n.byteLength),s?a:a.buffer),c=u.length;for(this._length+=e.byteLength,t=64;t<=c;t+=64)r(this._hash,i(u.subarray(t-64,t)));return this._buff=t-64<c?new Uint8Array(u.buffer.slice(t-64)):new Uint8Array(0),this},l.ArrayBuffer.prototype.end=function(e){var t,r,n=this._buff,i=n.length,o=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<i;t+=1)o[t>>2]|=n[t]<<(t%4<<3);return this._finish(o,i),r=a(this._hash),e&&(r=c(r)),this.reset(),r},l.ArrayBuffer.prototype.reset=function(){return this._buff=new Uint8Array(0),this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},l.ArrayBuffer.prototype.getState=function(){var e,t=l.prototype.getState.call(this);return t.buff=(e=t.buff,String.fromCharCode.apply(null,new Uint8Array(e))),t},l.ArrayBuffer.prototype.setState=function(e){return e.buff=function(e,t){var r,n=e.length,i=new ArrayBuffer(n),o=new Uint8Array(i);for(r=0;r<n;r+=1)o[r]=e.charCodeAt(r);return t?o:i}(e.buff,!0),l.prototype.setState.call(this,e)},l.ArrayBuffer.prototype.destroy=l.prototype.destroy,l.ArrayBuffer.prototype._finish=l.prototype._finish,l.ArrayBuffer.hash=function(e,t){var n=a(function(e){var t,n,o,s,a,u,c=e.length,l=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=c;t+=64)r(l,i(e.subarray(t-64,t)));for(n=(e=t-64<c?e.subarray(t-64):new Uint8Array(0)).length,o=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],t=0;t<n;t+=1)o[t>>2]|=e[t]<<(t%4<<3);if(o[t>>2]|=128<<(t%4<<3),t>55)for(r(l,o),t=0;t<16;t+=1)o[t]=0;return s=(s=8*c).toString(16).match(/(.*?)(.{0,8})$/),a=parseInt(s[2],16),u=parseInt(s[1],16)||0,o[14]=a,o[15]=u,r(l,o),l}(new Uint8Array(e)));return t?c(n):n},l})}),e.entry="spark-md5.js"}),e.pkg("vuvuzela",{},function(e){return e.file("index.js",function(e,t,r,n,i){"use strict";function o(e,t,r){var n=r[r.length-1];e===n.element&&(r.pop(),n=r[r.length-1]);var i=n.element,o=n.index;if(Array.isArray(i))i.push(e);else if(o===t.length-2){i[t.pop()]=e}else t.push(e)}e.stringify=function(e){var t=[];t.push({obj:e});for(var r,n,i,o,s,a,u,c,l,f,h="";r=t.pop();)if(n=r.obj,h+=r.prefix||"",i=r.val||"")h+=i;else if("object"!=typeof n)h+=void 0===n?null:JSON.stringify(n);else if(null===n)h+="null";else if(Array.isArray(n)){for(t.push({val:"]"}),o=n.length-1;o>=0;o--)s=0===o?"":",",t.push({obj:n[o],prefix:s});t.push({val:"["})}else{a=[];for(u in n)n.hasOwnProperty(u)&&a.push(u);for(t.push({val:"}"}),o=a.length-1;o>=0;o--)l=n[c=a[o]],f=o>0?",":"",f+=JSON.stringify(c)+":",t.push({obj:l,prefix:f});t.push({val:"{"})}return h},e.parse=function(e){for(var t,r,n,i,s,a,u,c,l,f=[],h=[],p=0;;)if("}"!==(t=e[p++])&&"]"!==t&&void 0!==t)switch(t){case" ":case"\t":case"\n":case":":case",":break;case"n":p+=3,o(null,f,h);break;case"t":p+=3,o(!0,f,h);break;case"f":p+=4,o(!1,f,h);break;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":case"-":for(r="",p--;;){if(n=e[p++],!/[\d\.\-e\+]/.test(n)){p--;break}r+=n}o(parseFloat(r),f,h);break;case'"':for(i="",s=void 0,a=0;'"'!==(u=e[p++])||"\\"===s&&a%2==1;)i+=u,"\\"===(s=u)?a++:a=0;o(JSON.parse('"'+i+'"'),f,h);break;case"[":c={element:[],index:f.length},f.push(c.element),h.push(c);break;case"{":l={element:{},index:f.length},f.push(l.element),h.push(l);break;default:throw new Error("unexpectedly reached end of input: "+t)}else{if(1===f.length)return f.pop();o(f.pop(),f,h)}}}),e.entry="index.js"}),e.pkg("pouchdb-find",{},function(e){return e.file("lib/index.js",function(e,t,r,n,i){var o=t("process");function s(e){return e&&"object"==typeof e&&"default"in e?e.default:e}var a=t("pouchdb-utils"),u=s(t("pouchdb-promise")),c=t("pouchdb-selector-core"),l=s(t("pouchdb-abstract-mapreduce")),f=t("pouchdb-collate"),h=t("pouchdb-md5");function p(e){return(e=a.clone(e)).index||(e.index={}),["type","name","ddoc"].forEach(function(t){e.index[t]&&(e[t]=e.index[t],delete e.index[t])}),e.fields&&(e.index.fields=e.fields,delete e.fields),e.type||(e.type="json"),e}function d(e,t,r){t=p(t),e.request({method:"POST",url:"_index",body:t},r)}function v(e,t,r){e.request({method:"POST",url:"_find",body:t},r)}function m(e,t,r){e.request({method:"POST",url:"_explain",body:t},r)}function b(e,t){e.request({method:"GET",url:"_index"},t)}function y(e,t,r){var n=t.ddoc,i=t.type||"json",o=t.name;if(!n)return r(new Error("you must provide an index's ddoc"));if(!o)return r(new Error("you must provide an index's name"));var s="_index/"+[n,i,o].map(encodeURIComponent).join("/");e.request({method:"DELETE",url:s},r)}function g(e){return function(){for(var t=arguments.length,r=new Array(t),n=-1;++n<t;)r[n]=arguments[n];return e.call(this,r)}}function _(e){return g(function(t){var r,n=t.pop(),i=e.apply(this,t);return r=n,i.then(function(e){o.nextTick(function(){r(null,e)})},function(e){o.nextTick(function(){r(e)})}),i})}var w=g(function(e){for(var t=[],r=0,n=e.length;r<n;r++){var i=e[r];Array.isArray(i)?t=t.concat(w.apply(null,i)):t.push(i)}return t});function x(e){for(var t={},r=0,n=e.length;r<n;r++)t=a.assign(t,e[r]);return t}function k(e,t){for(var r=0,n=Math.min(e.length,t.length);r<n;r++)if(e[r]!==t[r])return!1;return!0}function j(e,t){if(e.length!==t.length)return!1;for(var r=0,n=e.length;r<n;r++)if(e[r]!==t[r])return!1;return!0}function S(e,t){var r,n,i,o,s,a,u,l,f,h=function(e){for(var t=0,r=e.length;t<r;t++)if(-1!==e[t].indexOf("."))return!1;return!0}(e),p=1===e.length;return h?p?(l=e[0],f=t,function(e){f(e[l])}):(a=e,u=t,function(e){for(var t=[],r=0,n=a.length;r<n;r++)t.push(e[a[r]]);u(t)}):p?(i=e[0],o=t,s=c.parseField(i),function(e){for(var t=e,r=0,n=s.length;r<n;r++)if(!(t=t[s[r]]))return;o(t)}):(r=e,n=t,function(e){for(var t=[],i=0,o=r.length;i<o;i++){for(var s=c.parseField(r[i]),a=e,u=0,l=s.length;u<l;u++)if(!(a=a[s[u]]))return;t.push(a)}n(t)})}var O=l("indexes",function(e,t){return S(Object.keys(e.fields),t)},function(){throw new Error("reduce not supported")},function(e,t){var r=e.views[t];if(!r.map||!r.map.fields)throw new Error("ddoc "+e._id+" with view "+t+" doesn't have map.fields defined. maybe it wasn't created by this plugin?")});function E(e){return e.fields=e.fields.map(function(e){if("string"==typeof e){var t={};return t[e]="asc",t}return e}),e}function C(e,t){for(var r=[],n=0;n<t.def.fields.length;n++){var i=c.getKey(t.def.fields[n]);r.push(e[i])}return r}function A(e){return e.allDocs({startkey:"_design/",endkey:"_design/",include_docs:!0}).then(function(e){var t={indexes:[{ddoc:null,name:"_all_docs",type:"special",def:{fields:[{_id:"asc"}]}}]};return t.indexes=w(t.indexes,e.rows.filter(function(e){return"query"===e.doc.language}).map(function(e){return(void 0!==e.doc.views?Object.keys(e.doc.views):[]).map(function(t){var r=e.doc.views[t];return{ddoc:e.id,name:t,type:"json",def:E(r.options.def)}})})),t.indexes.sort(function(e,t){return c.compare(e.name,t.name)}),t.total_rows=t.indexes.length,t})}var T=null,M={"":{}};function I(e,t){for(var r=e.def.fields.map(c.getKey),n=0,i=r.length;n<i;n++){if(t===r[n])return!0}return!1}function N(e,t){var r=t.def.fields.map(c.getKey);return e.slice().sort(function(e,t){var n=r.indexOf(e),i=r.indexOf(t);return-1===n&&(n=Number.MAX_VALUE),-1===i&&(i=Number.MAX_VALUE),c.compare(n,i)})}function q(e,t,r,n){var i,o;return N(function(e){for(var t={},r=0;r<e.length;r++)t["$"+e[r]]=!0;return Object.keys(t).map(function(e){return e.substring(1)})}(w(e,function(e,t,r){for(var n,i=!1,o=0,s=(r=N(r,e)).length;o<s;o++){var a=r[o];if(i||!I(e,a))return r.slice(o);o<s-1&&(n=t[a],"$eq"!==c.getKey(n))&&(i=!0)}return[]}(t,r,n),(i=r,o=[],Object.keys(i).forEach(function(e){var t=i[e];Object.keys(t).forEach(function(t){"$ne"===t&&o.push(e)})}),o))),t)}function F(e,t,r){if(t){var n=(s=e,!((o=t).length>s.length)&&k(o,s)),i=k(r,e);return n&&i}var o,s;return function(e,t){e=e.slice();for(var r=0,n=t.length;r<n;r++){var i=t[r];if(!e.length)break;var o=e.indexOf(i);if(-1===o)return!1;e.splice(o,1)}return!0}(r,e)}var P=["$eq","$gt","$gte","$lt","$lte"];function D(e){return-1===P.indexOf(e)}function z(e,t,r,n){var i,o=e.def.fields.map(c.getKey);return!!F(o,t,r)&&(void 0===(i=n[o[0]])||!!Object.keys(i).some(function(e){return!D(e)})&&!(1===Object.keys(i).length&&"$ne"===c.getKey(i)))}function L(e,t,r,n,i){var o,s,a,u=(o=e,s=t,a=r,n.reduce(function(e,t){return z(t,a,s,o)&&e.push(t),e},[]));if(0===u.length){if(i)throw{error:"no_usable_index",message:"There is no index available for this selector."};var l=n[0];return l.defaultUsed=!0,l}if(1===u.length&&!i)return u[0];var f=function(e){for(var t={},r=0,n=e.length;r<n;r++)t[e[r]]=!0;return t}(t);if(i){var h="_design/"+i[0],p=2===i.length&&i[1],d=u.find(function(e){return!(!p||e.ddoc!==h||p!==e.name)||e.ddoc===h});if(!d)throw{error:"unknown_error",message:"Could not find that index or could not use that index for the query"};return d}return function(e,t){for(var r=null,n=-1,i=0,o=e.length;i<o;i++){var s=e[i],a=t(s);a>n&&(n=a,r=s)}return r}(u,function(e){for(var t=e.def.fields.map(c.getKey),r=0,n=0,i=t.length;n<i;n++){var o=t[n];f[o]&&r++}return r})}function R(e,t){switch(e){case"$eq":return{startkey:t,endkey:t};case"$lte":return{endkey:t};case"$gte":return{startkey:t};case"$lt":return{endkey:t,inclusive_end:!1};case"$gt":return{startkey:t,inclusive_start:!1}}}function B(e,t){return t.defaultUsed?(r=e,{queryOpts:{startkey:null},inMemoryFields:[Object.keys(r)]}):1===t.def.fields.length?(n=e,i=t,s=c.getKey(i.def.fields[0]),a=n[s]||{},u=[],Object.keys(a).forEach(function(e){if(D(e))u.push(s);else{var t=function(e,t){switch(e){case"$eq":return{key:t};case"$lte":return{endkey:t};case"$gte":return{startkey:t};case"$lt":return{endkey:t,inclusive_end:!1};case"$gt":return{startkey:t,inclusive_start:!1}}}(e,a[e]);o=o?x([o,t]):t}}),{queryOpts:o,inMemoryFields:u}):function(e,t){var r,n,i=t.def.fields.map(c.getKey),o=[],s=[],a=[];function u(e){!1!==r&&s.push(T),!1!==n&&a.push(M),o=i.slice(e)}for(var l=0,f=i.length;l<f;l++){var h=e[i[l]];if(!h||!Object.keys(h).length){u(l);break}if(l>0){if(Object.keys(h).some(D)){u(l);break}var p="$gt"in h||"$gte"in h||"$lt"in h||"$lte"in h,d=Object.keys(e[i[l-1]]),v=j(d,["$eq"]),m=j(d,Object.keys(h));if(p&&!v&&!m){u(l);break}}for(var b=Object.keys(h),y=null,g=0;g<b.length;g++){var _=b[g],w=R(_,h[_]);y=y?x([y,w]):w}s.push("startkey"in y?y.startkey:T),a.push("endkey"in y?y.endkey:M),"inclusive_start"in y&&(r=y.inclusive_start),"inclusive_end"in y&&(n=y.inclusive_end)}var k={startkey:s,endkey:a};return void 0!==r&&(k.inclusive_start=r),void 0!==n&&(k.inclusive_end=n),{queryOpts:k,inMemoryFields:o}}(e,t);var r,n,i,o,s,a,u}function $(e,t){var r,n,i,o,s,a=e.selector,u=e.sort,l=(r=a,n=u,o=Object.keys(r),s=n?n.map(c.getKey):[],i=o.length>=s.length?o:s,0===s.length?{fields:i}:{fields:i=i.sort(function(e,t){var r=s.indexOf(e);-1===r&&(r=Number.MAX_VALUE);var n=s.indexOf(t);return-1===n&&(n=Number.MAX_VALUE),r<n?-1:r>n?1:0}),sortOrder:n.map(c.getKey)}),f=l.fields,h=L(a,f,l.sortOrder,t,e.use_index),p=B(a,h);return{queryOpts:p.queryOpts,index:h,inMemoryFields:q(p.inMemoryFields,h,a,f)}}function V(e,t,r){var n,i;return t.selector&&(t.selector=c.massageSelector(t.selector)),t.sort&&(t.sort=function(e){if(!Array.isArray(e))throw new Error("invalid sort json - should be an array");return e.map(function(e){if("string"==typeof e){var t={};return t[e]="asc",t}return e})}(t.sort)),t.use_index&&(t.use_index=(n=t.use_index,i=[],"string"==typeof n?i.push(n):i=n,i.map(function(e){return e.replace("_design/","")}))),function(e){if("object"!=typeof e.selector)throw new Error("you must provide a selector when you find()")}(t),A(e).then(function(n){e.constructor.emit("debug",["find","planning query",t]);var i=$(t,n.indexes);e.constructor.emit("debug",["find","query plan",i]);var o=i.index;!function(e,t){if(t.defaultUsed&&e.sort){var r=e.sort.filter(function(e){return"_id"!==Object.keys(e)[0]}).map(function(e){return Object.keys(e)[0]});if(r.length>0)throw new Error('Cannot sort on field(s) "'+r.join(",")+'" when using the default index')}t.defaultUsed}(t,o);var s,l,h=a.assign({include_docs:!0,reduce:!1},i.queryOpts);return"startkey"in h&&"endkey"in h&&f.collate(h.startkey,h.endkey)>0?{docs:[]}:(t.sort&&"string"!=typeof t.sort[0]&&"desc"===c.getValue(t.sort[0])&&(h.descending=!0,s=h,delete(l=a.clone(s)).startkey,delete l.endkey,delete l.inclusive_start,delete l.inclusive_end,"endkey"in s&&(l.startkey=s.endkey),"startkey"in s&&(l.endkey=s.startkey),"inclusive_start"in s&&(l.inclusive_end=s.inclusive_start),"inclusive_end"in s&&(l.inclusive_start=s.inclusive_end),h=l),i.inMemoryFields.length||("limit"in t&&(h.limit=t.limit),"skip"in t&&(h.skip=t.skip)),r?u.resolve(i,h):u.resolve().then(function(){if("_all_docs"===o.name)return r=e,n=h,(i=a.clone(n)).descending?("endkey"in i&&"string"!=typeof i.endkey&&(i.endkey=""),"startkey"in i&&"string"!=typeof i.startkey&&(i.limit=0)):("startkey"in i&&"string"!=typeof i.startkey&&(i.startkey=""),"endkey"in i&&"string"!=typeof i.endkey&&(i.limit=0)),"key"in i&&"string"!=typeof i.key&&(i.limit=0),r.allDocs(i).then(function(e){return e.rows=e.rows.filter(function(e){return!/^_design\//.test(e.id)}),e});var t,r,n,i,s=(t=o).ddoc.substring(8)+"/"+t.name;return O.query.call(e,s,h)}).then(function(e){!1===h.inclusive_start&&(e.rows=function(e,t,r){for(var n=r.def.fields,i=0,o=e.length;i<o;i++){var s=C(e[i].doc,r);if(1===n.length)s=s[0];else for(;s.length>t.length;)s.pop();if(Math.abs(f.collate(s,t))>0)break}return i>0?e.slice(i):e}(e.rows,h.startkey,o)),i.inMemoryFields.length&&(e.rows=c.filterInMemoryFields(e.rows,t,i.inMemoryFields));var r={docs:e.rows.map(function(e){var r=e.doc;return t.fields?function(e,t){for(var r={},n=0,i=t.length;n<i;n++){var o=c.parseField(t[n]),s=c.getFieldFromDoc(e,o);void 0!==s&&c.setFieldInDoc(r,o,s)}return r}(r,t.fields):r})};return o.defaultUsed&&(r.warning="no matching index found, create an index to optimize query time"),r}))})}var U=_(function(e,t){t=p(t);var r,n=a.clone(t.index);function i(){return r||(r=h.stringMd5(JSON.stringify(t)))}t.index=E(t.index),function(e){var t=e.fields.filter(function(e){return"asc"===c.getValue(e)});if(0!==t.length&&t.length!==e.fields.length)throw new Error("unsupported mixed sorting")}(t.index);var o=t.name||"idx-"+i(),s=t.ddoc||"idx-"+i(),u="_design/"+s,l=!1,f=!1;return e.constructor.emit("debug",["find","creating index",u]),a.upsert(e,u,function(e){return e._rev&&"query"!==e.language&&(l=!0),e.language="query",e.views=e.views||{},!(f=!!e.views[o])&&(e.views[o]={map:{fields:x(t.index.fields)},reduce:"_count",options:{def:n}},e)}).then(function(){if(l)throw new Error('invalid language for ddoc with id "'+u+'" (should be "query")')}).then(function(){var t=s+"/"+o;return O.query.call(e,t,{limit:0,reduce:!1}).then(function(){return{id:u,name:o,result:f?"exists":"created"}})})}),W=_(V),H=_(function(e,t){return V(e,t,!0).then(function(r){return{dbname:e.name,index:r.index,selector:t.selector,range:{start_key:r.queryOpts.startkey,end_key:r.queryOpts.endkey},opts:{use_index:t.use_index||[],bookmark:"nil",limit:t.limit,skip:t.skip,sort:t.sort||{},fields:t.fields,conflicts:!1,r:[49]},limit:t.limit,skip:t.skip||0,fields:t.fields}})}),G=_(A),K=_(function(e,t){if(!t.ddoc)throw new Error("you must supply an index.ddoc when deleting");if(!t.name)throw new Error("you must supply an index.name when deleting");var r=t.ddoc,n=t.name;return a.upsert(e,r,function(e){return 1===Object.keys(e.views).length&&e.views[n]?{_id:r,_deleted:!0}:(delete e.views[n],e)}).then(function(){return O.viewCleanup.apply(e)}).then(function(){return{ok:!0}})}),Y={};Y.createIndex=a.toPromise(function(e,t){if("object"!=typeof e)return t(new Error("you must provide an index to create"));(a.isRemote(this)?d:U)(this,e,t)}),Y.find=a.toPromise(function(e,t){if(void 0===t&&(t=e,e=void 0),"object"!=typeof e)return t(new Error("you must provide search parameters to find()"));(a.isRemote(this)?v:W)(this,e,t)}),Y.explain=a.toPromise(function(e,t){if(void 0===t&&(t=e,e=void 0),"object"!=typeof e)return t(new Error("you must provide search parameters to explain()"));(a.isRemote(this)?m:H)(this,e,t)}),Y.getIndexes=a.toPromise(function(e){(a.isRemote(this)?b:G)(this,e)}),Y.deleteIndex=a.toPromise(function(e,t){if("object"!=typeof e)return t(new Error("you must provide an index to delete"));(a.isRemote(this)?y:K)(this,e,t)}),r.exports=Y}),e.entry="lib/index.js"}),e.pkg("pouchdb-utils",{},function(e){return e.file("lib/index-browser.js",function(e,t,r,n,i){"use strict";function o(e){return e&&"object"==typeof e&&"default"in e?e.default:e}Object.defineProperty(e,"__esModule",{value:!0});var s=o(t("uuid")),a=o(t("pouchdb-promise")),u=o(t("argsarray")),c=t("pouchdb-collections"),l=t("events"),f=o(t("inherits")),h=o(t("immediate")),p=t("pouchdb-errors");function d(e){if(e instanceof ArrayBuffer)return function(e){if("function"==typeof e.slice)return e.slice(0);var t=new ArrayBuffer(e.byteLength),r=new Uint8Array(t),n=new Uint8Array(e);return r.set(n),t}(e);var t=e.size,r=e.type;return"function"==typeof e.slice?e.slice(0,t,r):e.webkitSlice(0,t,r)}var v=Function.prototype.toString,m=v.call(Object);function b(e){var t,r,n,i;if(!e||"object"!=typeof e)return e;if(Array.isArray(e)){for(t=[],r=0,n=e.length;r<n;r++)t[r]=b(e[r]);return t}if(e instanceof Date)return e.toISOString();if(i=e,"undefined"!=typeof ArrayBuffer&&i instanceof ArrayBuffer||"undefined"!=typeof Blob&&i instanceof Blob)return d(e);if(!function(e){var t=Object.getPrototypeOf(e);if(null===t)return!0;var r=t.constructor;return"function"==typeof r&&r instanceof r&&v.call(r)==m}(e))return e;t={};for(r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var o=b(e[r]);void 0!==o&&(t[r]=o)}return t}function y(e){var t=!1;return u(function(r){if(t)throw new Error("once called more than once");t=!0,e.apply(this,r)})}function g(e){return u(function(t){var r=this,n="function"==typeof(t=b(t))[t.length-1]&&t.pop(),i=new a(function(n,i){var o;try{var s=y(function(e,t){e?i(e):n(t)});t.push(s),(o=e.apply(r,t))&&"function"==typeof o.then&&n(o)}catch(e){i(e)}});return n&&i.then(function(e){n(null,e)},n),i})}function _(e,t){for(var r={},n=0,i=t.length;n<i;n++){var o=t[n];o in e&&(r[o]=e[o])}return r}var w,x=6;function k(e){return e}function j(e){return[{ok:e}]}function S(){return"undefined"!=typeof chrome&&void 0!==chrome.storage&&void 0!==chrome.storage.local}if(S())w=!1;else try{localStorage.setItem("_pouch_check_localstorage",1),w=!!localStorage.getItem("_pouch_check_localstorage")}catch(e){w=!1}function O(){return w}function E(){var e;l.EventEmitter.call(this),this._listeners={},e=this,S()?chrome.storage.onChanged.addListener(function(t){null!=t.db_name&&e.emit(t.dbName.newValue)}):O()&&("undefined"!=typeof addEventListener?addEventListener("storage",function(t){e.emit(t.key)}):window.attachEvent("storage",function(t){e.emit(t.key)}))}function C(e){if("undefined"!=typeof console&&"function"==typeof console[e]){var t=Array.prototype.slice.call(arguments,1);console[e].apply(console,t)}}f(E,l.EventEmitter),E.prototype.addListener=function(e,t,r,n){if(!this._listeners[t]){var i=this,o=!1;this._listeners[t]=s,this.on(e,s)}function s(){if(i._listeners[t])if(o)o="waiting";else{o=!0;var e=_(n,["style","include_docs","attachments","conflicts","filter","doc_ids","view","since","query_params","binary"]);r.changes(e).on("change",function(e){e.seq>n.since&&!n.cancelled&&(n.since=e.seq,n.onChange(e))}).on("complete",function(){"waiting"===o&&h(s),o=!1}).on("error",function(){o=!1})}}},E.prototype.removeListener=function(e,t){t in this._listeners&&(l.EventEmitter.prototype.removeListener.call(this,e,this._listeners[t]),delete this._listeners[t])},E.prototype.notifyLocalWindows=function(e){S()?chrome.storage.local.set({dbName:e}):O()&&(localStorage[e]="a"===localStorage[e]?"b":"a")},E.prototype.notify=function(e){this.emit(e),this.notifyLocalWindows(e)};var A="function"==typeof Object.assign?Object.assign:function(e){for(var t=Object(e),r=1;r<arguments.length;r++){var n=arguments[r];if(null!=n)for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t};var T=function(){}.name?function(e){return e.name}:function(e){return e.toString().match(/^\s*function\s*(\S*)\s*\(/)[1]};function M(e){if(!e)return null;var t=e.split("/");return 2===t.length?t:1===t.length?[e,e]:null}var I=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],N="queryKey",q=/(?:^|&)([^&=]*)=?([^&]*)/g,F=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/;function P(e,t,r){return new a(function(n,i){e.get(t,function(o,s){if(o){if(404!==o.status)return i(o);s={}}var a,u,c,l=s._rev,f=r(s);if(!f)return n({updated:!1,rev:l});f._id=t,f._rev=l,n((u=f,c=r,(a=e).put(u).then(function(e){return{updated:!0,rev:e.rev}},function(e){if(409!==e.status)throw e;return P(a,u._id,c)})))})})}var D=s.v4;e.adapterFun=function(e,t){return g(u(function(r){if(this._closed)return a.reject(new Error("database is closed"));if(this._destroyed)return a.reject(new Error("database is destroyed"));var n=this;return function(e,t,r){if(e.constructor.listeners("debug").length){for(var n=["api",e.name,t],i=0;i<r.length-1;i++)n.push(r[i]);e.constructor.emit("debug",n);var o=r[r.length-1];r[r.length-1]=function(r,n){var i=["api",e.name,t];i=i.concat(r?["error",r]:["success",n]),e.constructor.emit("debug",i),o(r,n)}}}(n,e,r),this.taskqueue.isReady?t.apply(this,r):new a(function(t,i){n.taskqueue.addTask(function(o){o?i(o):t(n[e].apply(n,r))})})}))},e.assign=A,e.bulkGetShim=function(e,t,r){var n=t.docs,i=new c.Map;n.forEach(function(e){i.has(e.id)?i.get(e.id).push(e):i.set(e.id,[e])});var o=i.size,s=0,a=new Array(o);function u(){var e;++s===o&&(e=[],a.forEach(function(t){t.docs.forEach(function(r){e.push({id:t.id,docs:[r]})})}),r(null,{results:e}))}var l=[];i.forEach(function(e,t){l.push(t)});var f=0;function h(){if(!(f>=l.length)){var r,n=Math.min(f+x,l.length),o=l.slice(f,n);r=f,o.forEach(function(n,o){var s=r+o,c=i.get(n),l=_(c[0],["atts_since","attachments"]);l.open_revs=c.map(function(e){return e.rev}),l.open_revs=l.open_revs.filter(k);var f=k;0===l.open_revs.length&&(delete l.open_revs,f=j),["revs","attachments","binary","ajax","latest"].forEach(function(e){e in t&&(l[e]=t[e])}),e.get(n,l,function(e,t){var r,i,o;r=e?[{error:e}]:f(t),i=n,o=r,a[s]={id:i,docs:o},u(),h()})}),f+=o.length}}h()},e.changesHandler=E,e.clone=b,e.defaultBackOff=function(e){var t,r,n=0;return e||(n=2e3),t=e,r=n,t=parseInt(t,10)||0,(r=parseInt(r,10))!=r||r<=t?r=(t||1)<<1:r+=1,r>6e5&&(t=3e5,r=6e5),~~((r-t)*Math.random()+t)},e.explainError=function(e,t){C("info","The above "+e+" is totally normal. "+t)},e.filterChange=function(e){var t={},r=e.filter&&"function"==typeof e.filter;return t.query=e.query_params,function(n){n.doc||(n.doc={});var i=r&&function(e,t,r){try{return!e(t,r)}catch(e){var n="Filter function threw: "+e.toString();return p.createError(p.BAD_REQUEST,n)}}(e.filter,n.doc,t);if("object"==typeof i)return i;if(i)return!1;if(e.include_docs){if(!e.attachments)for(var o in n.doc._attachments)n.doc._attachments.hasOwnProperty(o)&&(n.doc._attachments[o].stub=!0)}else delete n.doc;return!0}},e.flatten=function(e){for(var t=[],r=0,n=e.length;r<n;r++)t=t.concat(e[r]);return t},e.functionName=T,e.guardedConsole=C,e.hasLocalStorage=O,e.invalidIdError=function(e){var t;if(e?"string"!=typeof e?t=p.createError(p.INVALID_ID):/^_/.test(e)&&!/^_(design|local)/.test(e)&&(t=p.createError(p.RESERVED_ID)):t=p.createError(p.MISSING_ID),t)throw t},e.isChromeApp=S,e.isCordova=function(){return"undefined"!=typeof cordova||"undefined"!=typeof PhoneGap||"undefined"!=typeof phonegap},e.isRemote=function(e){return"boolean"==typeof e._remote?e._remote:"function"==typeof e.type&&(C("warn","db.type() is deprecated and will be removed in a future version of PouchDB"),"http"===e.type())},e.listenerCount=function(e,t){return"listenerCount"in e?e.listenerCount(t):l.EventEmitter.listenerCount(e,t)},e.nextTick=h,e.normalizeDdocFunctionName=function(e){var t=M(e);return t?t.join("/"):null},e.once=y,e.parseDdocFunctionName=M,e.parseUri=function(e){for(var t=F.exec(e),r={},n=14;n--;){var i=I[n],o=t[n]||"",s=-1!==["user","password"].indexOf(i);r[i]=s?decodeURIComponent(o):o}return r[N]={},r[I[12]].replace(q,function(e,t,n){t&&(r[N][t]=n)}),r},e.pick=_,e.rev=function(){return s.v4().replace(/-/g,"").toLowerCase()},e.scopeEval=function(e,t){var r=[],n=[];for(var i in t)t.hasOwnProperty(i)&&(r.push(i),n.push(t[i]));return r.push(e),Function.apply(null,r).apply(null,n)},e.toPromise=g,e.upsert=P,e.uuid=D}),e.entry="lib/index-browser.js"}),e.pkg("uuid",{},function(e){return e.file("index.js",function(e,t,r,n,i){var o=t("./v1"),s=t("./v4"),a=s;a.v1=o,a.v4=s,r.exports=a}),e.file("v1.js",function(e,t,r,n,i){var o=t("~/lib/rng-browser.js"),s=t("./lib/bytesToUuid"),a=o(),u=[1|a[0],a[1],a[2],a[3],a[4],a[5]],c=16383&(a[6]<<8|a[7]),l=0,f=0;r.exports=function(e,t,r){var n=t&&r||0,i=t||[],o=void 0!==(e=e||{}).clockseq?e.clockseq:c,a=void 0!==e.msecs?e.msecs:(new Date).getTime(),h=void 0!==e.nsecs?e.nsecs:f+1,p=a-l+(h-f)/1e4;if(p<0&&void 0===e.clockseq&&(o=o+1&16383),(p<0||a>l)&&void 0===e.nsecs&&(h=0),h>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");l=a,f=h,c=o;var d=(1e4*(268435455&(a+=122192928e5))+h)%4294967296;i[n++]=d>>>24&255,i[n++]=d>>>16&255,i[n++]=d>>>8&255,i[n++]=255&d;var v=a/4294967296*1e4&268435455;i[n++]=v>>>8&255,i[n++]=255&v,i[n++]=v>>>24&15|16,i[n++]=v>>>16&255,i[n++]=o>>>8|128,i[n++]=255&o;for(var m=e.node||u,b=0;b<6;++b)i[n+b]=m[b];return t||s(i)}}),e.file("lib/rng-browser.js",function(e,t,r,n,i){var o,s=global.crypto||global.msCrypto;if(s&&s.getRandomValues){var a=new Uint8Array(16);o=function(){return s.getRandomValues(a),a}}if(!o){var u=new Array(16);o=function(){for(var e,t=0;t<16;t++)0==(3&t)&&(e=4294967296*Math.random()),u[t]=e>>>((3&t)<<3)&255;return u}}r.exports=o}),e.file("lib/bytesToUuid.js",function(e,t,r,n,i){for(var o=[],s=0;s<256;++s)o[s]=(s+256).toString(16).substr(1);r.exports=function(e,t){var r=t||0,n=o;return n[e[r++]]+n[e[r++]]+n[e[r++]]+n[e[r++]]+"-"+n[e[r++]]+n[e[r++]]+"-"+n[e[r++]]+n[e[r++]]+"-"+n[e[r++]]+n[e[r++]]+"-"+n[e[r++]]+n[e[r++]]+n[e[r++]]+n[e[r++]]+n[e[r++]]+n[e[r++]]}}),e.file("v4.js",function(e,t,r,n,i){var o=t("~/lib/rng-browser.js"),s=t("./lib/bytesToUuid");r.exports=function(e,t,r){var n=t&&r||0;"string"==typeof e&&(t="binary"==e?new Array(16):null,e=null);var i=(e=e||{}).random||(e.rng||o)();if(i[6]=15&i[6]|64,i[8]=63&i[8]|128,t)for(var a=0;a<16;++a)t[n+a]=i[a];return t||s(i)}}),e.entry="index.js"}),e.pkg("pouchdb-promise",{},function(e){return e.file("lib/index.js",function(e,t,r,n,i){"use strict";var o,s=(o=t("lie"))&&"object"==typeof o&&"default"in o?o.default:o,a="function"==typeof Promise?Promise:s;r.exports=a}),e.entry="lib/index.js"}),e.pkg("pouchdb-collections",{},function(e){return e.file("lib/index.js",function(e,t,r,n,i){"use strict";function o(e){return"$"+e}function s(){this._store={}}function a(e){if(this._store=new s,e&&Array.isArray(e))for(var t=0,r=e.length;t<r;t++)this.add(e[t])}Object.defineProperty(e,"__esModule",{value:!0}),s.prototype.get=function(e){var t=o(e);return this._store[t]},s.prototype.set=function(e,t){var r=o(e);return this._store[r]=t,!0},s.prototype.has=function(e){return o(e)in this._store},s.prototype.delete=function(e){var t=o(e),r=t in this._store;return delete this._store[t],r},s.prototype.forEach=function(e){for(var t=Object.keys(this._store),r=0,n=t.length;r<n;r++){var i=t[r];e(this._store[i],i=i.substring(1))}},Object.defineProperty(s.prototype,"size",{get:function(){return Object.keys(this._store).length}}),a.prototype.add=function(e){return this._store.set(e,!0)},a.prototype.has=function(e){return this._store.has(e)},a.prototype.forEach=function(e){this._store.forEach(function(t,r){e(r)})},Object.defineProperty(a.prototype,"size",{get:function(){return this._store.size}}),!function(){if("undefined"==typeof Symbol||"undefined"==typeof Map||"undefined"==typeof Set)return!1;var e=Object.getOwnPropertyDescriptor(Map,Symbol.species);return e&&"get"in e&&Map[Symbol.species]===Map}()?(e.Set=a,e.Map=s):(e.Set=Set,e.Map=Map)}),e.entry="lib/index.js"}),e.pkg("pouchdb-errors",{},function(e){return e.file("lib/index.js",function(e,t,r,n,i){"use strict";var o;function s(e,t,r){Error.call(this,r),this.status=e,this.name=t,this.message=r,this.error=!0}Object.defineProperty(e,"__esModule",{value:!0}),((o=t("inherits"))&&"object"==typeof o&&"default"in o?o.default:o)(s,Error),s.prototype.toString=function(){return JSON.stringify({status:this.status,name:this.name,message:this.message,reason:this.reason})};var a=new s(401,"unauthorized","Name or password is incorrect."),u=new s(400,"bad_request","Missing JSON list of 'docs'"),c=new s(404,"not_found","missing"),l=new s(409,"conflict","Document update conflict"),f=new s(400,"bad_request","_id field must contain a string"),h=new s(412,"missing_id","_id is required for puts"),p=new s(400,"bad_request","Only reserved document ids may start with underscore."),d=new s(412,"precondition_failed","Database not open"),v=new s(500,"unknown_error","Database encountered an unknown error"),m=new s(500,"badarg","Some query argument is invalid"),b=new s(400,"invalid_request","Request was invalid"),y=new s(400,"query_parse_error","Some query parameter is invalid"),g=new s(500,"doc_validation","Bad special document member"),_=new s(400,"bad_request","Something wrong with the request"),w=new s(400,"bad_request","Document must be a JSON object"),x=new s(404,"not_found","Database not found"),k=new s(500,"indexed_db_went_bad","unknown"),j=new s(500,"web_sql_went_bad","unknown"),S=new s(500,"levelDB_went_went_bad","unknown"),O=new s(403,"forbidden","Forbidden by design doc validate_doc_update function"),E=new s(400,"bad_request","Invalid rev format"),C=new s(412,"file_exists","The database could not be created, the file already exists."),A=new s(412,"missing_stub","A pre-existing attachment stub wasn't found"),T=new s(413,"invalid_url","Provided URL is invalid");e.UNAUTHORIZED=a,e.MISSING_BULK_DOCS=u,e.MISSING_DOC=c,e.REV_CONFLICT=l,e.INVALID_ID=f,e.MISSING_ID=h,e.RESERVED_ID=p,e.NOT_OPEN=d,e.UNKNOWN_ERROR=v,e.BAD_ARG=m,e.INVALID_REQUEST=b,e.QUERY_PARSE_ERROR=y,e.DOC_VALIDATION=g,e.BAD_REQUEST=_,e.NOT_AN_OBJECT=w,e.DB_MISSING=x,e.WSQ_ERROR=j,e.LDB_ERROR=S,e.FORBIDDEN=O,e.INVALID_REV=E,e.FILE_EXISTS=C,e.MISSING_STUB=A,e.IDB_ERROR=k,e.INVALID_URL=T,e.createError=function(e,t){function r(t){for(var r in e)"function"!=typeof e[r]&&(this[r]=e[r]);void 0!==t&&(this.reason=t)}return r.prototype=s.prototype,new r(t)},e.generateErrorFromResponse=function(e){if("object"!=typeof e){var t=e;(e=v).data=t}return"error"in e&&"conflict"===e.error&&(e.name="conflict",e.status=409),"name"in e||(e.name=e.error||"unknown"),"status"in e||(e.status=500),"message"in e||(e.message=e.message||e.reason),e}}),e.entry="lib/index.js"}),e.pkg("pouchdb-selector-core",{},function(e){return e.file("lib/index.js",function(e,t,r,n,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=t("pouchdb-utils"),s=t("pouchdb-collate");function a(e,t){for(var r=e,n=0,i=t.length;n<i;n++){if(!(r=r[t[n]]))break}return r}function u(e,t){return e<t?-1:e>t?1:0}function c(e){for(var t=[],r="",n=0,i=e.length;n<i;n++){var o=e[n];"."===o?n>0&&"\\"===e[n-1]?r=r.substring(0,r.length-1)+".":(t.push(r),r=""):r+=o}return t.push(r),t}var l=["$or","$nor","$not"];function f(e){return l.indexOf(e)>-1}function h(e){return Object.keys(e)[0]}function p(e){return e[h(e)]}function d(e){var t={};return e.forEach(function(e){Object.keys(e).forEach(function(r){var n=e[r];if("object"!=typeof n&&(n={$eq:n}),f(r))n instanceof Array?t[r]=n.map(function(e){return d([e])}):t[r]=d([n]);else{var i=t[r]=t[r]||{};Object.keys(n).forEach(function(e){var t,r,o,s,a=n[e];return"$gt"===e||"$gte"===e?function(e,t,r){if(void 0!==r.$eq)return;void 0!==r.$gte?"$gte"===e?t>r.$gte&&(r.$gte=t):t>=r.$gte&&(delete r.$gte,r.$gt=t):void 0!==r.$gt?"$gte"===e?t>r.$gt&&(delete r.$gt,r.$gte=t):t>r.$gt&&(r.$gt=t):r[e]=t}(e,a,i):"$lt"===e||"$lte"===e?function(e,t,r){if(void 0!==r.$eq)return;void 0!==r.$lte?"$lte"===e?t<r.$lte&&(r.$lte=t):t<=r.$lte&&(delete r.$lte,r.$lt=t):void 0!==r.$lt?"$lte"===e?t<r.$lt&&(delete r.$lt,r.$lte=t):t<r.$lt&&(r.$lt=t):r[e]=t}(e,a,i):"$ne"===e?(o=a,void("$ne"in(s=i)?s.$ne.push(o):s.$ne=[o])):"$eq"===e?(t=a,delete(r=i).$gt,delete r.$gte,delete r.$lt,delete r.$lte,delete r.$ne,void(r.$eq=t)):void(i[e]=a)})}})}),t}function v(e){var t=o.clone(e),r=!1;"$and"in t&&(t=d(t.$and),r=!0),["$or","$nor"].forEach(function(e){e in t&&t[e].forEach(function(e){for(var t=Object.keys(e),r=0;r<t.length;r++){var n=t[r],i=e[n];"object"==typeof i&&null!==i||(e[n]={$eq:i})}})}),"$not"in t&&(t.$not=d([t.$not]));for(var n=Object.keys(t),i=0;i<n.length;i++){var s=n[i],a=t[s];"object"!=typeof a||null===a?a={$eq:a}:"$ne"in a&&!r&&(a.$ne=[a.$ne]),t[s]=a}return t}function m(e){function t(t){return e.map(function(e){var r=c(h(e));return a(t,r)})}return function(e,r){var n=t(e.doc),i=t(r.doc),o=s.collate(n,i);return 0!==o?o:u(e.doc._id,r.doc._id)}}function b(e,t,r){if(e=e.filter(function(e){return y(e.doc,t.selector,r)}),t.sort){var n=m(t.sort);e=e.sort(n),"string"!=typeof t.sort[0]&&"desc"===p(t.sort[0])&&(e=e.reverse())}if("limit"in t||"skip"in t){var i=t.skip||0,o=("limit"in t?t.limit:e.length)+i;e=e.slice(i,o)}return e}function y(e,t,r){return r.every(function(r){var n=t[r],i=c(r),o=a(e,i);return f(r)?function(e,t,r){if("$or"===e)return t.some(function(e){return y(r,e,Object.keys(e))});if("$not"===e)return!y(r,t,Object.keys(t));return!t.find(function(e){return y(r,e,Object.keys(e))})}(r,n,e):g(n,e,i,o)})}function g(e,t,r,n){return!e||Object.keys(e).every(function(i){var o=e[i];return function(e,t,r,n,i){if(!k[e])throw new Error('unknown operator "'+e+'" - should be one of $eq, $lte, $lt, $gt, $gte, $exists, $ne, $in, $nin, $size, $mod, $regex, $elemMatch, $type, $allMatch or $all');return k[e](t,r,n,i)}(i,t,o,r,n)})}function _(e){return void 0!==e&&null!==e}function w(e){return void 0!==e}function x(e,t){return t.some(function(t){return e instanceof Array?e.indexOf(t)>-1:e===t})}var k={$elemMatch:function(e,t,r,n){return!!Array.isArray(n)&&(0!==n.length&&("object"==typeof n[0]?n.some(function(e){return y(e,t,Object.keys(t))}):n.some(function(n){return g(t,e,r,n)})))},$allMatch:function(e,t,r,n){return!!Array.isArray(n)&&(0!==n.length&&("object"==typeof n[0]?n.every(function(e){return y(e,t,Object.keys(t))}):n.every(function(n){return g(t,e,r,n)})))},$eq:function(e,t,r,n){return w(n)&&0===s.collate(n,t)},$gte:function(e,t,r,n){return w(n)&&s.collate(n,t)>=0},$gt:function(e,t,r,n){return w(n)&&s.collate(n,t)>0},$lte:function(e,t,r,n){return w(n)&&s.collate(n,t)<=0},$lt:function(e,t,r,n){return w(n)&&s.collate(n,t)<0},$exists:function(e,t,r,n){return t?w(n):!w(n)},$mod:function(e,t,r,n){return _(n)&&function(e,t){var r=t[0],n=t[1];if(0===r)throw new Error("Bad divisor, cannot divide by zero");if(parseInt(r,10)!==r)throw new Error("Divisor is not an integer");if(parseInt(n,10)!==n)throw new Error("Modulus is not an integer");return parseInt(e,10)===e&&e%r===n}(n,t)},$ne:function(e,t,r,n){return t.every(function(e){return 0!==s.collate(n,e)})},$in:function(e,t,r,n){return _(n)&&x(n,t)},$nin:function(e,t,r,n){return _(n)&&!x(n,t)},$size:function(e,t,r,n){return _(n)&&(i=t,n.length===i);var i},$all:function(e,t,r,n){return Array.isArray(n)&&(i=n,t.every(function(e){return i.indexOf(e)>-1}));var i},$regex:function(e,t,r,n){return _(n)&&(i=n,new RegExp(t).test(i));var i},$type:function(e,t,r,n){return function(e,t){switch(t){case"null":return null===e;case"boolean":return"boolean"==typeof e;case"number":return"number"==typeof e;case"string":return"string"==typeof e;case"array":return e instanceof Array;case"object":return"[object Object]"==={}.toString.call(e)}throw new Error(t+" not supported as a type.Please use one of object, string, array, number, boolean or null.")}(n,t)}};e.massageSelector=v,e.matchesSelector=function(e,t){if("object"!=typeof t)throw new Error("Selector error: expected a JSON object");var r=b([{doc:e}],{selector:t=v(t)},Object.keys(t));return r&&1===r.length},e.filterInMemoryFields=b,e.createFieldSorter=m,e.rowFilter=y,e.isCombinationalField=f,e.getKey=h,e.getValue=p,e.getFieldFromDoc=a,e.setFieldInDoc=function(e,t,r){for(var n=0,i=t.length;n<i-1;n++)e=e[t[n]]={};e[t[i-1]]=r},e.compare=u,e.parseField=c}),e.entry="lib/index.js"}),e.pkg("pouchdb-collate",{},function(e){return e.file("lib/index.js",function(e,t,r,n,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=-324,s=3,a="";function u(e,t){if(e===t)return 0;e=c(e),t=c(t);var r,n,i=d(e),o=d(t);if(i-o!=0)return i-o;switch(typeof e){case"number":return e-t;case"boolean":return e<t?-1:1;case"string":return(r=e)===(n=t)?0:r>n?1:-1}return Array.isArray(e)?function(e,t){for(var r=Math.min(e.length,t.length),n=0;n<r;n++){var i=u(e[n],t[n]);if(0!==i)return i}return e.length===t.length?0:e.length>t.length?1:-1}(e,t):function(e,t){for(var r=Object.keys(e),n=Object.keys(t),i=Math.min(r.length,n.length),o=0;o<i;o++){var s=u(r[o],n[o]);if(0!==s)return s;if(0!==(s=u(e[r[o]],t[n[o]])))return s}return r.length===n.length?0:r.length>n.length?1:-1}(e,t)}function c(e){switch(typeof e){case"undefined":return null;case"number":return e===1/0||e===-1/0||isNaN(e)?null:e;case"object":var t=e;if(Array.isArray(e)){var r=e.length;e=new Array(r);for(var n=0;n<r;n++)e[n]=c(t[n])}else{if(e instanceof Date)return e.toJSON();if(null!==e){e={};for(var i in t)if(t.hasOwnProperty(i)){var o=t[i];void 0!==o&&(e[i]=c(o))}}}}return e}function l(e){if(null!==e)switch(typeof e){case"boolean":return e?1:0;case"number":return function(e){if(0===e)return"1";var t=e.toExponential().split(/e\+?/),r=parseInt(t[1],10),n=e<0,i=n?"0":"2",u=(c=((n?-r:r)-o).toString(),l="0",f=s,function(e,t,r){for(var n="",i=r-e.length;n.length<i;)n+=t;return n}(c,l,f)+c);var c,l,f;i+=a+u;var h=Math.abs(parseFloat(t[0]));n&&(h=10-h);var p=h.toFixed(20);return p=p.replace(/\.?0+$/,""),i+=a+p}(e);case"string":return e.replace(/\u0002/g,"").replace(/\u0001/g,"").replace(/\u0000/g,"");case"object":var t=Array.isArray(e),r=t?e:Object.keys(e),n=-1,i=r.length,u="";if(t)for(;++n<i;)u+=f(r[n]);else for(;++n<i;){var c=r[n];u+=f(c)+f(e[c])}return u}return""}function f(e){return d(e=c(e))+a+l(e)+"\0"}function h(e,t){var r,n=t;if("1"===e[t])r=0,t++;else{var i="0"===e[t];t++;var a="",u=e.substring(t,t+s),c=parseInt(u,10)+o;for(i&&(c=-c),t+=s;;){var l=e[t];if("\0"===l)break;a+=l,t++}r=1===(a=a.split(".")).length?parseInt(a,10):parseFloat(a[0]+"."+a[1]),i&&(r-=10),0!==c&&(r=parseFloat(r+"e"+c))}return{num:r,length:t-n}}function p(e,t){var r=e.pop();if(t.length){var n=t[t.length-1];r===n.element&&(t.pop(),n=t[t.length-1]);var i=n.element,o=n.index;if(Array.isArray(i))i.push(r);else if(o===e.length-2){i[e.pop()]=r}else e.push(r)}}function d(e){var t=["boolean","number","string","object"].indexOf(typeof e);return~t?null===e?1:Array.isArray(e)?5:t<3?t+2:t+3:Array.isArray(e)?5:void 0}e.collate=u,e.normalizeKey=c,e.toIndexableString=f,e.parseIndexableString=function(e){for(var t=[],r=[],n=0;;){var i=e[n++];if("\0"!==i)switch(i){case"1":t.push(null);break;case"2":t.push("1"===e[n]),n++;break;case"3":var o=h(e,n);t.push(o.num),n+=o.length;break;case"4":for(var s="";;){var a=e[n];if("\0"===a)break;s+=a,n++}s=s.replace(/\u0001\u0001/g,"\0").replace(/\u0001\u0002/g,"").replace(/\u0002\u0002/g,""),t.push(s);break;case"5":var u={element:[],index:t.length};t.push(u.element),r.push(u);break;case"6":var c={element:{},index:t.length};t.push(c.element),r.push(c);break;default:throw new Error("bad collationIndex or unexpectedly reached end of input: "+i)}else{if(1===t.length)return t.pop();p(t,r)}}}}),e.entry="lib/index.js"}),e.pkg("pouchdb-abstract-mapreduce",{},function(e){return e.file("lib/index.js",function(e,t,r,n,i){"use strict";var o,s=(o=t("pouchdb-promise"))&&"object"==typeof o&&"default"in o?o.default:o,a=t("pouchdb-collections"),u=t("pouchdb-utils"),c=t("pouchdb-binary-utils"),l=t("pouchdb-collate"),f=t("pouchdb-md5"),h=t("pouchdb-mapreduce-utils");function p(){this.promise=new s(function(e){e()})}function d(e){if(!e)return"undefined";switch(typeof e){case"function":case"string":return e.toString();default:return JSON.stringify(e)}}function v(e,t,r,n,i,o){var s,a,c=(s=n,d(r)+d(s)+"undefined");if(!i&&(a=e._cachedViews=e._cachedViews||{})[c])return a[c];var l=e.info().then(function(s){var l=s.db_name+"-mrview-"+(i?"temp":f.stringMd5(c));return u.upsert(e,"_local/"+o,function(e){e.views=e.views||{};var r=t;-1===r.indexOf("/")&&(r=t+"/"+t);var n=e.views[r]=e.views[r]||{};if(!n[l])return n[l]=!0,e}).then(function(){return e.registerDependentDatabase(l).then(function(t){var i=t.db;i.auto_compaction=!0;var o={name:l,db:i,sourceDB:e,adapter:e.adapter,mapFun:r,reduceFun:n};return o.db.get("_local/lastSeq").catch(function(e){if(404!==e.status)throw e}).then(function(e){return o.seq=e?e.seq:0,a&&o.db.once("destroyed",function(){delete a[c]}),o})})})});return a&&(a[c]=l),l}p.prototype.add=function(e){return this.promise=this.promise.catch(function(){}).then(function(){return e()}),this.promise},p.prototype.finish=function(){return this.promise};var m={},b=new p,y=50;function g(e){return-1===e.indexOf("/")?[e,e]:e.split("/")}function _(e,t){try{e.emit("error",t)}catch(e){u.guardedConsole("error","The user's map/reduce function threw an uncaught error.\nYou can debug this error by doing:\nmyDatabase.on('error', function (err) { debugger; });\nPlease double-check your map/reduce function."),u.guardedConsole("error",t)}}r.exports=function(e,t,r,n){function i(e,t,r){try{t(r)}catch(t){_(e,t)}}function o(e,t,r,n,i){try{return{output:t(r,n,i)}}catch(t){return _(e,t),{error:t}}}function f(e,t){var r=l.collate(e.key,t.key);return 0!==r?r:l.collate(e.value,t.value)}function d(e){var t=e.value;return t&&"object"==typeof t&&t._id||e.id}function w(e){return function(t){return e.include_docs&&e.attachments&&e.binary&&t.rows.forEach(function(e){var t=e.doc&&e.doc._attachments;t&&Object.keys(t).forEach(function(e){var r=t[e];t[e].data=c.base64StringToBlobOrBuffer(r.data,r.content_type)})}),t}}function x(e,t,r,n){var i=t[e];void 0!==i&&(n&&(i=encodeURIComponent(JSON.stringify(i))),r.push(e+"="+i))}function k(e){if(void 0!==e){var t=Number(e);return isNaN(t)||t!==parseInt(e,10)?e:t}}function j(e,t){var r=e.descending?"endkey":"startkey",n=e.descending?"startkey":"endkey";if(void 0!==e[r]&&void 0!==e[n]&&l.collate(e[r],e[n])>0)throw new h.QueryParseError("No rows can match your key range, reverse your start_key and end_key or set {descending : true}");if(t.reduce&&!1!==e.reduce){if(e.include_docs)throw new h.QueryParseError("{include_docs:true} is invalid for reduce");if(e.keys&&e.keys.length>1&&!e.group&&!e.group_level)throw new h.QueryParseError("Multi-key fetches for reduce views must use {group: true}")}["group_level","limit","skip"].forEach(function(t){var r=function(e){if(e){if("number"!=typeof e)return new h.QueryParseError('Invalid value for integer: "'+e+'"');if(e<0)return new h.QueryParseError('Invalid value for positive integer: "'+e+'"')}}(e[t]);if(r)throw r})}function S(e){return function(t){if(404===t.status)return e;throw t}}function O(e,t,r){var n,i="_local/doc_"+e,o={_id:i,keys:[]},u=r.get(e),c=u[0],l=u[1];return(1===(n=l).length&&/^1-/.test(n[0].rev)?s.resolve(o):t.db.get(i).catch(S(o))).then(function(e){return(r=e,r.keys.length?t.db.allDocs({keys:r.keys,include_docs:!0}):s.resolve({rows:[]})).then(function(t){return function(e,t){for(var r=[],n=new a.Set,i=0,o=t.rows.length;i<o;i++){var s=t.rows[i].doc;if(s&&(r.push(s),n.add(s._id),s._deleted=!c.has(s._id),!s._deleted)){var u=c.get(s._id);"value"in u&&(s.value=u.value)}}var l=h.mapToKeysArray(c);return l.forEach(function(e){if(!n.has(e)){var t={_id:e},i=c.get(e);"value"in i&&(t.value=i.value),r.push(t)}}),e.keys=h.uniq(l.concat(e.keys)),r.push(e),r}(e,t)});var r})}function E(e){var t="string"==typeof e?e:e.name,r=m[t];return r||(r=m[t]=new p),r}function C(e){return h.sequentialize(E(e),function(){return function(e){var r,n,o=t(e.mapFun,function(e,t){var i={id:n._id,key:l.normalizeKey(e)};void 0!==t&&null!==t&&(i.value=l.normalizeKey(t)),r.push(i)}),c=e.seq||0;function d(t,r){return function(){return i=t,o=r,(n=e).db.get("_local/lastSeq").catch(S({_id:"_local/lastSeq",seq:0})).then(function(e){var t=h.mapToKeysArray(i);return s.all(t.map(function(e){return O(e,n,i)})).then(function(t){var r=u.flatten(t);return e.seq=o,r.push(e),n.db.bulkDocs({docs:r})})});var n,i,o}}var v=new p;function m(){return e.sourceDB.changes({conflicts:!0,include_docs:!0,style:"all_docs",since:c,limit:y}).then(b)}function b(t){var s=t.results;if(s.length){var u=function(t){for(var s=new a.Map,u=0,l=t.length;u<l;u++){var h=t[u];if("_"!==h.doc._id[0]){r=[],(n=h.doc)._deleted||i(e.sourceDB,o,n),r.sort(f);var p=g(r);s.set(h.doc._id,[p,h.changes])}c=h.seq}return s}(s);if(v.add(d(u,c)),!(s.length<y))return m()}}function g(e){for(var t,r=new a.Map,n=0,i=e.length;n<i;n++){var o=e[n],s=[o.key,o.id];n>0&&0===l.collate(o.key,t)&&s.push(n),r.set(l.toIndexableString(s),o),t=o.key}return r}return m().then(function(){return v.finish()}).then(function(){e.seq=c})}(e)})()}function A(e,t){return h.sequentialize(E(e),function(){return function(e,t){var n,i=e.reduceFun&&!1!==t.reduce,c=t.skip||0;function f(t){return t.include_docs=!0,e.db.allDocs(t).then(function(e){return n=e.total_rows,e.rows.map(function(e){if("value"in e.doc&&"object"==typeof e.doc.value&&null!==e.doc.value){var t=Object.keys(e.doc.value).sort(),r=["id","key","value"];if(!(t<r||t>r))return e.doc.value}var n=l.parseIndexableString(e.doc._id);return{key:n[0],id:n[1],value:"value"in e.doc?e.doc.value:null}})})}function p(s){var u;if(u=i?function(e,t,n){0===n.group_level&&delete n.group_level;var i,s,a,u=n.group||n.group_level,c=r(e.reduceFun),f=[],p=isNaN(n.group_level)?Number.POSITIVE_INFINITY:n.group_level;t.forEach(function(e){var t=f[f.length-1],r=u?e.key:null;if(u&&Array.isArray(r)&&(r=r.slice(0,p)),t&&0===l.collate(t.groupKey,r))return t.keys.push([e.key,e.id]),void t.values.push(e.value);f.push({keys:[[e.key,e.id]],values:[e.value],groupKey:r})}),t=[];for(var d=0,v=f.length;d<v;d++){var m=f[d],b=o(e.sourceDB,c,m.keys,m.values,!1);if(b.error&&b.error instanceof h.BuiltInError)throw b.error;t.push({value:b.error?null:b.output,key:m.groupKey})}return{rows:(i=t,s=n.limit,a=n.skip,a=a||0,"number"==typeof s?i.slice(a,s+a):a>0?i.slice(a):i)}}(e,s,t):{total_rows:n,offset:c,rows:s},t.update_seq&&(u.update_seq=e.seq),t.include_docs){var f=h.uniq(s.map(d));return e.sourceDB.allDocs({keys:f,include_docs:!0,conflicts:t.conflicts,attachments:t.attachments,binary:t.binary}).then(function(e){var t=new a.Map;return e.rows.forEach(function(e){t.set(e.id,e.doc)}),s.forEach(function(e){var r=d(e),n=t.get(r);n&&(e.doc=n)}),u})}return u}if(void 0===t.keys||t.keys.length||(t.limit=0,delete t.keys),void 0!==t.keys){var v=t.keys,m=v.map(function(e){var r={startkey:l.toIndexableString([e]),endkey:l.toIndexableString([e,{}])};return t.update_seq&&(r.update_seq=!0),f(r)});return s.all(m).then(u.flatten).then(p)}var b,y,g={descending:t.descending};if(t.update_seq&&(g.update_seq=!0),"start_key"in t&&(b=t.start_key),"startkey"in t&&(b=t.startkey),"end_key"in t&&(y=t.end_key),"endkey"in t&&(y=t.endkey),void 0!==b&&(g.startkey=t.descending?l.toIndexableString([b,{}]):l.toIndexableString([b])),void 0!==y){var _=!1!==t.inclusive_end;t.descending&&(_=!_),g.endkey=l.toIndexableString(_?[y,{}]:[y])}if(void 0!==t.key){var w=l.toIndexableString([t.key]),x=l.toIndexableString([t.key,{}]);g.descending?(g.endkey=w,g.startkey=x):(g.startkey=w,g.endkey=x)}return i||("number"==typeof t.limit&&(g.limit=t.limit),g.skip=c),f(g).then(p)}(e,t)})()}function T(t,r,i){if("function"==typeof t._query)return o=t,a=r,c=i,new s(function(e,t){o._query(a,c,function(r,n){if(r)return t(r);e(n)})});var o,a,c;if(u.isRemote(t))return function(e,t,r){var n,i=[],o="GET";if(x("reduce",r,i),x("include_docs",r,i),x("attachments",r,i),x("limit",r,i),x("descending",r,i),x("group",r,i),x("group_level",r,i),x("skip",r,i),x("stale",r,i),x("conflicts",r,i),x("startkey",r,i,!0),x("start_key",r,i,!0),x("endkey",r,i,!0),x("end_key",r,i,!0),x("inclusive_end",r,i),x("key",r,i,!0),x("update_seq",r,i),i=""===(i=i.join("&"))?"":"?"+i,void 0!==r.keys){var s="keys="+encodeURIComponent(JSON.stringify(r.keys));s.length+i.length+1<=2e3?i+=("?"===i[0]?"&":"?")+s:(o="POST","string"==typeof t?n={keys:r.keys}:t.keys=r.keys)}if("string"==typeof t){var a=g(t);return e.request({method:o,url:"_design/"+a[0]+"/_view/"+a[1]+i,body:n}).then(function(e){return e.rows.forEach(function(e){if(e.value&&e.value.error&&"builtin_reduce_error"===e.value.error)throw new Error(e.reason)}),e}).then(w(r))}return n=n||{},Object.keys(t).forEach(function(e){Array.isArray(t[e])?n[e]=t[e]:n[e]=t[e].toString()}),e.request({method:"POST",url:"_temp_view"+i,body:n}).then(w(r))}(t,r,i);if("string"!=typeof r)return j(i,r),b.add(function(){return v(t,"temp_view/temp_view",r.map,r.reduce,!0,e).then(function(e){return h.fin(C(e).then(function(){return A(e,i)}),function(){return e.db.destroy()})})}),b.finish();var l=r,f=g(l),p=f[0],d=f[1];return t.get("_design/"+p).then(function(r){var o=r.views&&r.views[d];if(!o)throw new h.NotFoundError("ddoc "+r._id+" has no view named "+d);return n(r,d),j(i,o),v(t,l,o.map,o.reduce,!1,e).then(function(e){return"ok"===i.stale||"update_after"===i.stale?("update_after"===i.stale&&u.nextTick(function(){C(e)}),A(e,i)):C(e).then(function(){return A(e,i)})})})}return{query:function(e,t,r){var n,i=this;"function"==typeof t&&(r=t,t={}),t=t?((n=t).group_level=k(n.group_level),n.limit=k(n.limit),n.skip=k(n.skip),n):{},"function"==typeof e&&(e={map:e});var o=s.resolve().then(function(){return T(i,e,t)});return h.promisedCallback(o,r),o},viewCleanup:h.callbackify(function(){var t,r;return"function"==typeof this._viewCleanup?(t=this,new s(function(e,r){t._viewCleanup(function(t,n){if(t)return r(t);e(n)})})):u.isRemote(this)?this.request({method:"POST",url:"_view_cleanup"}):(r=this).get("_local/"+e).then(function(e){var t=new a.Map;Object.keys(e.views).forEach(function(e){var r=g(e),n="_design/"+r[0],i=r[1],o=t.get(n);o||(o=new a.Set,t.set(n,o)),o.add(i)});var n={keys:h.mapToKeysArray(t),include_docs:!0};return r.allDocs(n).then(function(n){var i={};n.rows.forEach(function(r){var n=r.key.substring(8);t.get(r.key).forEach(function(t){var o=n+"/"+t;e.views[o]||(o=t);var s=Object.keys(e.views[o]),a=r.doc&&r.doc.views&&r.doc.views[t];s.forEach(function(e){i[e]=i[e]||a})})});var o=Object.keys(i).filter(function(e){return!i[e]}).map(function(e){return h.sequentialize(E(e),function(){return new r.constructor(e,r.__opts).destroy()})()});return s.all(o).then(function(){return{ok:!0}})})},S({ok:!0}))})}}}),e.entry="lib/index.js"}),e.pkg("pouchdb-binary-utils",{},function(e){return e.file("lib/index-browser.js",function(e,t,r,n,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(e){return atob(e)},s=function(e){return btoa(e)};function a(e,t){e=e||[],t=t||{};try{return new Blob(e,t)}catch(i){if("TypeError"!==i.name)throw i;for(var r=new("undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof MSBlobBuilder?MSBlobBuilder:"undefined"!=typeof MozBlobBuilder?MozBlobBuilder:WebKitBlobBuilder),n=0;n<e.length;n+=1)r.append(e[n]);return r.getBlob(t.type)}}function u(e){for(var t=e.length,r=new ArrayBuffer(t),n=new Uint8Array(r),i=0;i<t;i++)n[i]=e.charCodeAt(i);return r}function c(e,t){return a([u(e)],{type:t})}function l(e){for(var t="",r=new Uint8Array(e),n=r.byteLength,i=0;i<n;i++)t+=String.fromCharCode(r[i]);return t}function f(e,t){if("undefined"==typeof FileReader)return t(l((new FileReaderSync).readAsArrayBuffer(e)));var r=new FileReader,n="function"==typeof r.readAsBinaryString;r.onloadend=function(e){var r=e.target.result||"";if(n)return t(r);t(l(r))},n?r.readAsBinaryString(e):r.readAsArrayBuffer(e)}function h(e,t){f(e,function(e){t(e)})}e.atob=o,e.btoa=s,e.base64StringToBlobOrBuffer=function(e,t){return c(o(e),t)},e.binaryStringToArrayBuffer=u,e.binaryStringToBlobOrBuffer=c,e.blob=a,e.blobOrBufferToBase64=function(e,t){h(e,function(e){t(s(e))})},e.blobOrBufferToBinaryString=h,e.readAsArrayBuffer=function(e,t){if("undefined"==typeof FileReader)return t((new FileReaderSync).readAsArrayBuffer(e));var r=new FileReader;r.onloadend=function(e){var r=e.target.result||new ArrayBuffer(0);t(r)},r.readAsArrayBuffer(e)},e.readAsBinaryString=f,e.typedBuffer=function(){}}),e.entry="lib/index-browser.js"}),e.pkg("pouchdb-md5",{},function(e){return e.file("lib/index-browser.js",function(e,t,r,n,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o,s=t("pouchdb-binary-utils"),a=(o=t("spark-md5"))&&"object"==typeof o&&"default"in o?o.default:o,u=global.setImmediate||global.setTimeout,c=32768;function l(e,t,r,n,i){var o,a,u;(r>0||n<t.size)&&(a=r,u=n,t=(o=t).webkitSlice?o.webkitSlice(a,u):o.slice(a,u)),s.readAsArrayBuffer(t,function(t){e.append(t),i()})}function f(e,t,r,n,i){(r>0||n<t.length)&&(t=t.substring(r,n)),e.appendBinary(t),i()}e.binaryMd5=function(e,t){var r="string"==typeof e,n=r?e.length:e.size,i=Math.min(c,n),o=Math.ceil(n/i),h=0,p=r?new a:new a.ArrayBuffer,d=r?f:l;function v(){u(b)}function m(){var e,r=p.end(!0),n=(e=r,s.btoa(e));t(n),p.destroy()}function b(){var t=h*i,r=t+i;d(p,e,t,r,++h<o?v:m)}b()},e.stringMd5=function(e){return a.hash(e)}}),e.entry="lib/index-browser.js"}),e.pkg("pouchdb-mapreduce-utils",{},function(e){return e.file("lib/index.js",function(e,t,r,n,i){"use strict";function o(e){return e&&"object"==typeof e&&"default"in e?e.default:e}Object.defineProperty(e,"__esModule",{value:!0});var s=t("pouchdb-collections"),a=o(t("argsarray")),u=t("pouchdb-utils"),c=o(t("inherits"));function l(e){this.status=400,this.name="query_parse_error",this.message=e,this.error=!0;try{Error.captureStackTrace(this,l)}catch(e){}}function f(e){this.status=404,this.name="not_found",this.message=e,this.error=!0;try{Error.captureStackTrace(this,f)}catch(e){}}function h(e){this.status=500,this.name="invalid_value",this.message=e,this.error=!0;try{Error.captureStackTrace(this,h)}catch(e){}}function p(e,t){return t&&e.then(function(e){u.nextTick(function(){t(null,e)})},function(e){u.nextTick(function(){t(e)})}),e}c(l,Error),c(f,Error),c(h,Error),e.uniq=function(e){var t=new s.Set(e),r=new Array(t.size),n=-1;return t.forEach(function(e){r[++n]=e}),r},e.sequentialize=function(e,t){return function(){var r=arguments,n=this;return e.add(function(){return t.apply(n,r)})}},e.fin=function(e,t){return e.then(function(e){return t().then(function(){return e})},function(e){return t().then(function(){throw e})})},e.callbackify=function(e){return a(function(t){var r=t.pop(),n=e.apply(this,t);return"function"==typeof r&&p(n,r),n})},e.promisedCallback=p,e.mapToKeysArray=function(e){var t=new Array(e.size),r=-1;return e.forEach(function(e,n){t[++r]=n}),t},e.QueryParseError=l,e.NotFoundError=f,e.BuiltInError=h}),e.entry="lib/index.js"}),e.pkg("markdown-it",{},function(e){return e.file("index.js",function(e,t,r,n,i){"use strict";r.exports=t("./lib/")}),e.file("lib/index.js",function(e,t,r,n,i){t("process");var o=t("./common/utils"),s=t("./helpers"),a=t("./renderer"),u=t("./parser_core"),c=t("./parser_block"),l=t("./parser_inline"),f=t("linkify-it"),h=t("mdurl"),p=t("punycode"),d={default:t("./presets/default"),zero:t("./presets/zero"),commonmark:t("./presets/commonmark")},v=/^(vbscript|javascript|file|data):/,m=/^data:image\/(gif|png|jpeg|webp);/;function b(e){var t=e.trim().toLowerCase();return!v.test(t)||!!m.test(t)}var y=["http:","https:","mailto:"];function g(e){var t=h.parse(e,!0);if(t.hostname&&(!t.protocol||y.indexOf(t.protocol)>=0))try{t.hostname=p.toASCII(t.hostname)}catch(e){}return h.encode(h.format(t))}function _(e){var t=h.parse(e,!0);if(t.hostname&&(!t.protocol||y.indexOf(t.protocol)>=0))try{t.hostname=p.toUnicode(t.hostname)}catch(e){}return h.decode(h.format(t))}function w(e,t){if(!(this instanceof w))return new w(e,t);t||o.isString(e)||(t=e||{},e="default"),this.inline=new l,this.block=new c,this.core=new u,this.renderer=new a,this.linkify=new f,this.validateLink=b,this.normalizeLink=g,this.normalizeLinkText=_,this.utils=o,this.helpers=o.assign({},s),this.options={},this.configure(e),t&&this.set(t)}w.prototype.set=function(e){return o.assign(this.options,e),this},w.prototype.configure=function(e){var t,r=this;if(o.isString(e)&&!(e=d[t=e]))throw new Error('Wrong `markdown-it` preset "'+t+'", check name');if(!e)throw new Error("Wrong `markdown-it` preset, can't be empty");return e.options&&r.set(e.options),e.components&&Object.keys(e.components).forEach(function(t){e.components[t].rules&&r[t].ruler.enableOnly(e.components[t].rules),e.components[t].rules2&&r[t].ruler2.enableOnly(e.components[t].rules2)}),this},w.prototype.enable=function(e,t){var r=[];Array.isArray(e)||(e=[e]),["core","block","inline"].forEach(function(t){r=r.concat(this[t].ruler.enable(e,!0))},this),r=r.concat(this.inline.ruler2.enable(e,!0));var n=e.filter(function(e){return r.indexOf(e)<0});if(n.length&&!t)throw new Error("MarkdownIt. Failed to enable unknown rule(s): "+n);return this},w.prototype.disable=function(e,t){var r=[];Array.isArray(e)||(e=[e]),["core","block","inline"].forEach(function(t){r=r.concat(this[t].ruler.disable(e,!0))},this),r=r.concat(this.inline.ruler2.disable(e,!0));var n=e.filter(function(e){return r.indexOf(e)<0});if(n.length&&!t)throw new Error("MarkdownIt. Failed to disable unknown rule(s): "+n);return this},w.prototype.use=function(e){var t=[this].concat(Array.prototype.slice.call(arguments,1));return e.apply(e,t),this},w.prototype.parse=function(e,t){if("string"!=typeof e)throw new Error("Input data should be a String");var r=new this.core.State(e,this,t);return this.core.process(r),r.tokens},w.prototype.render=function(e,t){return t=t||{},this.renderer.render(this.parse(e,t),this.options,t)},w.prototype.parseInline=function(e,t){var r=new this.core.State(e,this,t);return r.inlineMode=!0,this.core.process(r),r.tokens},w.prototype.renderInline=function(e,t){return t=t||{},this.renderer.render(this.parseInline(e,t),this.options,t)},r.exports=w}),e.file("lib/common/utils.js",function(e,t,r,n,i){"use strict";var o=Object.prototype.hasOwnProperty;function s(e,t){return o.call(e,t)}function a(e){return!(e>=55296&&e<=57343)&&(!(e>=64976&&e<=65007)&&(65535!=(65535&e)&&65534!=(65535&e)&&(!(e>=0&&e<=8)&&(11!==e&&(!(e>=14&&e<=31)&&(!(e>=127&&e<=159)&&!(e>1114111)))))))}function u(e){if(e>65535){var t=55296+((e-=65536)>>10),r=56320+(1023&e);return String.fromCharCode(t,r)}return String.fromCharCode(e)}var c=/\\([!"#$%&'()*+,\-.\/:;<=>?@[\\\]^_`{|}~])/g,l=new RegExp(c.source+"|"+/&([a-z#][a-z0-9]{1,31});/gi.source,"gi"),f=/^#((?:x[a-f0-9]{1,8}|[0-9]{1,8}))/i,h=t("./entities");var p=/[&<>"]/,d=/[&<>"]/g,v={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;"};function m(e){return v[e]}var b=/[.?*+^$[\]\\(){}|-]/g;var y=t("uc.micro/categories/P/regex");e.lib={},e.lib.mdurl=t("mdurl"),e.lib.ucmicro=t("uc.micro"),e.assign=function(e){return Array.prototype.slice.call(arguments,1).forEach(function(t){if(t){if("object"!=typeof t)throw new TypeError(t+"must be object");Object.keys(t).forEach(function(r){e[r]=t[r]})}}),e},e.isString=function(e){return"[object String]"===(t=e,Object.prototype.toString.call(t));var t},e.has=s,e.unescapeMd=function(e){return e.indexOf("\\")<0?e:e.replace(c,"$1")},e.unescapeAll=function(e){return e.indexOf("\\")<0&&e.indexOf("&")<0?e:e.replace(l,function(e,t,r){return t||(n=e,o=0,s(h,i=r)?h[i]:35===i.charCodeAt(0)&&f.test(i)&&a(o="x"===i[1].toLowerCase()?parseInt(i.slice(2),16):parseInt(i.slice(1),10))?u(o):n);var n,i,o})},e.isValidEntityCode=a,e.fromCodePoint=u,e.escapeHtml=function(e){return p.test(e)?e.replace(d,m):e},e.arrayReplaceAt=function(e,t,r){return[].concat(e.slice(0,t),r,e.slice(t+1))},e.isSpace=function(e){switch(e){case 9:case 32:return!0}return!1},e.isWhiteSpace=function(e){if(e>=8192&&e<=8202)return!0;switch(e){case 9:case 10:case 11:case 12:case 13:case 32:case 160:case 5760:case 8239:case 8287:case 12288:return!0}return!1},e.isMdAsciiPunct=function(e){switch(e){case 33:case 34:case 35:case 36:case 37:case 38:case 39:case 40:case 41:case 42:case 43:case 44:case 45:case 46:case 47:case 58:case 59:case 60:case 61:case 62:case 63:case 64:case 91:case 92:case 93:case 94:case 95:case 96:case 123:case 124:case 125:case 126:return!0;default:return!1}},e.isPunctChar=function(e){return y.test(e)},e.escapeRE=function(e){return e.replace(b,"\\$&")},e.normalizeReference=function(e){return e.trim().replace(/\s+/g," ").toUpperCase()}}),e.file("lib/common/entities.js",function(e,t,r,n,i){"use strict";r.exports=t("entities/maps/entities.json")}),e.file("lib/helpers/index.js",function(e,t,r,n,i){"use strict";e.parseLinkLabel=t("./parse_link_label"),e.parseLinkDestination=t("./parse_link_destination"),e.parseLinkTitle=t("./parse_link_title")}),e.file("lib/helpers/parse_link_label.js",function(e,t,r,n,i){"use strict";r.exports=function(e,t,r){var n,i,o,s,a=-1,u=e.posMax,c=e.pos;for(e.pos=t+1,n=1;e.pos<u;){if(93===(o=e.src.charCodeAt(e.pos))&&0===--n){i=!0;break}if(s=e.pos,e.md.inline.skipToken(e),91===o)if(s===e.pos-1)n++;else if(r)return e.pos=c,-1}return i&&(a=e.pos),e.pos=c,a}}),e.file("lib/helpers/parse_link_destination.js",function(e,t,r,n,i){"use strict";var o=t("../common/utils").isSpace,s=t("../common/utils").unescapeAll;r.exports=function(e,t,r){var n,i,a=t,u={ok:!1,pos:0,lines:0,str:""};if(60===e.charCodeAt(t)){for(t++;t<r;){if(10===(n=e.charCodeAt(t))||o(n))return u;if(62===n)return u.pos=t+1,u.str=s(e.slice(a+1,t)),u.ok=!0,u;92===n&&t+1<r?t+=2:t++}return u}for(i=0;t<r&&32!==(n=e.charCodeAt(t))&&!(n<32||127===n);)if(92===n&&t+1<r)t+=2;else{if(40===n&&i++,41===n){if(0===i)break;i--}t++}return a===t?u:0!==i?u:(u.str=s(e.slice(a,t)),u.lines=0,u.pos=t,u.ok=!0,u)}}),e.file("lib/helpers/parse_link_title.js",function(e,t,r,n,i){"use strict";var o=t("../common/utils").unescapeAll;r.exports=function(e,t,r){var n,i,s=0,a=t,u={ok:!1,pos:0,lines:0,str:""};if(t>=r)return u;if(34!==(i=e.charCodeAt(t))&&39!==i&&40!==i)return u;for(t++,40===i&&(i=41);t<r;){if((n=e.charCodeAt(t))===i)return u.pos=t+1,u.lines=s,u.str=o(e.slice(a+1,t)),u.ok=!0,u;10===n?s++:92===n&&t+1<r&&(t++,10===e.charCodeAt(t)&&s++),t++}return u}}),e.file("lib/renderer.js",function(e,t,r,n,i){"use strict";var o=t("./common/utils").assign,s=t("./common/utils").unescapeAll,a=t("./common/utils").escapeHtml,u={};function c(){this.rules=o({},u)}u.code_inline=function(e,t,r,n,i){var o=e[t];return"<code"+i.renderAttrs(o)+">"+a(e[t].content)+"</code>"},u.code_block=function(e,t,r,n,i){var o=e[t];return"<pre"+i.renderAttrs(o)+"><code>"+a(e[t].content)+"</code></pre>\n"},u.fence=function(e,t,r,n,i){var o,u,c,l,f=e[t],h=f.info?s(f.info).trim():"",p="";return h&&(p=h.split(/\s+/g)[0]),0===(o=r.highlight?r.highlight(f.content,p)||a(f.content):a(f.content)).indexOf("<pre")?o+"\n":h?(u=f.attrIndex("class"),c=f.attrs?f.attrs.slice():[],u<0?c.push(["class",r.langPrefix+p]):c[u][1]+=" "+r.langPrefix+p,l={attrs:c},"<pre><code"+i.renderAttrs(l)+">"+o+"</code></pre>\n"):"<pre><code"+i.renderAttrs(f)+">"+o+"</code></pre>\n"},u.image=function(e,t,r,n,i){var o=e[t];return o.attrs[o.attrIndex("alt")][1]=i.renderInlineAsText(o.children,r,n),i.renderToken(e,t,r)},u.hardbreak=function(e,t,r){return r.xhtmlOut?"<br />\n":"<br>\n"},u.softbreak=function(e,t,r){return r.breaks?r.xhtmlOut?"<br />\n":"<br>\n":"\n"},u.text=function(e,t){return a(e[t].content)},u.html_block=function(e,t){return e[t].content},u.html_inline=function(e,t){return e[t].content},c.prototype.renderAttrs=function(e){var t,r,n;if(!e.attrs)return"";for(n="",t=0,r=e.attrs.length;t<r;t++)n+=" "+a(e.attrs[t][0])+'="'+a(e.attrs[t][1])+'"';return n},c.prototype.renderToken=function(e,t,r){var n,i="",o=!1,s=e[t];return s.hidden?"":(s.block&&-1!==s.nesting&&t&&e[t-1].hidden&&(i+="\n"),i+=(-1===s.nesting?"</":"<")+s.tag,i+=this.renderAttrs(s),0===s.nesting&&r.xhtmlOut&&(i+=" /"),s.block&&(o=!0,1===s.nesting&&t+1<e.length&&("inline"===(n=e[t+1]).type||n.hidden?o=!1:-1===n.nesting&&n.tag===s.tag&&(o=!1))),i+=o?">\n":">")},c.prototype.renderInline=function(e,t,r){for(var n,i="",o=this.rules,s=0,a=e.length;s<a;s++)void 0!==o[n=e[s].type]?i+=o[n](e,s,t,r,this):i+=this.renderToken(e,s,t);return i},c.prototype.renderInlineAsText=function(e,t,r){for(var n="",i=0,o=e.length;i<o;i++)"text"===e[i].type?n+=e[i].content:"image"===e[i].type&&(n+=this.renderInlineAsText(e[i].children,t,r));return n},c.prototype.render=function(e,t,r){var n,i,o,s="",a=this.rules;for(n=0,i=e.length;n<i;n++)"inline"===(o=e[n].type)?s+=this.renderInline(e[n].children,t,r):void 0!==a[o]?s+=a[e[n].type](e,n,t,r,this):s+=this.renderToken(e,n,t,r);return s},r.exports=c}),e.file("lib/parser_core.js",function(e,t,r,n,i){t("process");var o=t("./ruler"),s=[["normalize",t("./rules_core/normalize")],["block",t("./rules_core/block")],["inline",t("./rules_core/inline")],["linkify",t("./rules_core/linkify")],["replacements",t("./rules_core/replacements")],["smartquotes",t("./rules_core/smartquotes")]];function a(){this.ruler=new o;for(var e=0;e<s.length;e++)this.ruler.push(s[e][0],s[e][1])}a.prototype.process=function(e){var t,r,n;for(t=0,r=(n=this.ruler.getRules("")).length;t<r;t++)n[t](e)},a.prototype.State=t("./rules_core/state_core"),r.exports=a}),e.file("lib/ruler.js",function(e,t,r,n,i){"use strict";function o(){this.__rules__=[],this.__cache__=null}o.prototype.__find__=function(e){for(var t=0;t<this.__rules__.length;t++)if(this.__rules__[t].name===e)return t;return-1},o.prototype.__compile__=function(){var e=this,t=[""];e.__rules__.forEach(function(e){e.enabled&&e.alt.forEach(function(e){t.indexOf(e)<0&&t.push(e)})}),e.__cache__={},t.forEach(function(t){e.__cache__[t]=[],e.__rules__.forEach(function(r){r.enabled&&(t&&r.alt.indexOf(t)<0||e.__cache__[t].push(r.fn))})})},o.prototype.at=function(e,t,r){var n=this.__find__(e),i=r||{};if(-1===n)throw new Error("Parser rule not found: "+e);this.__rules__[n].fn=t,this.__rules__[n].alt=i.alt||[],this.__cache__=null},o.prototype.before=function(e,t,r,n){var i=this.__find__(e),o=n||{};if(-1===i)throw new Error("Parser rule not found: "+e);this.__rules__.splice(i,0,{name:t,enabled:!0,fn:r,alt:o.alt||[]}),this.__cache__=null},o.prototype.after=function(e,t,r,n){var i=this.__find__(e),o=n||{};if(-1===i)throw new Error("Parser rule not found: "+e);this.__rules__.splice(i+1,0,{name:t,enabled:!0,fn:r,alt:o.alt||[]}),this.__cache__=null},o.prototype.push=function(e,t,r){var n=r||{};this.__rules__.push({name:e,enabled:!0,fn:t,alt:n.alt||[]}),this.__cache__=null},o.prototype.enable=function(e,t){Array.isArray(e)||(e=[e]);var r=[];return e.forEach(function(e){var n=this.__find__(e);if(n<0){if(t)return;throw new Error("Rules manager: invalid rule name "+e)}this.__rules__[n].enabled=!0,r.push(e)},this),this.__cache__=null,r},o.prototype.enableOnly=function(e,t){Array.isArray(e)||(e=[e]),this.__rules__.forEach(function(e){e.enabled=!1}),this.enable(e,t)},o.prototype.disable=function(e,t){Array.isArray(e)||(e=[e]);var r=[];return e.forEach(function(e){var n=this.__find__(e);if(n<0){if(t)return;throw new Error("Rules manager: invalid rule name "+e)}this.__rules__[n].enabled=!1,r.push(e)},this),this.__cache__=null,r},o.prototype.getRules=function(e){return null===this.__cache__&&this.__compile__(),this.__cache__[e]||[]},r.exports=o}),e.file("lib/rules_core/normalize.js",function(e,t,r,n,i){"use strict";var o=/\r[\n\u0085]?|[\u2424\u2028\u0085]/g,s=/\u0000/g;r.exports=function(e){var t;t=(t=e.src.replace(o,"\n")).replace(s,""),e.src=t}}),e.file("lib/rules_core/block.js",function(e,t,r,n,i){"use strict";r.exports=function(e){var t;e.inlineMode?((t=new e.Token("inline","",0)).content=e.src,t.map=[0,1],t.children=[],e.tokens.push(t)):e.md.block.parse(e.src,e.md,e.env,e.tokens)}}),e.file("lib/rules_core/inline.js",function(e,t,r,n,i){"use strict";r.exports=function(e){var t,r,n,i=e.tokens;for(r=0,n=i.length;r<n;r++)"inline"===(t=i[r]).type&&e.md.inline.parse(t.content,e.md,e.env,t.children)}}),e.file("lib/rules_core/linkify.js",function(e,t,r,n,i){"use strict";var o=t("../common/utils").arrayReplaceAt;r.exports=function(e){var t,r,n,i,s,a,u,c,l,f,h,p,d,v,m,b,y,g,_,w=e.tokens;if(e.md.options.linkify)for(r=0,n=w.length;r<n;r++)if("inline"===w[r].type&&e.md.linkify.pretest(w[r].content))for(d=0,t=(i=w[r].children).length-1;t>=0;t--)if("link_close"!==(a=i[t]).type){if("html_inline"===a.type&&(_=a.content,/^<a[>\s]/i.test(_)&&d>0&&d--,g=a.content,/^<\/a\s*>/i.test(g)&&d++),!(d>0)&&"text"===a.type&&e.md.linkify.test(a.content)){for(l=a.content,y=e.md.linkify.match(l),u=[],p=a.level,h=0,c=0;c<y.length;c++)v=y[c].url,m=e.md.normalizeLink(v),e.md.validateLink(m)&&(b=y[c].text,b=y[c].schema?"mailto:"!==y[c].schema||/^mailto:/i.test(b)?e.md.normalizeLinkText(b):e.md.normalizeLinkText("mailto:"+b).replace(/^mailto:/,""):e.md.normalizeLinkText("http://"+b).replace(/^http:\/\//,""),(f=y[c].index)>h&&((s=new e.Token("text","",0)).content=l.slice(h,f),s.level=p,u.push(s)),(s=new e.Token("link_open","a",1)).attrs=[["href",m]],s.level=p++,s.markup="linkify",s.info="auto",u.push(s),(s=new e.Token("text","",0)).content=b,s.level=p,u.push(s),(s=new e.Token("link_close","a",-1)).level=--p,s.markup="linkify",s.info="auto",u.push(s),h=y[c].lastIndex);h<l.length&&((s=new e.Token("text","",0)).content=l.slice(h),s.level=p,u.push(s)),w[r].children=i=o(i,t,u)}}else for(t--;i[t].level!==a.level&&"link_open"!==i[t].type;)t--}}),e.file("lib/rules_core/replacements.js",function(e,t,r,n,i){"use strict";var o=/\+-|\.\.|\?\?\?\?|!!!!|,,|--/,s=/\((c|tm|r|p)\)/i,a=/\((c|tm|r|p)\)/gi,u={c:"",r:"",p:"",tm:""};function c(e,t){return u[t.toLowerCase()]}function l(e){var t,r,n=0;for(t=e.length-1;t>=0;t--)"text"!==(r=e[t]).type||n||(r.content=r.content.replace(a,c)),"link_open"===r.type&&"auto"===r.info&&n--,"link_close"===r.type&&"auto"===r.info&&n++}function f(e){var t,r,n=0;for(t=e.length-1;t>=0;t--)"text"!==(r=e[t]).type||n||o.test(r.content)&&(r.content=r.content.replace(/\+-/g,"").replace(/\.{2,}/g,"").replace(/([?!])/g,"$1..").replace(/([?!]){4,}/g,"$1$1$1").replace(/,{2,}/g,",").replace(/(^|[^-])---([^-]|$)/gm,"$1$2").replace(/(^|\s)--(\s|$)/gm,"$1$2").replace(/(^|[^-\s])--([^-\s]|$)/gm,"$1$2")),"link_open"===r.type&&"auto"===r.info&&n--,"link_close"===r.type&&"auto"===r.info&&n++}r.exports=function(e){var t;if(e.md.options.typographer)for(t=e.tokens.length-1;t>=0;t--)"inline"===e.tokens[t].type&&(s.test(e.tokens[t].content)&&l(e.tokens[t].children),o.test(e.tokens[t].content)&&f(e.tokens[t].children))}}),e.file("lib/rules_core/smartquotes.js",function(e,t,r,n,i){"use strict";var o=t("../common/utils").isWhiteSpace,s=t("../common/utils").isPunctChar,a=t("../common/utils").isMdAsciiPunct,u=/['"]/,c=/['"]/g,l="";function f(e,t,r){return e.substr(0,t)+r+e.substr(t+1)}function h(e,t){var r,n,i,u,h,p,d,v,m,b,y,g,_,w,x,k,j,S,O,E,C;for(O=[],r=0;r<e.length;r++){for(n=e[r],d=e[r].level,j=O.length-1;j>=0&&!(O[j].level<=d);j--);if(O.length=j+1,"text"===n.type){h=0,p=(i=n.content).length;e:for(;h<p&&(c.lastIndex=h,u=c.exec(i));){if(x=k=!0,h=u.index+1,S="'"===u[0],m=32,u.index-1>=0)m=i.charCodeAt(u.index-1);else for(j=r-1;j>=0;j--)if("text"===e[j].type){m=e[j].content.charCodeAt(e[j].content.length-1);break}if(b=32,h<p)b=i.charCodeAt(h);else for(j=r+1;j<e.length;j++)if("text"===e[j].type){b=e[j].content.charCodeAt(0);break}if(y=a(m)||s(String.fromCharCode(m)),g=a(b)||s(String.fromCharCode(b)),_=o(m),(w=o(b))?x=!1:g&&(_||y||(x=!1)),_?k=!1:y&&(w||g||(k=!1)),34===b&&'"'===u[0]&&m>=48&&m<=57&&(k=x=!1),x&&k&&(x=!1,k=g),x||k){if(k)for(j=O.length-1;j>=0&&(v=O[j],!(O[j].level<d));j--)if(v.single===S&&O[j].level===d){v=O[j],S?(E=t.md.options.quotes[2],C=t.md.options.quotes[3]):(E=t.md.options.quotes[0],C=t.md.options.quotes[1]),n.content=f(n.content,u.index,C),e[v.token].content=f(e[v.token].content,v.pos,E),h+=C.length-1,v.token===r&&(h+=E.length-1),p=(i=n.content).length,O.length=j;continue e}x?O.push({token:r,pos:u.index,single:S,level:d}):k&&S&&(n.content=f(n.content,u.index,l))}else S&&(n.content=f(n.content,u.index,l))}}}}r.exports=function(e){var t;if(e.md.options.typographer)for(t=e.tokens.length-1;t>=0;t--)"inline"===e.tokens[t].type&&u.test(e.tokens[t].content)&&h(e.tokens[t].children,e)}}),e.file("lib/rules_core/state_core.js",function(e,t,r,n,i){"use strict";var o=t("../token");function s(e,t,r){this.src=e,this.env=r,this.tokens=[],this.inlineMode=!1,this.md=t}s.prototype.Token=o,r.exports=s}),e.file("lib/token.js",function(e,t,r,n,i){"use strict";function o(e,t,r){this.type=e,this.tag=t,this.attrs=null,this.map=null,this.nesting=r,this.level=0,this.children=null,this.content="",this.markup="",this.info="",this.meta=null,this.block=!1,this.hidden=!1}o.prototype.attrIndex=function(e){var t,r,n;if(!this.attrs)return-1;for(r=0,n=(t=this.attrs).length;r<n;r++)if(t[r][0]===e)return r;return-1},o.prototype.attrPush=function(e){this.attrs?this.attrs.push(e):this.attrs=[e]},o.prototype.attrSet=function(e,t){var r=this.attrIndex(e),n=[e,t];r<0?this.attrPush(n):this.attrs[r]=n},o.prototype.attrGet=function(e){var t=this.attrIndex(e),r=null;return t>=0&&(r=this.attrs[t][1]),r},o.prototype.attrJoin=function(e,t){var r=this.attrIndex(e);r<0?this.attrPush([e,t]):this.attrs[r][1]=this.attrs[r][1]+" "+t},r.exports=o}),e.file("lib/parser_block.js",function(e,t,r,n,i){"use strict";var o=t("./ruler"),s=[["table",t("./rules_block/table"),["paragraph","reference"]],["code",t("./rules_block/code")],["fence",t("./rules_block/fence"),["paragraph","reference","blockquote","list"]],["blockquote",t("./rules_block/blockquote"),["paragraph","reference","blockquote","list"]],["hr",t("./rules_block/hr"),["paragraph","reference","blockquote","list"]],["list",t("./rules_block/list"),["paragraph","reference","blockquote"]],["reference",t("./rules_block/reference")],["heading",t("./rules_block/heading"),["paragraph","reference","blockquote"]],["lheading",t("./rules_block/lheading")],["html_block",t("./rules_block/html_block"),["paragraph","reference","blockquote"]],["paragraph",t("./rules_block/paragraph")]];function a(){this.ruler=new o;for(var e=0;e<s.length;e++)this.ruler.push(s[e][0],s[e][1],{alt:(s[e][2]||[]).slice()})}a.prototype.tokenize=function(e,t,r){for(var n,i=this.ruler.getRules(""),o=i.length,s=t,a=!1,u=e.md.options.maxNesting;s<r&&(e.line=s=e.skipEmptyLines(s),!(s>=r))&&!(e.sCount[s]<e.blkIndent);){if(e.level>=u){e.line=r;break}for(n=0;n<o&&!i[n](e,s,r,!1);n++);e.tight=!a,e.isEmpty(e.line-1)&&(a=!0),(s=e.line)<r&&e.isEmpty(s)&&(a=!0,s++,e.line=s)}},a.prototype.parse=function(e,t,r,n){var i;e&&(i=new this.State(e,t,r,n),this.tokenize(i,i.line,i.lineMax))},a.prototype.State=t("./rules_block/state_block"),r.exports=a}),e.file("lib/rules_block/table.js",function(e,t,r,n,i){"use strict";var o=t("../common/utils").isSpace;function s(e,t){var r=e.bMarks[t]+e.blkIndent,n=e.eMarks[t];return e.src.substr(r,n-r)}function a(e){var t,r=[],n=0,i=e.length,o=0,s=0,a=!1,u=0;for(t=e.charCodeAt(n);n<i;)96===t?a?(a=!1,u=n):o%2==0&&(a=!0,u=n):124!==t||o%2!=0||a||(r.push(e.substring(s,n)),s=n+1),92===t?o++:o=0,++n===i&&a&&(a=!1,n=u+1),t=e.charCodeAt(n);return r.push(e.substring(s)),r}r.exports=function(e,t,r,n){var i,u,c,l,f,h,p,d,v,m,b,y;if(t+2>r)return!1;if(f=t+1,e.sCount[f]<e.blkIndent)return!1;if(e.sCount[f]-e.blkIndent>=4)return!1;if((c=e.bMarks[f]+e.tShift[f])>=e.eMarks[f])return!1;if(124!==(i=e.src.charCodeAt(c++))&&45!==i&&58!==i)return!1;for(;c<e.eMarks[f];){if(124!==(i=e.src.charCodeAt(c))&&45!==i&&58!==i&&!o(i))return!1;c++}for(h=(u=s(e,t+1)).split("|"),v=[],l=0;l<h.length;l++){if(!(m=h[l].trim())){if(0===l||l===h.length-1)continue;return!1}if(!/^:?-+:?$/.test(m))return!1;58===m.charCodeAt(m.length-1)?v.push(58===m.charCodeAt(0)?"center":"right"):58===m.charCodeAt(0)?v.push("left"):v.push("")}if(-1===(u=s(e,t).trim()).indexOf("|"))return!1;if(e.sCount[t]-e.blkIndent>=4)return!1;if((p=(h=a(u.replace(/^\||\|$/g,""))).length)>v.length)return!1;if(n)return!0;for((d=e.push("table_open","table",1)).map=b=[t,0],(d=e.push("thead_open","thead",1)).map=[t,t+1],(d=e.push("tr_open","tr",1)).map=[t,t+1],l=0;l<h.length;l++)(d=e.push("th_open","th",1)).map=[t,t+1],v[l]&&(d.attrs=[["style","text-align:"+v[l]]]),(d=e.push("inline","",0)).content=h[l].trim(),d.map=[t,t+1],d.children=[],d=e.push("th_close","th",-1);for(d=e.push("tr_close","tr",-1),d=e.push("thead_close","thead",-1),(d=e.push("tbody_open","tbody",1)).map=y=[t+2,0],f=t+2;f<r&&!(e.sCount[f]<e.blkIndent)&&-1!==(u=s(e,f).trim()).indexOf("|")&&!(e.sCount[f]-e.blkIndent>=4);f++){for(h=a(u.replace(/^\||\|$/g,"")),d=e.push("tr_open","tr",1),l=0;l<p;l++)d=e.push("td_open","td",1),v[l]&&(d.attrs=[["style","text-align:"+v[l]]]),(d=e.push("inline","",0)).content=h[l]?h[l].trim():"",d.children=[],d=e.push("td_close","td",-1);d=e.push("tr_close","tr",-1)}return d=e.push("tbody_close","tbody",-1),d=e.push("table_close","table",-1),b[1]=y[1]=f,e.line=f,!0}}),e.file("lib/rules_block/code.js",function(e,t,r,n,i){"use strict";r.exports=function(e,t,r){var n,i,o;if(e.sCount[t]-e.blkIndent<4)return!1;for(i=n=t+1;n<r;)if(e.isEmpty(n))n++;else{if(!(e.sCount[n]-e.blkIndent>=4))break;i=++n}return e.line=i,(o=e.push("code_block","code",0)).content=e.getLines(t,i,4+e.blkIndent,!0),o.map=[t,e.line],!0}}),e.file("lib/rules_block/fence.js",function(e,t,r,n,i){"use strict";r.exports=function(e,t,r,n){var i,o,s,a,u,c,l,f=!1,h=e.bMarks[t]+e.tShift[t],p=e.eMarks[t];if(e.sCount[t]-e.blkIndent>=4)return!1;if(h+3>p)return!1;if(126!==(i=e.src.charCodeAt(h))&&96!==i)return!1;if(u=h,(o=(h=e.skipChars(h,i))-u)<3)return!1;if(l=e.src.slice(u,h),(s=e.src.slice(h,p)).indexOf(String.fromCharCode(i))>=0)return!1;if(n)return!0;for(a=t;!(++a>=r)&&!((h=u=e.bMarks[a]+e.tShift[a])<(p=e.eMarks[a])&&e.sCount[a]<e.blkIndent);)if(e.src.charCodeAt(h)===i&&!(e.sCount[a]-e.blkIndent>=4||(h=e.skipChars(h,i))-u<o||(h=e.skipSpaces(h))<p)){f=!0;break}return o=e.sCount[t],e.line=a+(f?1:0),(c=e.push("fence","code",0)).info=s,c.content=e.getLines(t+1,a,o,!0),c.markup=l,c.map=[t,e.line],!0}}),e.file("lib/rules_block/blockquote.js",function(e,t,r,n,i){"use strict";var o=t("../common/utils").isSpace;r.exports=function(e,t,r,n){var i,s,a,u,c,l,f,h,p,d,v,m,b,y,g,_,w,x,k,j,S=e.lineMax,O=e.bMarks[t]+e.tShift[t],E=e.eMarks[t];if(e.sCount[t]-e.blkIndent>=4)return!1;if(62!==e.src.charCodeAt(O++))return!1;if(n)return!0;for(u=p=e.sCount[t]+O-(e.bMarks[t]+e.tShift[t]),32===e.src.charCodeAt(O)?(O++,u++,p++,i=!1,_=!0):9===e.src.charCodeAt(O)?(_=!0,(e.bsCount[t]+p)%4==3?(O++,u++,p++,i=!1):i=!0):_=!1,d=[e.bMarks[t]],e.bMarks[t]=O;O<E&&(s=e.src.charCodeAt(O),o(s));)9===s?p+=4-(p+e.bsCount[t]+(i?1:0))%4:p++,O++;for(v=[e.bsCount[t]],e.bsCount[t]=e.sCount[t]+1+(_?1:0),l=O>=E,y=[e.sCount[t]],e.sCount[t]=p-u,g=[e.tShift[t]],e.tShift[t]=O-e.bMarks[t],x=e.md.block.ruler.getRules("blockquote"),b=e.parentType,e.parentType="blockquote",j=!1,h=t+1;h<r&&(e.sCount[h]<e.blkIndent&&(j=!0),!((O=e.bMarks[h]+e.tShift[h])>=(E=e.eMarks[h])));h++)if(62!==e.src.charCodeAt(O++)||j){if(l)break;for(w=!1,a=0,c=x.length;a<c;a++)if(x[a](e,h,r,!0)){w=!0;break}if(w){e.lineMax=h,0!==e.blkIndent&&(d.push(e.bMarks[h]),v.push(e.bsCount[h]),g.push(e.tShift[h]),y.push(e.sCount[h]),e.sCount[h]-=e.blkIndent);break}d.push(e.bMarks[h]),v.push(e.bsCount[h]),g.push(e.tShift[h]),y.push(e.sCount[h]),e.sCount[h]=-1}else{for(u=p=e.sCount[h]+O-(e.bMarks[h]+e.tShift[h]),32===e.src.charCodeAt(O)?(O++,u++,p++,i=!1,_=!0):9===e.src.charCodeAt(O)?(_=!0,(e.bsCount[h]+p)%4==3?(O++,u++,p++,i=!1):i=!0):_=!1,d.push(e.bMarks[h]),e.bMarks[h]=O;O<E&&(s=e.src.charCodeAt(O),o(s));)9===s?p+=4-(p+e.bsCount[h]+(i?1:0))%4:p++,O++;l=O>=E,v.push(e.bsCount[h]),e.bsCount[h]=e.sCount[h]+1+(_?1:0),y.push(e.sCount[h]),e.sCount[h]=p-u,g.push(e.tShift[h]),e.tShift[h]=O-e.bMarks[h]}for(m=e.blkIndent,e.blkIndent=0,(k=e.push("blockquote_open","blockquote",1)).markup=">",k.map=f=[t,0],e.md.block.tokenize(e,t,h),(k=e.push("blockquote_close","blockquote",-1)).markup=">",e.lineMax=S,e.parentType=b,f[1]=e.line,a=0;a<g.length;a++)e.bMarks[a+t]=d[a],e.tShift[a+t]=g[a],e.sCount[a+t]=y[a],e.bsCount[a+t]=v[a];return e.blkIndent=m,!0}}),e.file("lib/rules_block/hr.js",function(e,t,r,n,i){"use strict";var o=t("../common/utils").isSpace;r.exports=function(e,t,r,n){var i,s,a,u,c=e.bMarks[t]+e.tShift[t],l=e.eMarks[t];if(e.sCount[t]-e.blkIndent>=4)return!1;if(42!==(i=e.src.charCodeAt(c++))&&45!==i&&95!==i)return!1;for(s=1;c<l;){if((a=e.src.charCodeAt(c++))!==i&&!o(a))return!1;a===i&&s++}return!(s<3)&&(!!n||(e.line=t+1,(u=e.push("hr","hr",0)).map=[t,e.line],u.markup=Array(s+1).join(String.fromCharCode(i)),!0))}}),e.file("lib/rules_block/list.js",function(e,t,r,n,i){"use strict";var o=t("../common/utils").isSpace;function s(e,t){var r,n,i,s;return n=e.bMarks[t]+e.tShift[t],i=e.eMarks[t],42!==(r=e.src.charCodeAt(n++))&&45!==r&&43!==r?-1:n<i&&(s=e.src.charCodeAt(n),!o(s))?-1:n}function a(e,t){var r,n=e.bMarks[t]+e.tShift[t],i=n,s=e.eMarks[t];if(i+1>=s)return-1;if((r=e.src.charCodeAt(i++))<48||r>57)return-1;for(;;){if(i>=s)return-1;if(!((r=e.src.charCodeAt(i++))>=48&&r<=57)){if(41===r||46===r)break;return-1}if(i-n>=10)return-1}return i<s&&(r=e.src.charCodeAt(i),!o(r))?-1:i}r.exports=function(e,t,r,n){var i,o,u,c,l,f,h,p,d,v,m,b,y,g,_,w,x,k,j,S,O,E,C,A,T,M,I,N,q=!1,F=!0;if(e.sCount[t]-e.blkIndent>=4)return!1;if(n&&"paragraph"===e.parentType&&e.tShift[t]>=e.blkIndent&&(q=!0),(C=a(e,t))>=0){if(h=!0,T=e.bMarks[t]+e.tShift[t],y=Number(e.src.substr(T,C-T-1)),q&&1!==y)return!1}else{if(!((C=s(e,t))>=0))return!1;h=!1}if(q&&e.skipSpaces(C)>=e.eMarks[t])return!1;if(b=e.src.charCodeAt(C-1),n)return!0;for(m=e.tokens.length,h?(N=e.push("ordered_list_open","ol",1),1!==y&&(N.attrs=[["start",y]])):N=e.push("bullet_list_open","ul",1),N.map=v=[t,0],N.markup=String.fromCharCode(b),_=t,A=!1,I=e.md.block.ruler.getRules("list"),j=e.parentType,e.parentType="list";_<r;){for(E=C,g=e.eMarks[_],f=w=e.sCount[_]+C-(e.bMarks[t]+e.tShift[t]);E<g;){if(9===(i=e.src.charCodeAt(E)))w+=4-(w+e.bsCount[_])%4;else{if(32!==i)break;w++}E++}if((l=(o=E)>=g?1:w-f)>4&&(l=1),c=f+l,(N=e.push("list_item_open","li",1)).markup=String.fromCharCode(b),N.map=p=[t,0],x=e.blkIndent,O=e.tight,S=e.tShift[t],k=e.sCount[t],e.blkIndent=c,e.tight=!0,e.tShift[t]=o-e.bMarks[t],e.sCount[t]=w,o>=g&&e.isEmpty(t+1)?e.line=Math.min(e.line+2,r):e.md.block.tokenize(e,t,r,!0),e.tight&&!A||(F=!1),A=e.line-t>1&&e.isEmpty(e.line-1),e.blkIndent=x,e.tShift[t]=S,e.sCount[t]=k,e.tight=O,(N=e.push("list_item_close","li",-1)).markup=String.fromCharCode(b),_=t=e.line,p[1]=_,o=e.bMarks[t],_>=r)break;if(e.sCount[_]<e.blkIndent)break;for(M=!1,u=0,d=I.length;u<d;u++)if(I[u](e,_,r,!0)){M=!0;break}if(M)break;if(h){if((C=a(e,_))<0)break}else if((C=s(e,_))<0)break;if(b!==e.src.charCodeAt(C-1))break}return(N=h?e.push("ordered_list_close","ol",-1):e.push("bullet_list_close","ul",-1)).markup=String.fromCharCode(b),v[1]=_,e.line=_,e.parentType=j,F&&function(e,t){var r,n,i=e.level+2;for(r=t+2,n=e.tokens.length-2;r<n;r++)e.tokens[r].level===i&&"paragraph_open"===e.tokens[r].type&&(e.tokens[r+2].hidden=!0,e.tokens[r].hidden=!0,r+=2)}(e,m),!0}}),e.file("lib/rules_block/reference.js",function(e,t,r,n,i){"use strict";var o=t("../common/utils").normalizeReference,s=t("../common/utils").isSpace;r.exports=function(e,t,r,n){var i,a,u,c,l,f,h,p,d,v,m,b,y,g,_,w,x=0,k=e.bMarks[t]+e.tShift[t],j=e.eMarks[t],S=t+1;if(e.sCount[t]-e.blkIndent>=4)return!1;if(91!==e.src.charCodeAt(k))return!1;for(;++k<j;)if(93===e.src.charCodeAt(k)&&92!==e.src.charCodeAt(k-1)){if(k+1===j)return!1;if(58!==e.src.charCodeAt(k+1))return!1;break}for(c=e.lineMax,_=e.md.block.ruler.getRules("reference"),v=e.parentType,e.parentType="reference";S<c&&!e.isEmpty(S);S++)if(!(e.sCount[S]-e.blkIndent>3||e.sCount[S]<0)){for(g=!1,f=0,h=_.length;f<h;f++)if(_[f](e,S,c,!0)){g=!0;break}if(g)break}for(j=(y=e.getLines(t,S,e.blkIndent,!1).trim()).length,k=1;k<j;k++){if(91===(i=y.charCodeAt(k)))return!1;if(93===i){d=k;break}10===i?x++:92===i&&++k<j&&10===y.charCodeAt(k)&&x++}if(d<0||58!==y.charCodeAt(d+1))return!1;for(k=d+2;k<j;k++)if(10===(i=y.charCodeAt(k)))x++;else if(!s(i))break;if(!(m=e.md.helpers.parseLinkDestination(y,k,j)).ok)return!1;if(l=e.md.normalizeLink(m.str),!e.md.validateLink(l))return!1;for(a=k=m.pos,u=x+=m.lines,b=k;k<j;k++)if(10===(i=y.charCodeAt(k)))x++;else if(!s(i))break;for(m=e.md.helpers.parseLinkTitle(y,k,j),k<j&&b!==k&&m.ok?(w=m.str,k=m.pos,x+=m.lines):(w="",k=a,x=u);k<j&&(i=y.charCodeAt(k),s(i));)k++;if(k<j&&10!==y.charCodeAt(k)&&w)for(w="",k=a,x=u;k<j&&(i=y.charCodeAt(k),s(i));)k++;return!(k<j&&10!==y.charCodeAt(k))&&(!!(p=o(y.slice(1,d)))&&(!!n||(void 0===e.env.references&&(e.env.references={}),void 0===e.env.references[p]&&(e.env.references[p]={title:w,href:l}),e.parentType=v,e.line=t+x+1,!0)))}}),e.file("lib/rules_block/heading.js",function(e,t,r,n,i){"use strict";var o=t("../common/utils").isSpace;r.exports=function(e,t,r,n){var i,s,a,u,c=e.bMarks[t]+e.tShift[t],l=e.eMarks[t];if(e.sCount[t]-e.blkIndent>=4)return!1;if(35!==(i=e.src.charCodeAt(c))||c>=l)return!1;for(s=1,i=e.src.charCodeAt(++c);35===i&&c<l&&s<=6;)s++,i=e.src.charCodeAt(++c);return!(s>6||c<l&&!o(i))&&(!!n||(l=e.skipSpacesBack(l,c),(a=e.skipCharsBack(l,35,c))>c&&o(e.src.charCodeAt(a-1))&&(l=a),e.line=t+1,(u=e.push("heading_open","h"+String(s),1)).markup="########".slice(0,s),u.map=[t,e.line],(u=e.push("inline","",0)).content=e.src.slice(c,l).trim(),u.map=[t,e.line],u.children=[],(u=e.push("heading_close","h"+String(s),-1)).markup="########".slice(0,s),!0))}}),e.file("lib/rules_block/lheading.js",function(e,t,r,n,i){"use strict";r.exports=function(e,t,r){var n,i,o,s,a,u,c,l,f,h,p=t+1,d=e.md.block.ruler.getRules("paragraph");if(e.sCount[t]-e.blkIndent>=4)return!1;for(h=e.parentType,e.parentType="paragraph";p<r&&!e.isEmpty(p);p++)if(!(e.sCount[p]-e.blkIndent>3)){if(e.sCount[p]>=e.blkIndent&&(u=e.bMarks[p]+e.tShift[p])<(c=e.eMarks[p])&&(45===(f=e.src.charCodeAt(u))||61===f)&&(u=e.skipChars(u,f),(u=e.skipSpaces(u))>=c)){l=61===f?1:2;break}if(!(e.sCount[p]<0)){for(i=!1,o=0,s=d.length;o<s;o++)if(d[o](e,p,r,!0)){i=!0;break}if(i)break}}return!!l&&(n=e.getLines(t,p,e.blkIndent,!1).trim(),e.line=p+1,(a=e.push("heading_open","h"+String(l),1)).markup=String.fromCharCode(f),a.map=[t,e.line],(a=e.push("inline","",0)).content=n,a.map=[t,e.line-1],a.children=[],(a=e.push("heading_close","h"+String(l),-1)).markup=String.fromCharCode(f),e.parentType=h,!0)}}),e.file("lib/rules_block/html_block.js",function(e,t,r,n,i){"use strict";var o=t("../common/html_blocks"),s=t("../common/html_re").HTML_OPEN_CLOSE_TAG_RE,a=[[/^<(script|pre|style)(?=(\s|>|$))/i,/<\/(script|pre|style)>/i,!0],[/^<!--/,/-->/,!0],[/^<\?/,/\?>/,!0],[/^<![A-Z]/,/>/,!0],[/^<!\[CDATA\[/,/\]\]>/,!0],[new RegExp("^</?("+o.join("|")+")(?=(\\s|/?>|$))","i"),/^$/,!0],[new RegExp(s.source+"\\s*$"),/^$/,!1]];r.exports=function(e,t,r,n){var i,o,s,u,c=e.bMarks[t]+e.tShift[t],l=e.eMarks[t];if(e.sCount[t]-e.blkIndent>=4)return!1;if(!e.md.options.html)return!1;if(60!==e.src.charCodeAt(c))return!1;for(u=e.src.slice(c,l),i=0;i<a.length&&!a[i][0].test(u);i++);if(i===a.length)return!1;if(n)return a[i][2];if(o=t+1,!a[i][1].test(u))for(;o<r&&!(e.sCount[o]<e.blkIndent);o++)if(c=e.bMarks[o]+e.tShift[o],l=e.eMarks[o],u=e.src.slice(c,l),a[i][1].test(u)){0!==u.length&&o++;break}return e.line=o,(s=e.push("html_block","",0)).map=[t,o],s.content=e.getLines(t,o,e.blkIndent,!0),!0}}),e.file("lib/common/html_blocks.js",function(e,t,r,n,i){"use strict";r.exports=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","meta","nav","noframes","ol","optgroup","option","p","param","section","source","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"]}),e.file("lib/common/html_re.js",function(e,t,r,n,i){"use strict";var o="<[A-Za-z][A-Za-z0-9\\-]*(?:\\s+[a-zA-Z_:][a-zA-Z0-9:._-]*(?:\\s*=\\s*(?:[^\"'=<>`\\x00-\\x20]+|'[^']*'|\"[^\"]*\"))?)*\\s*\\/?>",s="<\\/[A-Za-z][A-Za-z0-9\\-]*\\s*>",a=new RegExp("^(?:"+o+"|"+s+"|\x3c!----\x3e|\x3c!--(?:-?[^>-])(?:-?[^-])*--\x3e|<[?].*?[?]>|<![A-Z]+\\s+[^>]*>|<!\\[CDATA\\[[\\s\\S]*?\\]\\]>)"),u=new RegExp("^(?:"+o+"|"+s+")");r.exports.HTML_TAG_RE=a,r.exports.HTML_OPEN_CLOSE_TAG_RE=u}),e.file("lib/rules_block/paragraph.js",function(e,t,r,n,i){"use strict";r.exports=function(e,t){var r,n,i,o,s,a,u=t+1,c=e.md.block.ruler.getRules("paragraph"),l=e.lineMax;for(a=e.parentType,e.parentType="paragraph";u<l&&!e.isEmpty(u);u++)if(!(e.sCount[u]-e.blkIndent>3||e.sCount[u]<0)){for(n=!1,i=0,o=c.length;i<o;i++)if(c[i](e,u,l,!0)){n=!0;break}if(n)break}return r=e.getLines(t,u,e.blkIndent,!1).trim(),e.line=u,(s=e.push("paragraph_open","p",1)).map=[t,e.line],(s=e.push("inline","",0)).content=r,s.map=[t,e.line],s.children=[],s=e.push("paragraph_close","p",-1),e.parentType=a,!0}}),e.file("lib/rules_block/state_block.js",function(e,t,r,n,i){"use strict";var o=t("../token"),s=t("../common/utils").isSpace;function a(e,t,r,n){var i,o,a,u,c,l,f,h;for(this.src=e,this.md=t,this.env=r,this.tokens=n,this.bMarks=[],this.eMarks=[],this.tShift=[],this.sCount=[],this.bsCount=[],this.blkIndent=0,this.line=0,this.lineMax=0,this.tight=!1,this.ddIndent=-1,this.parentType="root",this.level=0,this.result="",h=!1,a=u=l=f=0,c=(o=this.src).length;u<c;u++){if(i=o.charCodeAt(u),!h){if(s(i)){l++,9===i?f+=4-f%4:f++;continue}h=!0}10!==i&&u!==c-1||(10!==i&&u++,this.bMarks.push(a),this.eMarks.push(u),this.tShift.push(l),this.sCount.push(f),this.bsCount.push(0),h=!1,l=0,f=0,a=u+1)}this.bMarks.push(o.length),this.eMarks.push(o.length),this.tShift.push(0),this.sCount.push(0),this.bsCount.push(0),this.lineMax=this.bMarks.length-1}a.prototype.push=function(e,t,r){var n=new o(e,t,r);return n.block=!0,r<0&&this.level--,n.level=this.level,r>0&&this.level++,this.tokens.push(n),n},a.prototype.isEmpty=function(e){return this.bMarks[e]+this.tShift[e]>=this.eMarks[e]},a.prototype.skipEmptyLines=function(e){for(var t=this.lineMax;e<t&&!(this.bMarks[e]+this.tShift[e]<this.eMarks[e]);e++);return e},a.prototype.skipSpaces=function(e){for(var t,r=this.src.length;e<r&&(t=this.src.charCodeAt(e),s(t));e++);return e},a.prototype.skipSpacesBack=function(e,t){if(e<=t)return e;for(;e>t;)if(!s(this.src.charCodeAt(--e)))return e+1;return e},a.prototype.skipChars=function(e,t){for(var r=this.src.length;e<r&&this.src.charCodeAt(e)===t;e++);return e},a.prototype.skipCharsBack=function(e,t,r){if(e<=r)return e;for(;e>r;)if(t!==this.src.charCodeAt(--e))return e+1;return e},a.prototype.getLines=function(e,t,r,n){var i,o,a,u,c,l,f,h=e;if(e>=t)return"";for(l=new Array(t-e),i=0;h<t;h++,i++){for(o=0,f=u=this.bMarks[h],c=h+1<t||n?this.eMarks[h]+1:this.eMarks[h];u<c&&o<r;){if(a=this.src.charCodeAt(u),s(a))9===a?o+=4-(o+this.bsCount[h])%4:o++;else{if(!(u-f<this.tShift[h]))break;o++}u++}l[i]=o>r?new Array(o-r+1).join(" ")+this.src.slice(u,c):this.src.slice(u,c)}return l.join("")},a.prototype.Token=o,r.exports=a}),e.file("lib/parser_inline.js",function(e,t,r,n,i){"use strict";var o=t("./ruler"),s=[["text",t("./rules_inline/text")],["newline",t("./rules_inline/newline")],["escape",t("./rules_inline/escape")],["backticks",t("./rules_inline/backticks")],["strikethrough",t("./rules_inline/strikethrough").tokenize],["emphasis",t("./rules_inline/emphasis").tokenize],["link",t("./rules_inline/link")],["image",t("./rules_inline/image")],["autolink",t("./rules_inline/autolink")],["html_inline",t("./rules_inline/html_inline")],["entity",t("./rules_inline/entity")]],a=[["balance_pairs",t("./rules_inline/balance_pairs")],["strikethrough",t("./rules_inline/strikethrough").postProcess],["emphasis",t("./rules_inline/emphasis").postProcess],["text_collapse",t("./rules_inline/text_collapse")]];function u(){var e;for(this.ruler=new o,e=0;e<s.length;e++)this.ruler.push(s[e][0],s[e][1]);for(this.ruler2=new o,e=0;e<a.length;e++)this.ruler2.push(a[e][0],a[e][1])}u.prototype.skipToken=function(e){var t,r,n=e.pos,i=this.ruler.getRules(""),o=i.length,s=e.md.options.maxNesting,a=e.cache;if(void 0===a[n]){if(e.level<s)for(r=0;r<o&&(e.level++,t=i[r](e,!0),e.level--,!t);r++);else e.pos=e.posMax;t||e.pos++,a[n]=e.pos}else e.pos=a[n]},u.prototype.tokenize=function(e){for(var t,r,n=this.ruler.getRules(""),i=n.length,o=e.posMax,s=e.md.options.maxNesting;e.pos<o;){if(e.level<s)for(r=0;r<i&&!(t=n[r](e,!1));r++);if(t){if(e.pos>=o)break}else e.pending+=e.src[e.pos++]}e.pending&&e.pushPending()},u.prototype.parse=function(e,t,r,n){var i,o,s,a=new this.State(e,t,r,n);for(this.tokenize(a),s=(o=this.ruler2.getRules("")).length,i=0;i<s;i++)o[i](a)},u.prototype.State=t("./rules_inline/state_inline"),r.exports=u}),e.file("lib/rules_inline/text.js",function(e,t,r,n,i){"use strict";function o(e){switch(e){case 10:case 33:case 35:case 36:case 37:case 38:case 42:case 43:case 45:case 58:case 60:case 61:case 62:case 64:case 91:case 92:case 93:case 94:case 95:case 96:case 123:case 125:case 126:return!0;default:return!1}}r.exports=function(e,t){for(var r=e.pos;r<e.posMax&&!o(e.src.charCodeAt(r));)r++;return r!==e.pos&&(t||(e.pending+=e.src.slice(e.pos,r)),e.pos=r,!0)}}),e.file("lib/rules_inline/newline.js",function(e,t,r,n,i){"use strict";var o=t("../common/utils").isSpace;r.exports=function(e,t){var r,n,i=e.pos;if(10!==e.src.charCodeAt(i))return!1;for(r=e.pending.length-1,n=e.posMax,t||(r>=0&&32===e.pending.charCodeAt(r)?r>=1&&32===e.pending.charCodeAt(r-1)?(e.pending=e.pending.replace(/ +$/,""),e.push("hardbreak","br",0)):(e.pending=e.pending.slice(0,-1),e.push("softbreak","br",0)):e.push("softbreak","br",0)),i++;i<n&&o(e.src.charCodeAt(i));)i++;return e.pos=i,!0}}),e.file("lib/rules_inline/escape.js",function(e,t,r,n,i){"use strict";for(var o=t("../common/utils").isSpace,s=[],a=0;a<256;a++)s.push(0);"\\!\"#$%&'()*+,./:;<=>?@[]^_`{|}~-".split("").forEach(function(e){s[e.charCodeAt(0)]=1}),r.exports=function(e,t){var r,n=e.pos,i=e.posMax;if(92!==e.src.charCodeAt(n))return!1;if(++n<i){if((r=e.src.charCodeAt(n))<256&&0!==s[r])return t||(e.pending+=e.src[n]),e.pos+=2,!0;if(10===r){for(t||e.push("hardbreak","br",0),n++;n<i&&(r=e.src.charCodeAt(n),o(r));)n++;return e.pos=n,!0}}return t||(e.pending+="\\"),e.pos++,!0}}),e.file("lib/rules_inline/backticks.js",function(e,t,r,n,i){"use strict";r.exports=function(e,t){var r,n,i,o,s,a,u=e.pos;if(96!==e.src.charCodeAt(u))return!1;for(r=u,u++,n=e.posMax;u<n&&96===e.src.charCodeAt(u);)u++;for(i=e.src.slice(r,u),o=s=u;-1!==(o=e.src.indexOf("`",s));){for(s=o+1;s<n&&96===e.src.charCodeAt(s);)s++;if(s-o===i.length)return t||((a=e.push("code_inline","code",0)).markup=i,a.content=e.src.slice(u,o).replace(/[ \n]+/g," ").trim()),e.pos=s,!0}return t||(e.pending+=i),e.pos+=i.length,!0}}),e.file("lib/rules_inline/strikethrough.js",function(e,t,r,n,i){"use strict";r.exports.tokenize=function(e,t){var r,n,i,o,s=e.pos,a=e.src.charCodeAt(s);if(t)return!1;if(126!==a)return!1;if(i=(n=e.scanDelims(e.pos,!0)).length,o=String.fromCharCode(a),i<2)return!1;for(i%2&&(e.push("text","",0).content=o,i--),r=0;r<i;r+=2)e.push("text","",0).content=o+o,e.delimiters.push({marker:a,jump:r,token:e.tokens.length-1,level:e.level,end:-1,open:n.can_open,close:n.can_close});return e.pos+=n.length,!0},r.exports.postProcess=function(e){var t,r,n,i,o,s=[],a=e.delimiters,u=e.delimiters.length;for(t=0;t<u;t++)126===(n=a[t]).marker&&-1!==n.end&&(i=a[n.end],(o=e.tokens[n.token]).type="s_open",o.tag="s",o.nesting=1,o.markup="~~",o.content="",(o=e.tokens[i.token]).type="s_close",o.tag="s",o.nesting=-1,o.markup="~~",o.content="","text"===e.tokens[i.token-1].type&&"~"===e.tokens[i.token-1].content&&s.push(i.token-1));for(;s.length;){for(r=(t=s.pop())+1;r<e.tokens.length&&"s_close"===e.tokens[r].type;)r++;t!==--r&&(o=e.tokens[r],e.tokens[r]=e.tokens[t],e.tokens[t]=o)}}}),e.file("lib/rules_inline/emphasis.js",function(e,t,r,n,i){"use strict";r.exports.tokenize=function(e,t){var r,n,i=e.pos,o=e.src.charCodeAt(i);if(t)return!1;if(95!==o&&42!==o)return!1;for(n=e.scanDelims(e.pos,42===o),r=0;r<n.length;r++)e.push("text","",0).content=String.fromCharCode(o),e.delimiters.push({marker:o,length:n.length,jump:r,token:e.tokens.length-1,level:e.level,end:-1,open:n.can_open,close:n.can_close});return e.pos+=n.length,!0},r.exports.postProcess=function(e){var t,r,n,i,o,s,a=e.delimiters;for(t=e.delimiters.length-1;t>=0;t--)95!==(r=a[t]).marker&&42!==r.marker||-1!==r.end&&(n=a[r.end],s=t>0&&a[t-1].end===r.end+1&&a[t-1].token===r.token-1&&a[r.end+1].token===n.token+1&&a[t-1].marker===r.marker,o=String.fromCharCode(r.marker),(i=e.tokens[r.token]).type=s?"strong_open":"em_open",i.tag=s?"strong":"em",i.nesting=1,i.markup=s?o+o:o,i.content="",(i=e.tokens[n.token]).type=s?"strong_close":"em_close",i.tag=s?"strong":"em",i.nesting=-1,i.markup=s?o+o:o,i.content="",s&&(e.tokens[a[t-1].token].content="",e.tokens[a[r.end+1].token].content="",t--))}}),e.file("lib/rules_inline/link.js",function(e,t,r,n,i){"use strict";var o=t("../common/utils").normalizeReference,s=t("../common/utils").isSpace;r.exports=function(e,t){var r,n,i,a,u,c,l,f,h,p="",d=e.pos,v=e.posMax,m=e.pos,b=!0;if(91!==e.src.charCodeAt(e.pos))return!1;if(u=e.pos+1,(a=e.md.helpers.parseLinkLabel(e,e.pos,!0))<0)return!1;if((c=a+1)<v&&40===e.src.charCodeAt(c)){for(b=!1,c++;c<v&&(n=e.src.charCodeAt(c),s(n)||10===n);c++);if(c>=v)return!1;for(m=c,(l=e.md.helpers.parseLinkDestination(e.src,c,e.posMax)).ok&&(p=e.md.normalizeLink(l.str),e.md.validateLink(p)?c=l.pos:p=""),m=c;c<v&&(n=e.src.charCodeAt(c),s(n)||10===n);c++);if(l=e.md.helpers.parseLinkTitle(e.src,c,e.posMax),c<v&&m!==c&&l.ok)for(h=l.str,c=l.pos;c<v&&(n=e.src.charCodeAt(c),s(n)||10===n);c++);else h="";(c>=v||41!==e.src.charCodeAt(c))&&(b=!0),c++}if(b){if(void 0===e.env.references)return!1;if(c<v&&91===e.src.charCodeAt(c)?(m=c+1,(c=e.md.helpers.parseLinkLabel(e,c))>=0?i=e.src.slice(m,c++):c=a+1):c=a+1,i||(i=e.src.slice(u,a)),!(f=e.env.references[o(i)]))return e.pos=d,!1;p=f.href,h=f.title}return t||(e.pos=u,e.posMax=a,e.push("link_open","a",1).attrs=r=[["href",p]],h&&r.push(["title",h]),e.md.inline.tokenize(e),e.push("link_close","a",-1)),e.pos=c,e.posMax=v,!0}}),e.file("lib/rules_inline/image.js",function(e,t,r,n,i){"use strict";var o=t("../common/utils").normalizeReference,s=t("../common/utils").isSpace;r.exports=function(e,t){var r,n,i,a,u,c,l,f,h,p,d,v,m,b="",y=e.pos,g=e.posMax;if(33!==e.src.charCodeAt(e.pos))return!1;if(91!==e.src.charCodeAt(e.pos+1))return!1;if(c=e.pos+2,(u=e.md.helpers.parseLinkLabel(e,e.pos+1,!1))<0)return!1;if((l=u+1)<g&&40===e.src.charCodeAt(l)){for(l++;l<g&&(n=e.src.charCodeAt(l),s(n)||10===n);l++);if(l>=g)return!1;for(m=l,(h=e.md.helpers.parseLinkDestination(e.src,l,e.posMax)).ok&&(b=e.md.normalizeLink(h.str),e.md.validateLink(b)?l=h.pos:b=""),m=l;l<g&&(n=e.src.charCodeAt(l),s(n)||10===n);l++);if(h=e.md.helpers.parseLinkTitle(e.src,l,e.posMax),l<g&&m!==l&&h.ok)for(p=h.str,l=h.pos;l<g&&(n=e.src.charCodeAt(l),s(n)||10===n);l++);else p="";if(l>=g||41!==e.src.charCodeAt(l))return e.pos=y,!1;l++}else{if(void 0===e.env.references)return!1;if(l<g&&91===e.src.charCodeAt(l)?(m=l+1,(l=e.md.helpers.parseLinkLabel(e,l))>=0?a=e.src.slice(m,l++):l=u+1):l=u+1,a||(a=e.src.slice(c,u)),!(f=e.env.references[o(a)]))return e.pos=y,!1;b=f.href,p=f.title}return t||(i=e.src.slice(c,u),e.md.inline.parse(i,e.md,e.env,v=[]),(d=e.push("image","img",0)).attrs=r=[["src",b],["alt",""]],d.children=v,d.content=i,p&&r.push(["title",p])),e.pos=l,e.posMax=g,!0}}),e.file("lib/rules_inline/autolink.js",function(e,t,r,n,i){"use strict";var o=/^<([a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*)>/,s=/^<([a-zA-Z][a-zA-Z0-9+.\-]{1,31}):([^<>\x00-\x20]*)>/;r.exports=function(e,t){var r,n,i,a,u,c,l=e.pos;return 60===e.src.charCodeAt(l)&&(!((r=e.src.slice(l)).indexOf(">")<0)&&(s.test(r)?(a=(n=r.match(s))[0].slice(1,-1),u=e.md.normalizeLink(a),!!e.md.validateLink(u)&&(t||((c=e.push("link_open","a",1)).attrs=[["href",u]],c.markup="autolink",c.info="auto",(c=e.push("text","",0)).content=e.md.normalizeLinkText(a),(c=e.push("link_close","a",-1)).markup="autolink",c.info="auto"),e.pos+=n[0].length,!0)):!!o.test(r)&&(a=(i=r.match(o))[0].slice(1,-1),u=e.md.normalizeLink("mailto:"+a),!!e.md.validateLink(u)&&(t||((c=e.push("link_open","a",1)).attrs=[["href",u]],c.markup="autolink",c.info="auto",(c=e.push("text","",0)).content=e.md.normalizeLinkText(a),(c=e.push("link_close","a",-1)).markup="autolink",c.info="auto"),e.pos+=i[0].length,!0))))}}),e.file("lib/rules_inline/html_inline.js",function(e,t,r,n,i){"use strict";var o=t("../common/html_re").HTML_TAG_RE;r.exports=function(e,t){var r,n,i,s,a=e.pos;return!!e.md.options.html&&(i=e.posMax,!(60!==e.src.charCodeAt(a)||a+2>=i)&&((33===(r=e.src.charCodeAt(a+1))||63===r||47===r||(s=32|r)>=97&&s<=122)&&(!!(n=e.src.slice(a).match(o))&&(t||(e.push("html_inline","",0).content=e.src.slice(a,a+n[0].length)),e.pos+=n[0].length,!0))))}}),e.file("lib/rules_inline/entity.js",function(e,t,r,n,i){"use strict";var o=t("../common/entities"),s=t("../common/utils").has,a=t("../common/utils").isValidEntityCode,u=t("../common/utils").fromCodePoint,c=/^&#((?:x[a-f0-9]{1,8}|[0-9]{1,8}));/i,l=/^&([a-z][a-z0-9]{1,31});/i;r.exports=function(e,t){var r,n,i=e.pos,f=e.posMax;if(38!==e.src.charCodeAt(i))return!1;if(i+1<f)if(35===e.src.charCodeAt(i+1)){if(n=e.src.slice(i).match(c))return t||(r="x"===n[1][0].toLowerCase()?parseInt(n[1].slice(1),16):parseInt(n[1],10),e.pending+=a(r)?u(r):u(65533)),e.pos+=n[0].length,!0}else if((n=e.src.slice(i).match(l))&&s(o,n[1]))return t||(e.pending+=o[n[1]]),e.pos+=n[0].length,!0;return t||(e.pending+="&"),e.pos++,!0}}),e.file("lib/rules_inline/balance_pairs.js",function(e,t,r,n,i){"use strict";r.exports=function(e){var t,r,n,i,o=e.delimiters,s=e.delimiters.length;for(t=0;t<s;t++)if((n=o[t]).close)for(r=t-n.jump-1;r>=0;){if((i=o[r]).open&&i.marker===n.marker&&i.end<0&&i.level===n.level)if(!((i.close||n.open)&&void 0!==i.length&&void 0!==n.length&&(i.length+n.length)%3==0)){n.jump=t-r,n.open=!1,i.end=t,i.jump=0;break}r-=i.jump+1}}}),e.file("lib/rules_inline/text_collapse.js",function(e,t,r,n,i){"use strict";r.exports=function(e){var t,r,n=0,i=e.tokens,o=e.tokens.length;for(t=r=0;t<o;t++)n+=i[t].nesting,i[t].level=n,"text"===i[t].type&&t+1<o&&"text"===i[t+1].type?i[t+1].content=i[t].content+i[t+1].content:(t!==r&&(i[r]=i[t]),r++);t!==r&&(i.length=r)}}),e.file("lib/rules_inline/state_inline.js",function(e,t,r,n,i){"use strict";var o=t("../token"),s=t("../common/utils").isWhiteSpace,a=t("../common/utils").isPunctChar,u=t("../common/utils").isMdAsciiPunct;function c(e,t,r,n){this.src=e,this.env=r,this.md=t,this.tokens=n,this.pos=0,this.posMax=this.src.length,this.level=0,this.pending="",this.pendingLevel=0,this.cache={},this.delimiters=[]}c.prototype.pushPending=function(){var e=new o("text","",0);return e.content=this.pending,e.level=this.pendingLevel,this.tokens.push(e),this.pending="",e},c.prototype.push=function(e,t,r){this.pending&&this.pushPending();var n=new o(e,t,r);return r<0&&this.level--,n.level=this.level,r>0&&this.level++,this.pendingLevel=this.level,this.tokens.push(n),n},c.prototype.scanDelims=function(e,t){var r,n,i,o,c,l,f,h,p,d=e,v=!0,m=!0,b=this.posMax,y=this.src.charCodeAt(e);for(r=e>0?this.src.charCodeAt(e-1):32;d<b&&this.src.charCodeAt(d)===y;)d++;return i=d-e,n=d<b?this.src.charCodeAt(d):32,f=u(r)||a(String.fromCharCode(r)),p=u(n)||a(String.fromCharCode(n)),l=s(r),(h=s(n))?v=!1:p&&(l||f||(v=!1)),l?m=!1:f&&(h||p||(m=!1)),t?(o=v,c=m):(o=v&&(!m||f),c=m&&(!v||p)),{can_open:o,can_close:c,length:i}},c.prototype.Token=o,r.exports=c}),e.file("lib/presets/default.js",function(e,t,r,n,i){"use strict";r.exports={options:{html:!1,xhtmlOut:!1,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"",highlight:null,maxNesting:100},components:{core:{},block:{},inline:{}}}}),e.file("lib/presets/zero.js",function(e,t,r,n,i){"use strict";r.exports={options:{html:!1,xhtmlOut:!1,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"",highlight:null,maxNesting:20},components:{core:{rules:["normalize","block","inline"]},block:{rules:["paragraph"]},inline:{rules:["text"],rules2:["balance_pairs","text_collapse"]}}}}),e.file("lib/presets/commonmark.js",function(e,t,r,n,i){"use strict";r.exports={options:{html:!0,xhtmlOut:!0,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"",highlight:null,maxNesting:20},components:{core:{rules:["normalize","block","inline"]},block:{rules:["blockquote","code","fence","heading","hr","html_block","lheading","list","reference","paragraph"]},inline:{rules:["autolink","backticks","emphasis","entity","escape","html_inline","image","link","newline","text"],rules2:["balance_pairs","emphasis","text_collapse"]}}}}),e.entry="index.js"}),e.pkg("entities",{},function(e){return e.file("maps/entities.json",function(e,t,r,n,i){}),e.entry="index.js"}),e.pkg("uc.micro",{},function(e){return e.file("categories/P/regex.js",function(e,t,r,n,i){r.exports=/[!-#%-\*,-/:;\?@\[-\]_\{\}\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u0AF0\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166D\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E44\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]|\uD800[\uDD00-\uDD02\uDF9F\uDFD0]|\uD801\uDD6F|\uD802[\uDC57\uDD1F\uDD3F\uDE50-\uDE58\uDE7F\uDEF0-\uDEF6\uDF39-\uDF3F\uDF99-\uDF9C]|\uD804[\uDC47-\uDC4D\uDCBB\uDCBC\uDCBE-\uDCC1\uDD40-\uDD43\uDD74\uDD75\uDDC5-\uDDC9\uDDCD\uDDDB\uDDDD-\uDDDF\uDE38-\uDE3D\uDEA9]|\uD805[\uDC4B-\uDC4F\uDC5B\uDC5D\uDCC6\uDDC1-\uDDD7\uDE41-\uDE43\uDE60-\uDE6C\uDF3C-\uDF3E]|\uD807[\uDC41-\uDC45\uDC70\uDC71]|\uD809[\uDC70-\uDC74]|\uD81A[\uDE6E\uDE6F\uDEF5\uDF37-\uDF3B\uDF44]|\uD82F\uDC9F|\uD836[\uDE87-\uDE8B]|\uD83A[\uDD5E\uDD5F]/}),e.file("index.js",function(e,t,r,n,i){"use strict";e.Any=t("./properties/Any/regex"),e.Cc=t("./categories/Cc/regex"),e.Cf=t("./categories/Cf/regex"),e.P=t("./categories/P/regex"),e.Z=t("./categories/Z/regex")}),e.file("properties/Any/regex.js",function(e,t,r,n,i){r.exports=/[\0-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/}),e.file("categories/Cc/regex.js",function(e,t,r,n,i){r.exports=/[\0-\x1F\x7F-\x9F]/}),e.file("categories/Cf/regex.js",function(e,t,r,n,i){r.exports=/[\xAD\u0600-\u0605\u061C\u06DD\u070F\u08E2\u180E\u200B-\u200F\u202A-\u202E\u2060-\u2064\u2066-\u206F\uFEFF\uFFF9-\uFFFB]|\uD804\uDCBD|\uD82F[\uDCA0-\uDCA3]|\uD834[\uDD73-\uDD7A]|\uDB40[\uDC01\uDC20-\uDC7F]/}),e.file("categories/Z/regex.js",function(e,t,r,n,i){r.exports=/[ \xA0\u1680\u2000-\u200A\u202F\u205F\u3000]/}),e.entry="index.js"}),e.pkg("mdurl",{},function(e){return e.file("index.js",function(e,t,r,n,i){"use strict";r.exports.encode=t("./encode"),r.exports.decode=t("./decode"),r.exports.format=t("./format"),r.exports.parse=t("./parse")}),e.file("encode.js",function(e,t,r,n,i){"use strict";var o={};function s(e,t,r){var n,i,a,u,c,l="";for("string"!=typeof t&&(r=t,t=s.defaultChars),void 0===r&&(r=!0),c=function(e){var t,r,n=o[e];if(n)return n;for(n=o[e]=[],t=0;t<128;t++)r=String.fromCharCode(t),/^[0-9a-z]$/i.test(r)?n.push(r):n.push("%"+("0"+t.toString(16).toUpperCase()).slice(-2));for(t=0;t<e.length;t++)n[e.charCodeAt(t)]=e[t];return n}(t),n=0,i=e.length;n<i;n++)if(a=e.charCodeAt(n),r&&37===a&&n+2<i&&/^[0-9a-f]{2}$/i.test(e.slice(n+1,n+3)))l+=e.slice(n,n+3),n+=2;else if(a<128)l+=c[a];else if(a>=55296&&a<=57343){if(a>=55296&&a<=56319&&n+1<i&&(u=e.charCodeAt(n+1))>=56320&&u<=57343){l+=encodeURIComponent(e[n]+e[n+1]),n++;continue}l+="%EF%BF%BD"}else l+=encodeURIComponent(e[n]);return l}s.defaultChars=";/?:@&=+$,-_.!~*'()#",s.componentChars="-_.!~*'()",r.exports=s}),e.file("decode.js",function(e,t,r,n,i){"use strict";var o={};function s(e,t){var r;return"string"!=typeof t&&(t=s.defaultChars),r=function(e){var t,r,n=o[e];if(n)return n;for(n=o[e]=[],t=0;t<128;t++)r=String.fromCharCode(t),n.push(r);for(t=0;t<e.length;t++)n[r=e.charCodeAt(t)]="%"+("0"+r.toString(16).toUpperCase()).slice(-2);return n}(t),e.replace(/(%[a-f0-9]{2})+/gi,function(e){var t,n,i,o,s,a,u,c="";for(t=0,n=e.length;t<n;t+=3)(i=parseInt(e.slice(t+1,t+3),16))<128?c+=r[i]:192==(224&i)&&t+3<n&&128==(192&(o=parseInt(e.slice(t+4,t+6),16)))?(c+=(u=i<<6&1984|63&o)<128?"":String.fromCharCode(u),t+=3):224==(240&i)&&t+6<n&&(o=parseInt(e.slice(t+4,t+6),16),s=parseInt(e.slice(t+7,t+9),16),128==(192&o)&&128==(192&s))?(c+=(u=i<<12&61440|o<<6&4032|63&s)<2048||u>=55296&&u<=57343?"":String.fromCharCode(u),t+=6):240==(248&i)&&t+9<n&&(o=parseInt(e.slice(t+4,t+6),16),s=parseInt(e.slice(t+7,t+9),16),a=parseInt(e.slice(t+10,t+12),16),128==(192&o)&&128==(192&s)&&128==(192&a))?((u=i<<18&1835008|o<<12&258048|s<<6&4032|63&a)<65536||u>1114111?c+="":(u-=65536,c+=String.fromCharCode(55296+(u>>10),56320+(1023&u))),t+=9):c+="";return c})}s.defaultChars=";/?:@&=+$,#",s.componentChars="",r.exports=s}),e.file("format.js",function(e,t,r,n,i){"use strict";r.exports=function(e){var t="";return t+=e.protocol||"",t+=e.slashes?"//":"",t+=e.auth?e.auth+"@":"",e.hostname&&-1!==e.hostname.indexOf(":")?t+="["+e.hostname+"]":t+=e.hostname||"",t+=e.port?":"+e.port:"",t+=e.pathname||"",t+=e.search||"",t+=e.hash||""}}),e.file("parse.js",function(e,t,r,n,i){"use strict";function o(){this.protocol=null,this.slashes=null,this.auth=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.pathname=null}var s=/^([a-z0-9.+-]+:)/i,a=/:[0-9]*$/,u=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,c=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),l=["'"].concat(c),f=["%","/","?",";","#"].concat(l),h=["/","?","#"],p=/^[+a-z0-9A-Z_-]{0,63}$/,d=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,v={javascript:!0,"javascript:":!0},m={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0};o.prototype.parse=function(e,t){var r,n,i,o,a,c=e;if(c=c.trim(),!t&&1===e.split("#").length){var l=u.exec(c);if(l)return this.pathname=l[1],l[2]&&(this.search=l[2]),this}var b=s.exec(c);if(b&&(i=(b=b[0]).toLowerCase(),this.protocol=b,c=c.substr(b.length)),(t||b||c.match(/^\/\/[^@\/]+@[^@\/]+/))&&(!(a="//"===c.substr(0,2))||b&&v[b]||(c=c.substr(2),this.slashes=!0)),!v[b]&&(a||b&&!m[b])){var y,g,_=-1;for(r=0;r<h.length;r++)-1!==(o=c.indexOf(h[r]))&&(-1===_||o<_)&&(_=o);for(-1!==(g=-1===_?c.lastIndexOf("@"):c.lastIndexOf("@",_))&&(y=c.slice(0,g),c=c.slice(g+1),this.auth=y),_=-1,r=0;r<f.length;r++)-1!==(o=c.indexOf(f[r]))&&(-1===_||o<_)&&(_=o);-1===_&&(_=c.length),":"===c[_-1]&&_--;var w=c.slice(0,_);c=c.slice(_),this.parseHost(w),this.hostname=this.hostname||"";var x="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!x){var k=this.hostname.split(/\./);for(r=0,n=k.length;r<n;r++){var j=k[r];if(j&&!j.match(p)){for(var S="",O=0,E=j.length;O<E;O++)j.charCodeAt(O)>127?S+="x":S+=j[O];if(!S.match(p)){var C=k.slice(0,r),A=k.slice(r+1),T=j.match(d);T&&(C.push(T[1]),A.unshift(T[2])),A.length&&(c=A.join(".")+c),this.hostname=C.join(".");break}}}}this.hostname.length>255&&(this.hostname=""),x&&(this.hostname=this.hostname.substr(1,this.hostname.length-2))}var M=c.indexOf("#");-1!==M&&(this.hash=c.substr(M),c=c.slice(0,M));var I=c.indexOf("?");return-1!==I&&(this.search=c.substr(I),c=c.slice(0,I)),c&&(this.pathname=c),m[i]&&this.hostname&&!this.pathname&&(this.pathname=""),this},o.prototype.parseHost=function(e){var t=a.exec(e);t&&(":"!==(t=t[0])&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)},r.exports=function(e,t){if(e&&e instanceof o)return e;var r=new o;return r.parse(e,t),r}}),e.entry="index.js"}),e.pkg("linkify-it",{},function(e){return e.file("index.js",function(e,t,r,n,i){t("http");function o(e){return Array.prototype.slice.call(arguments,1).forEach(function(t){t&&Object.keys(t).forEach(function(r){e[r]=t[r]})}),e}function s(e){return Object.prototype.toString.call(e)}function a(e){return"[object Function]"===s(e)}function u(e){return e.replace(/[.?*+^$[\]\\(){}|-]/g,"\\$&")}var c={fuzzyLink:!0,fuzzyEmail:!0,fuzzyIP:!1};var l={"http:":{validate:function(e,t,r){var n=e.slice(t);return r.re.http||(r.re.http=new RegExp("^\\/\\/"+r.re.src_auth+r.re.src_host_port_strict+r.re.src_path,"i")),r.re.http.test(n)?n.match(r.re.http)[0].length:0}},"https:":"http:","ftp:":"http:","//":{validate:function(e,t,r){var n=e.slice(t);return r.re.no_http||(r.re.no_http=new RegExp("^"+r.re.src_auth+"(?:localhost|(?:(?:"+r.re.src_domain+")\\.)+"+r.re.src_domain_root+")"+r.re.src_port+r.re.src_host_terminator+r.re.src_path,"i")),r.re.no_http.test(n)?t>=3&&":"===e[t-3]?0:t>=3&&"/"===e[t-3]?0:n.match(r.re.no_http)[0].length:0}},"mailto:":{validate:function(e,t,r){var n=e.slice(t);return r.re.mailto||(r.re.mailto=new RegExp("^"+r.re.src_email_name+"@"+r.re.src_host_strict,"i")),r.re.mailto.test(n)?n.match(r.re.mailto)[0].length:0}}},f="a[cdefgilmnoqrstuwxz]|b[abdefghijmnorstvwyz]|c[acdfghiklmnoruvwxyz]|d[ejkmoz]|e[cegrstu]|f[ijkmor]|g[abdefghilmnpqrstuwy]|h[kmnrtu]|i[delmnoqrst]|j[emop]|k[eghimnprwyz]|l[abcikrstuvy]|m[acdeghklmnopqrstuvwxyz]|n[acefgilopruz]|om|p[aefghklmnrstwy]|qa|r[eosuw]|s[abcdeghijklmnortuvxyz]|t[cdfghjklmnortvwz]|u[agksyz]|v[aceginu]|w[fs]|y[et]|z[amw]",h="biz|com|edu|gov|net|org|pro|web|xxx|aero|asia|coop|info|museum|name|shop|".split("|");function p(e){var r=e.re=t("./lib/re")(e.__opts__),n=e.__tlds__.slice();function i(e){return e.replace("%TLDS%",r.src_tlds)}e.onCompile(),e.__tlds_replaced__||n.push(f),n.push(r.src_xn),r.src_tlds=n.join("|"),r.email_fuzzy=RegExp(i(r.tpl_email_fuzzy),"i"),r.link_fuzzy=RegExp(i(r.tpl_link_fuzzy),"i"),r.link_no_ip_fuzzy=RegExp(i(r.tpl_link_no_ip_fuzzy),"i"),r.host_fuzzy_test=RegExp(i(r.tpl_host_fuzzy_test),"i");var o=[];function c(e,t){throw new Error('(LinkifyIt) Invalid schema "'+e+'": '+t)}e.__compiled__={},Object.keys(e.__schemas__).forEach(function(t){var r=e.__schemas__[t];if(null!==r){var n,i={validate:null,link:null};if(e.__compiled__[t]=i,"[object Object]"===s(r))return"[object RegExp]"===s(r.validate)?i.validate=(n=r.validate,function(e,t){var r=e.slice(t);return n.test(r)?r.match(n)[0].length:0}):a(r.validate)?i.validate=r.validate:c(t,r),void(a(r.normalize)?i.normalize=r.normalize:r.normalize?c(t,r):i.normalize=function(e,t){t.normalize(e)});if("[object String]"!==s(r))c(t,r);else o.push(t)}}),o.forEach(function(t){e.__compiled__[e.__schemas__[t]]&&(e.__compiled__[t].validate=e.__compiled__[e.__schemas__[t]].validate,e.__compiled__[t].normalize=e.__compiled__[e.__schemas__[t]].normalize)}),e.__compiled__[""]={validate:null,normalize:function(e,t){t.normalize(e)}};var l,h=Object.keys(e.__compiled__).filter(function(t){return t.length>0&&e.__compiled__[t]}).map(u).join("|");e.re.schema_test=RegExp("(^|(?!_)(?:[><]|"+r.src_ZPCc+"))("+h+")","i"),e.re.schema_search=RegExp("(^|(?!_)(?:[><]|"+r.src_ZPCc+"))("+h+")","ig"),e.re.pretest=RegExp("("+e.re.schema_test.source+")|("+e.re.host_fuzzy_test.source+")|@","i"),(l=e).__index__=-1,l.__text_cache__=""}function d(e,t){var r=new function(e,t){var r=e.__index__,n=e.__last_index__,i=e.__text_cache__.slice(r,n);this.schema=e.__schema__.toLowerCase(),this.index=r+t,this.lastIndex=n+t,this.raw=i,this.text=i,this.url=i}(e,t);return e.__compiled__[r.schema].normalize(r,e),r}function v(e,t){if(!(this instanceof v))return new v(e,t);var r;t||(r=e,Object.keys(r||{}).reduce(function(e,t){return e||c.hasOwnProperty(t)},!1)&&(t=e,e={})),this.__opts__=o({},c,t),this.__index__=-1,this.__last_index__=-1,this.__schema__="",this.__text_cache__="",this.__schemas__=o({},l,e),this.__compiled__={},this.__tlds__=h,this.__tlds_replaced__=!1,this.re={},p(this)}v.prototype.add=function(e,t){return this.__schemas__[e]=t,p(this),this},v.prototype.set=function(e){return this.__opts__=o(this.__opts__,e),this},v.prototype.test=function(e){if(this.__text_cache__=e,this.__index__=-1,!e.length)return!1;var t,r,n,i,o,s,a,u;if(this.re.schema_test.test(e))for((a=this.re.schema_search).lastIndex=0;null!==(t=a.exec(e));)if(i=this.testSchemaAt(e,t[2],a.lastIndex)){this.__schema__=t[2],this.__index__=t.index+t[1].length,this.__last_index__=t.index+t[0].length+i;break}return this.__opts__.fuzzyLink&&this.__compiled__["http:"]&&(u=e.search(this.re.host_fuzzy_test))>=0&&(this.__index__<0||u<this.__index__)&&null!==(r=e.match(this.__opts__.fuzzyIP?this.re.link_fuzzy:this.re.link_no_ip_fuzzy))&&(o=r.index+r[1].length,(this.__index__<0||o<this.__index__)&&(this.__schema__="",this.__index__=o,this.__last_index__=r.index+r[0].length)),this.__opts__.fuzzyEmail&&this.__compiled__["mailto:"]&&e.indexOf("@")>=0&&null!==(n=e.match(this.re.email_fuzzy))&&(o=n.index+n[1].length,s=n.index+n[0].length,(this.__index__<0||o<this.__index__||o===this.__index__&&s>this.__last_index__)&&(this.__schema__="mailto:",this.__index__=o,this.__last_index__=s)),this.__index__>=0},v.prototype.pretest=function(e){return this.re.pretest.test(e)},v.prototype.testSchemaAt=function(e,t,r){return this.__compiled__[t.toLowerCase()]?this.__compiled__[t.toLowerCase()].validate(e,r,this):0},v.prototype.match=function(e){var t=0,r=[];this.__index__>=0&&this.__text_cache__===e&&(r.push(d(this,t)),t=this.__last_index__);for(var n=t?e.slice(t):e;this.test(n);)r.push(d(this,t)),n=n.slice(this.__last_index__),t+=this.__last_index__;return r.length?r:null},v.prototype.tlds=function(e,t){return e=Array.isArray(e)?e:[e],t?(this.__tlds__=this.__tlds__.concat(e).sort().filter(function(e,t,r){return e!==r[t-1]}).reverse(),p(this),this):(this.__tlds__=e.slice(),this.__tlds_replaced__=!0,p(this),this)},v.prototype.normalize=function(e){e.schema||(e.url="http://"+e.url),"mailto:"!==e.schema||/^mailto:/i.test(e.url)||(e.url="mailto:"+e.url)},v.prototype.onCompile=function(){},r.exports=v}),e.file("lib/re.js",function(e,t,r,n,i){"use strict";r.exports=function(e){var r={};r.src_Any=t("uc.micro/properties/Any/regex").source,r.src_Cc=t("uc.micro/categories/Cc/regex").source,r.src_Z=t("uc.micro/categories/Z/regex").source,r.src_P=t("uc.micro/categories/P/regex").source,r.src_ZPCc=[r.src_Z,r.src_P,r.src_Cc].join("|"),r.src_ZCc=[r.src_Z,r.src_Cc].join("|");return r.src_pseudo_letter="(?:(?![><]|"+r.src_ZPCc+")"+r.src_Any+")",r.src_ip4="(?:(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.){3}(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)",r.src_auth="(?:(?:(?!"+r.src_ZCc+"|[@/\\[\\]()]).)+@)?",r.src_port="(?::(?:6(?:[0-4]\\d{3}|5(?:[0-4]\\d{2}|5(?:[0-2]\\d|3[0-5])))|[1-5]?\\d{1,4}))?",r.src_host_terminator="(?=$|[><]|"+r.src_ZPCc+")(?!-|_|:\\d|\\.-|\\.(?!$|"+r.src_ZPCc+"))",r.src_path="(?:[/?#](?:(?!"+r.src_ZCc+"|[><]|[()[\\]{}.,\"'?!\\-]).|\\[(?:(?!"+r.src_ZCc+"|\\]).)*\\]|\\((?:(?!"+r.src_ZCc+"|[)]).)*\\)|\\{(?:(?!"+r.src_ZCc+'|[}]).)*\\}|\\"(?:(?!'+r.src_ZCc+'|["]).)+\\"|\\\'(?:(?!'+r.src_ZCc+"|[']).)+\\'|\\'(?="+r.src_pseudo_letter+"|[-]).|\\.{2,3}[a-zA-Z0-9%/]|\\.(?!"+r.src_ZCc+"|[.]).|"+(e&&e["---"]?"\\-(?!--(?:[^-]|$))(?:-*)|":"\\-+|")+"\\,(?!"+r.src_ZCc+").|\\!(?!"+r.src_ZCc+"|[!]).|\\?(?!"+r.src_ZCc+"|[?]).)+|\\/)?",r.src_email_name='[\\-;:&=\\+\\$,\\"\\.a-zA-Z0-9_]+',r.src_xn="xn--[a-z0-9\\-]{1,59}",r.src_domain_root="(?:"+r.src_xn+"|"+r.src_pseudo_letter+"{1,63})",r.src_domain="(?:"+r.src_xn+"|(?:"+r.src_pseudo_letter+")|(?:"+r.src_pseudo_letter+"(?:-(?!-)|"+r.src_pseudo_letter+"){0,61}"+r.src_pseudo_letter+"))",r.src_host="(?:(?:(?:(?:"+r.src_domain+")\\.)*"+r.src_domain+"))",r.tpl_host_fuzzy="(?:"+r.src_ip4+"|(?:(?:(?:"+r.src_domain+")\\.)+(?:%TLDS%)))",r.tpl_host_no_ip_fuzzy="(?:(?:(?:"+r.src_domain+")\\.)+(?:%TLDS%))",r.src_host_strict=r.src_host+r.src_host_terminator,r.tpl_host_fuzzy_strict=r.tpl_host_fuzzy+r.src_host_terminator,r.src_host_port_strict=r.src_host+r.src_port+r.src_host_terminator,r.tpl_host_port_fuzzy_strict=r.tpl_host_fuzzy+r.src_port+r.src_host_terminator,r.tpl_host_port_no_ip_fuzzy_strict=r.tpl_host_no_ip_fuzzy+r.src_port+r.src_host_terminator,r.tpl_host_fuzzy_test="localhost|www\\.|\\.\\d{1,3}\\.|(?:\\.(?:%TLDS%)(?:"+r.src_ZPCc+"|>|$))",r.tpl_email_fuzzy="(^|[><]|\\(|"+r.src_ZCc+")("+r.src_email_name+"@"+r.tpl_host_fuzzy_strict+")",r.tpl_link_fuzzy="(^|(?![.:/\\-_@])(?:[$+<=>^`|]|"+r.src_ZPCc+"))((?![$+<=>^`|])"+r.tpl_host_port_fuzzy_strict+r.src_path+")",r.tpl_link_no_ip_fuzzy="(^|(?![.:/\\-_@])(?:[$+<=>^`|]|"+r.src_ZPCc+"))((?![$+<=>^`|])"+r.tpl_host_port_no_ip_fuzzy_strict+r.src_path+")",r}}),e.entry="index.js"}),e.pkg("http",{},function(t){return t.file("index.js",function(t,r,n,i,o){e.isServer?n.exports=global.require("http"):n.exports={}}),t.entry="index.js"}),e.pkg("punycode",{},function(e){return e.file("punycode.js",function(e,t,r,n,i){!function(t){var n="object"==typeof e&&e&&!e.nodeType&&e,i="object"==typeof r&&r&&!r.nodeType&&r,o="object"==typeof global&&global;o.global!==o&&o.window!==o&&o.self!==o||(t=o);var s,a,u=2147483647,c=36,l=1,f=26,h=38,p=700,d=72,v=128,m="-",b=/^xn--/,y=/[^\x20-\x7E]/,g=/[\x2E\u3002\uFF0E\uFF61]/g,_={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},w=c-l,x=Math.floor,k=String.fromCharCode;function j(e){throw new RangeError(_[e])}function S(e,t){for(var r=e.length,n=[];r--;)n[r]=t(e[r]);return n}function O(e,t){var r=e.split("@"),n="";return r.length>1&&(n=r[0]+"@",e=r[1]),n+S((e=e.replace(g,".")).split("."),t).join(".")}function E(e){for(var t,r,n=[],i=0,o=e.length;i<o;)(t=e.charCodeAt(i++))>=55296&&t<=56319&&i<o?56320==(64512&(r=e.charCodeAt(i++)))?n.push(((1023&t)<<10)+(1023&r)+65536):(n.push(t),i--):n.push(t);return n}function C(e){return S(e,function(e){var t="";return e>65535&&(t+=k((e-=65536)>>>10&1023|55296),e=56320|1023&e),t+=k(e)}).join("")}function A(e,t){return e+22+75*(e<26)-((0!=t)<<5)}function T(e,t,r){var n=0;for(e=r?x(e/p):e>>1,e+=x(e/t);e>w*f>>1;n+=c)e=x(e/w);return x(n+(w+1)*e/(e+h))}function M(e){var t,r,n,i,o,s,a,h,p,b,y,g=[],_=e.length,w=0,k=v,S=d;for((r=e.lastIndexOf(m))<0&&(r=0),n=0;n<r;++n)e.charCodeAt(n)>=128&&j("not-basic"),g.push(e.charCodeAt(n));for(i=r>0?r+1:0;i<_;){for(o=w,s=1,a=c;i>=_&&j("invalid-input"),((h=(y=e.charCodeAt(i++))-48<10?y-22:y-65<26?y-65:y-97<26?y-97:c)>=c||h>x((u-w)/s))&&j("overflow"),w+=h*s,!(h<(p=a<=S?l:a>=S+f?f:a-S));a+=c)s>x(u/(b=c-p))&&j("overflow"),s*=b;S=T(w-o,t=g.length+1,0==o),x(w/t)>u-k&&j("overflow"),k+=x(w/t),w%=t,g.splice(w++,0,k)}return C(g)}function I(e){var t,r,n,i,o,s,a,h,p,b,y,g,_,w,S,O=[];for(g=(e=E(e)).length,t=v,r=0,o=d,s=0;s<g;++s)(y=e[s])<128&&O.push(k(y));for(n=i=O.length,i&&O.push(m);n<g;){for(a=u,s=0;s<g;++s)(y=e[s])>=t&&y<a&&(a=y);for(a-t>x((u-r)/(_=n+1))&&j("overflow"),r+=(a-t)*_,t=a,s=0;s<g;++s)if((y=e[s])<t&&++r>u&&j("overflow"),y==t){for(h=r,p=c;!(h<(b=p<=o?l:p>=o+f?f:p-o));p+=c)S=h-b,w=c-b,O.push(k(A(b+S%w,0))),h=x(S/w);O.push(k(A(h,0))),o=T(r,_,n==i),r=0,++n}++r,++t}return O.join("")}if(s={version:"1.4.1",ucs2:{decode:E,encode:C},decode:M,encode:I,toASCII:function(e){return O(e,function(e){return y.test(e)?"xn--"+I(e):e})},toUnicode:function(e){return O(e,function(e){return b.test(e)?M(e.slice(4).toLowerCase()):e})}},"function"==typeof define&&"object"==typeof define.amd&&define.amd)define("punycode",function(){return s});else if(n&&i)if(r.exports==n)i.exports=s;else for(a in s)s.hasOwnProperty(a)&&(n[a]=s[a]);else t.punycode=s}(this)}),e.entry="punycode.js"}),e.pkg("markdown-it-texmath",{},function(e){return e.file("texmath.js",function(e,t,r,n,i){"use strict";function o(e,t){var r=t&&t.delimiters||"dollars";if(r in o.rules){for(var n=function(t){e.inline.ruler.before("escape",t.name,o.inline(t)),e.renderer.rules[t.name]=function(e,r){return t.tmpl.replace(/\$1/,o.render(e[r].content,!1))}},i=0,s=o.rules[r].inline;i<s.length;i++){n(s[i])}for(var a=function(t){e.block.ruler.before("fence",t.name,o.block(t)),e.renderer.rules[t.name]=function(e,r){return t.tmpl.replace(/\$2/,e[r].info).replace(/\$1/,o.render(e[r].content,!0))}},u=0,c=o.rules[r].block;u<c.length;u++){a(c[u])}}}o.applyRule=function(e,t,r){var n,i;return e.rex.lastIndex=r,(n=t.startsWith(e.tag,r)&&(!e.pre||e.pre(t,r))&&e.rex.exec(t))&&(n.lastIndex=e.rex.lastIndex,i=!e.post||e.post(t,n.lastIndex-1)),e.rex.lastIndex=0,i&&n},o.inline=function(e){return function(t,r){var n=o.applyRule(e,t.src,t.pos);if(n){if(!r){var i=t.push(e.name,"math",0);i.content=n[1],i.markup=e.tag}t.pos=n.lastIndex}return!!n}},o.block=function(e){return function(t,r,n,i){var s=o.applyRule(e,t.src,t.bMarks[r]+t.tShift[r]);if(s){if(!i){var a=t.push(e.name,"math",0);a.block=!0,a.content=s[1],a.info=s[2],a.markup=e.tag}for(var u=r,c=s.lastIndex-1;u<n;u++)if(c>=t.bMarks[u]&&c<=t.eMarks[u]){t.line=u+1;break}t.pos=s.lastIndex}return!!s}},o.render=function(e,t){var r;try{r=o.katex.renderToString(e,{throwOnError:!0,displayMode:t}).replace(/([_*])/g,"\\$1")}catch(t){r=e+": "+t.message.replace("<","&lt;")}return r},o.use=function(e){return o.katex=e,o},o.$_pre=function(e,t){var r=t>0&&e[t-1].charCodeAt(0);return!r||92!==r&&(r<48||r>57)},o.$_post=function(e,t){var r=e[t+1]&&e[t+1].charCodeAt(0);return!r||r<48||r>57},o.rules={brackets:{inline:[{name:"math_inline",rex:/\\\((.+?)\\\)/gy,tmpl:"<eq>$1</eq>",tag:"\\("}],block:[{name:"math_block_eqno",rex:/\\\[\s*?(.+?)\\\]\s*?\(([^)$\r\n]+?)\)/gmy,tmpl:'<section class="eqno"><eqn>$1</eqn><span>($2)</span></section>',tag:"\\["},{name:"math_block",rex:/\\\[(.+?)\\\]/gmy,tmpl:"<section><eqn>$1</eqn></section>",tag:"\\["}]},gitlab:{inline:[{name:"math_inline",rex:/\$`(.+?)`\$/gy,tmpl:"<eq>$1</eq>",tag:"$`"}],block:[{name:"math_block_eqno",rex:/`{3}math\s+?([^`]+?)\s+?`{3}\s*?\(([^)$\r\n]+?)\)/gmy,tmpl:'<section class="eqno"><eqn>$1</eqn><span>($2)</span></section>',tag:"```math"},{name:"math_block",rex:/`{3}math\s+?([^`]+?)\s+?`{3}/gmy,tmpl:"<section><eqn>$1</eqn></section>",tag:"```math"}]},dollars:{inline:[{name:"math_inline",rex:/\$(\S[^$\r\n]*?[^\s\\]{1}?)\$/gy,tmpl:"<eq>$1</eq>",tag:"$",pre:o.$_pre,post:o.$_post},{name:"math_single",rex:/\$([^$\s\\]{1}?)\$/gy,tmpl:"<eq>$1</eq>",tag:"$",pre:o.$_pre,post:o.$_post}],block:[{name:"math_block_eqno",rex:/\${2}([^$]*?)\${2}\s*?\(([^)$\r\n]+?)\)/gmy,tmpl:'<section class="eqno"><eqn>$1</eqn><span>($2)</span></section>',tag:"$$"},{name:"math_block",rex:/\${2}([^$]*?)\${2}/gmy,tmpl:"<section><eqn>$1</eqn></section>",tag:"$$"}]}},"object"==typeof r&&r.exports&&(r.exports=o)}),e.entry="texmath.js"}),e.pkg("katex",{},function(e){return e.file("dist/katex.js",function(e,t,r,n,i){!function(t){if("object"==typeof e&&void 0!==r)r.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).katex=t()}}(function(){return function e(r,n,i){function o(a,u){if(!n[a]){if(!r[a]){var c="function"==typeof t&&t;if(!u&&c)return c(a,!0);if(s)return s(a,!0);var l=new Error("Cannot find module '"+a+"'");throw l.code="MODULE_NOT_FOUND",l}var f=n[a]={exports:{}};r[a][0].call(f.exports,function(e){var t=r[a][1][e];return o(t||e)},f,f.exports,e,r,n,i)}return n[a].exports}for(var s="function"==typeof t&&t,a=0;a<i.length;a++)o(i[a]);return o}({1:[function(e,t,r){"use strict";var n=u(e("./src/ParseError")),i=u(e("./src/Settings")),o=u(e("./src/buildTree")),s=u(e("./src/parseTree")),a=u(e("./src/utils"));function u(e){return e&&e.__esModule?e:{default:e}}var c=function(e,t,r){a.default.clearNode(t);var n=new i.default(r),u=(0,s.default)(e,n),c=(0,o.default)(u,e,n).toNode();t.appendChild(c)};"undefined"!=typeof document&&"CSS1Compat"!==document.compatMode&&("undefined"!=typeof console&&console.warn("Warning: KaTeX doesn't work in quirks mode. Make sure your website has a suitable doctype."),c=function(){throw new n.default("KaTeX doesn't work in quirks mode.")});t.exports={render:c,renderToString:function(e,t){var r=new i.default(t),n=(0,s.default)(e,r);return(0,o.default)(n,e,r).toMarkup()},__parse:function(e,t){var r=new i.default(t);return(0,s.default)(e,r)},ParseError:n.default}},{"./src/ParseError":84,"./src/Settings":87,"./src/buildTree":94,"./src/parseTree":117,"./src/utils":123}],2:[function(e,t,r){t.exports={default:e("core-js/library/fn/array/from"),__esModule:!0}},{"core-js/library/fn/array/from":12}],3:[function(e,t,r){t.exports={default:e("core-js/library/fn/get-iterator"),__esModule:!0}},{"core-js/library/fn/get-iterator":13}],4:[function(e,t,r){t.exports={default:e("core-js/library/fn/is-iterable"),__esModule:!0}},{"core-js/library/fn/is-iterable":14}],5:[function(e,t,r){t.exports={default:e("core-js/library/fn/json/stringify"),__esModule:!0}},{"core-js/library/fn/json/stringify":15}],6:[function(e,t,r){t.exports={default:e("core-js/library/fn/object/define-property"),__esModule:!0}},{"core-js/library/fn/object/define-property":16}],7:[function(e,t,r){t.exports={default:e("core-js/library/fn/object/freeze"),__esModule:!0}},{"core-js/library/fn/object/freeze":17}],8:[function(e,t,r){"use strict";r.__esModule=!0,r.default=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},{}],9:[function(e,t,r){"use strict";r.__esModule=!0;var n,i=e("../core-js/object/define-property"),o=(n=i)&&n.__esModule?n:{default:n};r.default=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),(0,o.default)(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}()},{"../core-js/object/define-property":6}],10:[function(e,t,r){"use strict";r.__esModule=!0;var n=o(e("../core-js/is-iterable")),i=o(e("../core-js/get-iterator"));function o(e){return e&&e.__esModule?e:{default:e}}r.default=function(){return function(e,t){if(Array.isArray(e))return e;if((0,n.default)(Object(e)))return function(e,t){var r=[],n=!0,o=!1,s=void 0;try{for(var a,u=(0,i.default)(e);!(n=(a=u.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){o=!0,s=e}finally{try{!n&&u.return&&u.return()}finally{if(o)throw s}}return r}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}()},{"../core-js/get-iterator":3,"../core-js/is-iterable":4}],11:[function(e,t,r){"use strict";r.__esModule=!0;var n,i=e("../core-js/array/from"),o=(n=i)&&n.__esModule?n:{default:n};r.default=function(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return(0,o.default)(e)}},{"../core-js/array/from":2}],12:[function(e,t,r){e("../../modules/es6.string.iterator"),e("../../modules/es6.array.from"),t.exports=e("../../modules/_core").Array.from},{"../../modules/_core":24,"../../modules/es6.array.from":73,"../../modules/es6.string.iterator":77}],13:[function(e,t,r){e("../modules/web.dom.iterable"),e("../modules/es6.string.iterator"),t.exports=e("../modules/core.get-iterator")},{"../modules/core.get-iterator":71,"../modules/es6.string.iterator":77,"../modules/web.dom.iterable":78}],14:[function(e,t,r){e("../modules/web.dom.iterable"),e("../modules/es6.string.iterator"),t.exports=e("../modules/core.is-iterable")},{"../modules/core.is-iterable":72,"../modules/es6.string.iterator":77,"../modules/web.dom.iterable":78}],15:[function(e,t,r){var n=e("../../modules/_core"),i=n.JSON||(n.JSON={stringify:JSON.stringify});t.exports=function(e){return i.stringify.apply(i,arguments)}},{"../../modules/_core":24}],16:[function(e,t,r){e("../../modules/es6.object.define-property");var n=e("../../modules/_core").Object;t.exports=function(e,t,r){return n.defineProperty(e,t,r)}},{"../../modules/_core":24,"../../modules/es6.object.define-property":75}],17:[function(e,t,r){e("../../modules/es6.object.freeze"),t.exports=e("../../modules/_core").Object.freeze},{"../../modules/_core":24,"../../modules/es6.object.freeze":76}],18:[function(e,t,r){t.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},{}],19:[function(e,t,r){t.exports=function(){}},{}],20:[function(e,t,r){var n=e("./_is-object");t.exports=function(e){if(!n(e))throw TypeError(e+" is not an object!");return e}},{"./_is-object":40}],21:[function(e,t,r){var n=e("./_to-iobject"),i=e("./_to-length"),o=e("./_to-absolute-index");t.exports=function(e){return function(t,r,s){var a,u=n(t),c=i(u.length),l=o(s,c);if(e&&r!=r){for(;c>l;)if((a=u[l++])!=a)return!0}else for(;c>l;l++)if((e||l in u)&&u[l]===r)return e||l||0;return!e&&-1}}},{"./_to-absolute-index":62,"./_to-iobject":64,"./_to-length":65}],22:[function(e,t,r){var n=e("./_cof"),i=e("./_wks")("toStringTag"),o="Arguments"==n(function(){return arguments}());t.exports=function(e){var t,r,s;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(r=function(e,t){try{return e[t]}catch(e){}}(t=Object(e),i))?r:o?n(t):"Object"==(s=n(t))&&"function"==typeof t.callee?"Arguments":s}},{"./_cof":23,"./_wks":69}],23:[function(e,t,r){var n={}.toString;t.exports=function(e){return n.call(e).slice(8,-1)}},{}],24:[function(e,t,r){var n=t.exports={version:"2.5.1"};"number"==typeof __e&&(__e=n)},{}],25:[function(e,t,r){"use strict";var n=e("./_object-dp"),i=e("./_property-desc");t.exports=function(e,t,r){t in e?n.f(e,t,i(0,r)):e[t]=r}},{"./_object-dp":50,"./_property-desc":56}],26:[function(e,t,r){var n=e("./_a-function");t.exports=function(e,t,r){if(n(e),void 0===t)return e;switch(r){case 1:return function(r){return e.call(t,r)};case 2:return function(r,n){return e.call(t,r,n)};case 3:return function(r,n,i){return e.call(t,r,n,i)}}return function(){return e.apply(t,arguments)}}},{"./_a-function":18}],27:[function(e,t,r){t.exports=function(e){if(void 0==e)throw TypeError("Can't call method on  "+e);return e}},{}],28:[function(e,t,r){t.exports=!e("./_fails")(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},{"./_fails":32}],29:[function(e,t,r){var n=e("./_is-object"),i=e("./_global").document,o=n(i)&&n(i.createElement);t.exports=function(e){return o?i.createElement(e):{}}},{"./_global":33,"./_is-object":40}],30:[function(e,t,r){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},{}],31:[function(e,t,r){var n=e("./_global"),i=e("./_core"),o=e("./_ctx"),s=e("./_hide"),a="prototype",u=function(e,t,r){var c,l,f,h=e&u.F,p=e&u.G,d=e&u.S,v=e&u.P,m=e&u.B,b=e&u.W,y=p?i:i[t]||(i[t]={}),g=y[a],_=p?n:d?n[t]:(n[t]||{})[a];p&&(r=t);for(c in r)(l=!h&&_&&void 0!==_[c])&&c in y||(f=l?_[c]:r[c],y[c]=p&&"function"!=typeof _[c]?r[c]:m&&l?o(f,n):b&&_[c]==f?function(e){var t=function(t,r,n){if(this instanceof e){switch(arguments.length){case 0:return new e;case 1:return new e(t);case 2:return new e(t,r)}return new e(t,r,n)}return e.apply(this,arguments)};return t[a]=e[a],t}(f):v&&"function"==typeof f?o(Function.call,f):f,v&&((y.virtual||(y.virtual={}))[c]=f,e&u.R&&g&&!g[c]&&s(g,c,f)))};u.F=1,u.G=2,u.S=4,u.P=8,u.B=16,u.W=32,u.U=64,u.R=128,t.exports=u},{"./_core":24,"./_ctx":26,"./_global":33,"./_hide":35}],32:[function(e,t,r){t.exports=function(e){try{return!!e()}catch(e){return!0}}},{}],33:[function(e,t,r){var n=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},{}],34:[function(e,t,r){var n={}.hasOwnProperty;t.exports=function(e,t){return n.call(e,t)}},{}],35:[function(e,t,r){var n=e("./_object-dp"),i=e("./_property-desc");t.exports=e("./_descriptors")?function(e,t,r){return n.f(e,t,i(1,r))}:function(e,t,r){return e[t]=r,e}},{"./_descriptors":28,"./_object-dp":50,"./_property-desc":56}],36:[function(e,t,r){var n=e("./_global").document;t.exports=n&&n.documentElement},{"./_global":33}],37:[function(e,t,r){t.exports=!e("./_descriptors")&&!e("./_fails")(function(){return 7!=Object.defineProperty(e("./_dom-create")("div"),"a",{get:function(){return 7}}).a})},{"./_descriptors":28,"./_dom-create":29,"./_fails":32}],38:[function(e,t,r){var n=e("./_cof");t.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==n(e)?e.split(""):Object(e)}},{"./_cof":23}],39:[function(e,t,r){var n=e("./_iterators"),i=e("./_wks")("iterator"),o=Array.prototype;t.exports=function(e){return void 0!==e&&(n.Array===e||o[i]===e)}},{"./_iterators":46,"./_wks":69}],40:[function(e,t,r){t.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},{}],41:[function(e,t,r){var n=e("./_an-object");t.exports=function(e,t,r,i){try{return i?t(n(r)[0],r[1]):t(r)}catch(t){var o=e.return;throw void 0!==o&&n(o.call(e)),t}}},{"./_an-object":20}],42:[function(e,t,r){"use strict";var n=e("./_object-create"),i=e("./_property-desc"),o=e("./_set-to-string-tag"),s={};e("./_hide")(s,e("./_wks")("iterator"),function(){return this}),t.exports=function(e,t,r){e.prototype=n(s,{next:i(1,r)}),o(e,t+" Iterator")}},{"./_hide":35,"./_object-create":49,"./_property-desc":56,"./_set-to-string-tag":58,"./_wks":69}],43:[function(e,t,r){"use strict";var n=e("./_library"),i=e("./_export"),o=e("./_redefine"),s=e("./_hide"),a=e("./_has"),u=e("./_iterators"),c=e("./_iter-create"),l=e("./_set-to-string-tag"),f=e("./_object-gpo"),h=e("./_wks")("iterator"),p=!([].keys&&"next"in[].keys()),d=function(){return this};t.exports=function(e,t,r,v,m,b,y){c(r,t,v);var g,_,w,x=function(e){if(!p&&e in O)return O[e];switch(e){case"keys":case"values":return function(){return new r(this,e)}}return function(){return new r(this,e)}},k=t+" Iterator",j="values"==m,S=!1,O=e.prototype,E=O[h]||O["@@iterator"]||m&&O[m],C=E||x(m),A=m?j?x("entries"):C:void 0,T="Array"==t?O.entries||E:E;if(T&&(w=f(T.call(new e)))!==Object.prototype&&w.next&&(l(w,k,!0),n||a(w,h)||s(w,h,d)),j&&E&&"values"!==E.name&&(S=!0,C=function(){return E.call(this)}),n&&!y||!p&&!S&&O[h]||s(O,h,C),u[t]=C,u[k]=d,m)if(g={values:j?C:x("values"),keys:b?C:x("keys"),entries:A},y)for(_ in g)_ in O||o(O,_,g[_]);else i(i.P+i.F*(p||S),t,g);return g}},{"./_export":31,"./_has":34,"./_hide":35,"./_iter-create":42,"./_iterators":46,"./_library":47,"./_object-gpo":52,"./_redefine":57,"./_set-to-string-tag":58,"./_wks":69}],44:[function(e,t,r){var n=e("./_wks")("iterator"),i=!1;try{var o=[7][n]();o.return=function(){i=!0},Array.from(o,function(){throw 2})}catch(e){}t.exports=function(e,t){if(!t&&!i)return!1;var r=!1;try{var o=[7],s=o[n]();s.next=function(){return{done:r=!0}},o[n]=function(){return s},e(o)}catch(e){}return r}},{"./_wks":69}],45:[function(e,t,r){t.exports=function(e,t){return{value:t,done:!!e}}},{}],46:[function(e,t,r){t.exports={}},{}],47:[function(e,t,r){t.exports=!0},{}],48:[function(e,t,r){var n=e("./_uid")("meta"),i=e("./_is-object"),o=e("./_has"),s=e("./_object-dp").f,a=0,u=Object.isExtensible||function(){return!0},c=!e("./_fails")(function(){return u(Object.preventExtensions({}))}),l=function(e){s(e,n,{value:{i:"O"+ ++a,w:{}}})},f=t.exports={KEY:n,NEED:!1,fastKey:function(e,t){if(!i(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!o(e,n)){if(!u(e))return"F";if(!t)return"E";l(e)}return e[n].i},getWeak:function(e,t){if(!o(e,n)){if(!u(e))return!0;if(!t)return!1;l(e)}return e[n].w},onFreeze:function(e){return c&&f.NEED&&u(e)&&!o(e,n)&&l(e),e}}},{"./_fails":32,"./_has":34,"./_is-object":40,"./_object-dp":50,"./_uid":68}],49:[function(e,t,r){var n=e("./_an-object"),i=e("./_object-dps"),o=e("./_enum-bug-keys"),s=e("./_shared-key")("IE_PROTO"),a=function(){},u=function(){var t,r=e("./_dom-create")("iframe"),n=o.length;for(r.style.display="none",e("./_html").appendChild(r),r.src="javascript:",(t=r.contentWindow.document).open(),t.write("<script>document.F=Object<\/script>"),t.close(),u=t.F;n--;)delete u.prototype[o[n]];return u()};t.exports=Object.create||function(e,t){var r;return null!==e?(a.prototype=n(e),r=new a,a.prototype=null,r[s]=e):r=u(),void 0===t?r:i(r,t)}},{"./_an-object":20,"./_dom-create":29,"./_enum-bug-keys":30,"./_html":36,"./_object-dps":51,"./_shared-key":59}],50:[function(e,t,r){var n=e("./_an-object"),i=e("./_ie8-dom-define"),o=e("./_to-primitive"),s=Object.defineProperty;r.f=e("./_descriptors")?Object.defineProperty:function(e,t,r){if(n(e),t=o(t,!0),n(r),i)try{return s(e,t,r)}catch(e){}if("get"in r||"set"in r)throw TypeError("Accessors not supported!");return"value"in r&&(e[t]=r.value),e}},{"./_an-object":20,"./_descriptors":28,"./_ie8-dom-define":37,"./_to-primitive":67}],51:[function(e,t,r){var n=e("./_object-dp"),i=e("./_an-object"),o=e("./_object-keys");t.exports=e("./_descriptors")?Object.defineProperties:function(e,t){i(e);for(var r,s=o(t),a=s.length,u=0;a>u;)n.f(e,r=s[u++],t[r]);return e}},{"./_an-object":20,"./_descriptors":28,"./_object-dp":50,"./_object-keys":54}],52:[function(e,t,r){var n=e("./_has"),i=e("./_to-object"),o=e("./_shared-key")("IE_PROTO"),s=Object.prototype;t.exports=Object.getPrototypeOf||function(e){return e=i(e),n(e,o)?e[o]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?s:null}},{"./_has":34,"./_shared-key":59,"./_to-object":66}],53:[function(e,t,r){var n=e("./_has"),i=e("./_to-iobject"),o=e("./_array-includes")(!1),s=e("./_shared-key")("IE_PROTO");t.exports=function(e,t){var r,a=i(e),u=0,c=[];for(r in a)r!=s&&n(a,r)&&c.push(r);for(;t.length>u;)n(a,r=t[u++])&&(~o(c,r)||c.push(r));return c}},{"./_array-includes":21,"./_has":34,"./_shared-key":59,"./_to-iobject":64}],54:[function(e,t,r){var n=e("./_object-keys-internal"),i=e("./_enum-bug-keys");t.exports=Object.keys||function(e){return n(e,i)}},{"./_enum-bug-keys":30,"./_object-keys-internal":53}],55:[function(e,t,r){var n=e("./_export"),i=e("./_core"),o=e("./_fails");t.exports=function(e,t){var r=(i.Object||{})[e]||Object[e],s={};s[e]=t(r),n(n.S+n.F*o(function(){r(1)}),"Object",s)}},{"./_core":24,"./_export":31,"./_fails":32}],56:[function(e,t,r){t.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},{}],57:[function(e,t,r){t.exports=e("./_hide")},{"./_hide":35}],58:[function(e,t,r){var n=e("./_object-dp").f,i=e("./_has"),o=e("./_wks")("toStringTag");t.exports=function(e,t,r){e&&!i(e=r?e:e.prototype,o)&&n(e,o,{configurable:!0,value:t})}},{"./_has":34,"./_object-dp":50,"./_wks":69}],59:[function(e,t,r){var n=e("./_shared")("keys"),i=e("./_uid");t.exports=function(e){return n[e]||(n[e]=i(e))}},{"./_shared":60,"./_uid":68}],60:[function(e,t,r){var n=e("./_global"),i=n["__core-js_shared__"]||(n["__core-js_shared__"]={});t.exports=function(e){return i[e]||(i[e]={})}},{"./_global":33}],61:[function(e,t,r){var n=e("./_to-integer"),i=e("./_defined");t.exports=function(e){return function(t,r){var o,s,a=String(i(t)),u=n(r),c=a.length;return u<0||u>=c?e?"":void 0:(o=a.charCodeAt(u))<55296||o>56319||u+1===c||(s=a.charCodeAt(u+1))<56320||s>57343?e?a.charAt(u):o:e?a.slice(u,u+2):s-56320+(o-55296<<10)+65536}}},{"./_defined":27,"./_to-integer":63}],62:[function(e,t,r){var n=e("./_to-integer"),i=Math.max,o=Math.min;t.exports=function(e,t){return(e=n(e))<0?i(e+t,0):o(e,t)}},{"./_to-integer":63}],63:[function(e,t,r){var n=Math.ceil,i=Math.floor;t.exports=function(e){return isNaN(e=+e)?0:(e>0?i:n)(e)}},{}],64:[function(e,t,r){var n=e("./_iobject"),i=e("./_defined");t.exports=function(e){return n(i(e))}},{"./_defined":27,"./_iobject":38}],65:[function(e,t,r){var n=e("./_to-integer"),i=Math.min;t.exports=function(e){return e>0?i(n(e),9007199254740991):0}},{"./_to-integer":63}],66:[function(e,t,r){var n=e("./_defined");t.exports=function(e){return Object(n(e))}},{"./_defined":27}],67:[function(e,t,r){var n=e("./_is-object");t.exports=function(e,t){if(!n(e))return e;var r,i;if(t&&"function"==typeof(r=e.toString)&&!n(i=r.call(e)))return i;if("function"==typeof(r=e.valueOf)&&!n(i=r.call(e)))return i;if(!t&&"function"==typeof(r=e.toString)&&!n(i=r.call(e)))return i;throw TypeError("Can't convert object to primitive value")}},{"./_is-object":40}],68:[function(e,t,r){var n=0,i=Math.random();t.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++n+i).toString(36))}},{}],69:[function(e,t,r){var n=e("./_shared")("wks"),i=e("./_uid"),o=e("./_global").Symbol,s="function"==typeof o;(t.exports=function(e){return n[e]||(n[e]=s&&o[e]||(s?o:i)("Symbol."+e))}).store=n},{"./_global":33,"./_shared":60,"./_uid":68}],70:[function(e,t,r){var n=e("./_classof"),i=e("./_wks")("iterator"),o=e("./_iterators");t.exports=e("./_core").getIteratorMethod=function(e){if(void 0!=e)return e[i]||e["@@iterator"]||o[n(e)]}},{"./_classof":22,"./_core":24,"./_iterators":46,"./_wks":69}],71:[function(e,t,r){var n=e("./_an-object"),i=e("./core.get-iterator-method");t.exports=e("./_core").getIterator=function(e){var t=i(e);if("function"!=typeof t)throw TypeError(e+" is not iterable!");return n(t.call(e))}},{"./_an-object":20,"./_core":24,"./core.get-iterator-method":70}],72:[function(e,t,r){var n=e("./_classof"),i=e("./_wks")("iterator"),o=e("./_iterators");t.exports=e("./_core").isIterable=function(e){var t=Object(e);return void 0!==t[i]||"@@iterator"in t||o.hasOwnProperty(n(t))}},{"./_classof":22,"./_core":24,"./_iterators":46,"./_wks":69}],73:[function(e,t,r){"use strict";var n=e("./_ctx"),i=e("./_export"),o=e("./_to-object"),s=e("./_iter-call"),a=e("./_is-array-iter"),u=e("./_to-length"),c=e("./_create-property"),l=e("./core.get-iterator-method");i(i.S+i.F*!e("./_iter-detect")(function(e){Array.from(e)}),"Array",{from:function(e){var t,r,i,f,h=o(e),p="function"==typeof this?this:Array,d=arguments.length,v=d>1?arguments[1]:void 0,m=void 0!==v,b=0,y=l(h);if(m&&(v=n(v,d>2?arguments[2]:void 0,2)),void 0==y||p==Array&&a(y))for(r=new p(t=u(h.length));t>b;b++)c(r,b,m?v(h[b],b):h[b]);else for(f=y.call(h),r=new p;!(i=f.next()).done;b++)c(r,b,m?s(f,v,[i.value,b],!0):i.value);return r.length=b,r}})},{"./_create-property":25,"./_ctx":26,"./_export":31,"./_is-array-iter":39,"./_iter-call":41,"./_iter-detect":44,"./_to-length":65,"./_to-object":66,"./core.get-iterator-method":70}],74:[function(e,t,r){"use strict";var n=e("./_add-to-unscopables"),i=e("./_iter-step"),o=e("./_iterators"),s=e("./_to-iobject");t.exports=e("./_iter-define")(Array,"Array",function(e,t){this._t=s(e),this._i=0,this._k=t},function(){var e=this._t,t=this._k,r=this._i++;return!e||r>=e.length?(this._t=void 0,i(1)):i(0,"keys"==t?r:"values"==t?e[r]:[r,e[r]])},"values"),o.Arguments=o.Array,n("keys"),n("values"),n("entries")},{"./_add-to-unscopables":19,"./_iter-define":43,"./_iter-step":45,"./_iterators":46,"./_to-iobject":64}],75:[function(e,t,r){var n=e("./_export");n(n.S+n.F*!e("./_descriptors"),"Object",{defineProperty:e("./_object-dp").f})},{"./_descriptors":28,"./_export":31,"./_object-dp":50}],76:[function(e,t,r){var n=e("./_is-object"),i=e("./_meta").onFreeze;e("./_object-sap")("freeze",function(e){return function(t){return e&&n(t)?e(i(t)):t}})},{"./_is-object":40,"./_meta":48,"./_object-sap":55}],77:[function(e,t,r){"use strict";var n=e("./_string-at")(!0);e("./_iter-define")(String,"String",function(e){this._t=String(e),this._i=0},function(){var e,t=this._t,r=this._i;return r>=t.length?{value:void 0,done:!0}:(e=n(t,r),this._i+=e.length,{value:e,done:!1})})},{"./_iter-define":43,"./_string-at":61}],78:[function(e,t,r){e("./es6.array.iterator");for(var n=e("./_global"),i=e("./_hide"),o=e("./_iterators"),s=e("./_wks")("toStringTag"),a="CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList".split(","),u=0;u<a.length;u++){var c=a[u],l=n[c],f=l&&l.prototype;f&&!f[s]&&i(f,s,c),o[c]=o.Array}},{"./_global":33,"./_hide":35,"./_iterators":46,"./_wks":69,"./es6.array.iterator":74}],79:[function(e,t,r){t.exports=function(e,t,r){if(e.global||e.sticky)throw new Error("matchAt(...): Only non-global regexes are supported");var n=function(e){if(!e.__matchAtRelocatable){var t=e.source+"|()",r="g"+(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"");e.__matchAtRelocatable=new RegExp(t,r)}return e.__matchAtRelocatable}(e);n.lastIndex=r;var i=n.exec(t);return null==i[i.length-1]?(i.length=i.length-1,i):null}},{}],80:[function(e,t,r){"use strict";var n=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable;t.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},r=0;r<10;r++)t["_"+String.fromCharCode(r)]=r;if("0123456789"!==Object.getOwnPropertyNames(t).map(function(e){return t[e]}).join(""))return!1;var n={};return"abcdefghijklmnopqrst".split("").forEach(function(e){n[e]=e}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},n)).join("")}catch(e){return!1}}()?Object.assign:function(e,t){for(var r,s,a=function(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}(e),u=1;u<arguments.length;u++){r=Object(arguments[u]);for(var c in r)i.call(r,c)&&(a[c]=r[c]);if(n){s=n(r);for(var l=0;l<s.length;l++)o.call(r,s[l])&&(a[s[l]]=r[s[l]])}}return a}},{}],81:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.controlWordRegex=void 0;var n=c(e("babel-runtime/helpers/classCallCheck")),i=c(e("babel-runtime/helpers/createClass")),o=c(e("match-at")),s=c(e("./ParseError")),a=c(e("./SourceLocation")),u=e("./Token");function c(e){return e&&e.__esModule?e:{default:e}}var l=new RegExp("([ \r\n\t]+)|(%[^\n]*[\n]|[!-\\[\\]---]|[\ud800-\udbff][\udc00-\udfff]|\\\\verb\\*([^]).*?\\3|\\\\verb([^*a-zA-Z]).*?\\4|\\\\[a-zA-Z@]+|\\\\[^\ud800-\udfff])"),f=(r.controlWordRegex=new RegExp("^\\\\[a-zA-Z@]+"),new RegExp("^%[^\n]*[\n]")),h=function(){function e(t){(0,n.default)(this,e),this.input=t,this.pos=0}return(0,i.default)(e,[{key:"lex",value:function(){var e=this.input,t=this.pos;if(t===e.length)return new u.Token("EOF",new a.default(this,t,t));var r=(0,o.default)(l,e,t);if(null===r)throw new s.default("Unexpected character: '"+e[t]+"'",new u.Token(e[t],new a.default(this,t,t+1)));var n=r[2]||" ",i=this.pos;this.pos+=r[0].length;var c=this.pos;return f.test(n)?this.lex():new u.Token(n,new a.default(this,i,c))}}]),e}();r.default=h},{"./ParseError":84,"./SourceLocation":88,"./Token":90,"babel-runtime/helpers/classCallCheck":8,"babel-runtime/helpers/createClass":9,"match-at":79}],82:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=h(e("babel-runtime/helpers/toConsumableArray")),i=h(e("babel-runtime/helpers/classCallCheck")),o=h(e("babel-runtime/helpers/createClass")),s=e("./Lexer"),a=h(s),u=e("./Token"),c=h(e("./macros")),l=h(e("./ParseError")),f=h(e("object-assign"));function h(e){return e&&e.__esModule?e:{default:e}}var p=function(){function e(t,r){(0,i.default)(this,e),this.lexer=new a.default(t),this.macros=(0,f.default)({},c.default,r),this.stack=[]}return(0,o.default)(e,[{key:"future",value:function(){return 0===this.stack.length&&this.pushToken(this.lexer.lex()),this.stack[this.stack.length-1]}},{key:"popToken",value:function(){return this.future(),this.stack.pop()}},{key:"pushToken",value:function(e){this.stack.push(e)}},{key:"pushTokens",value:function(e){var t;(t=this.stack).push.apply(t,(0,n.default)(e))}},{key:"consumeSpaces",value:function(){for(;;){if(" "!==this.future().text)break;this.stack.pop()}}},{key:"consumeArgs",value:function(e){for(var t=[],r=0;r<e;++r){this.consumeSpaces();var n=this.popToken();if("{"===n.text){for(var i=[],o=1;0!==o;){var s=this.popToken();if(i.push(s),"{"===s.text)++o;else if("}"===s.text)--o;else if("EOF"===s.text)throw new l.default("End of input in macro argument",n)}i.pop(),i.reverse(),t[r]=i}else{if("EOF"===n.text)throw new l.default("End of input expecting macro argument");t[r]=[n]}}return t}},{key:"expandOnce",value:function(){var e=this.popToken(),t=e.text;if("\\"===t.charAt(0)&&s.controlWordRegex.test(t)&&this.consumeSpaces(),!this.macros.hasOwnProperty(t))return this.pushToken(e),e;var r=this._getExpansion(t),i=r.tokens,o=r.numArgs,a=i;if(o)for(var u=this.consumeArgs(o),c=(a=a.slice()).length-1;c>=0;--c){var f=a[c];if("#"===f.text){if(0===c)throw new l.default("Incomplete placeholder at end of macro body",f);if("#"===(f=a[--c]).text)a.splice(c+1,1);else{if(!/^[1-9]$/.test(f.text))throw new l.default("Not a valid argument number",f);var h;(h=a).splice.apply(h,[c,2].concat((0,n.default)(u[+f.text-1])))}}}return this.pushTokens(a),a}},{key:"expandAfterFuture",value:function(){return this.expandOnce(),this.future()}},{key:"expandNextToken",value:function(){for(;;){var e=this.expandOnce();if(e instanceof u.Token){if("\\relax"!==e.text)return this.stack.pop();this.stack.pop()}}throw new Error}},{key:"_getExpansion",value:function(e){var t=this.macros[e],r="function"==typeof t?t(this):t;if("string"==typeof r){var n=0;if(-1!==r.indexOf("#"))for(var i=r.replace(/##/g,"");-1!==i.indexOf("#"+(n+1));)++n;for(var o=new a.default(r),s=[],u=o.lex();"EOF"!==u.text;)s.push(u),u=o.lex();s.reverse();var c={tokens:s,numArgs:n};return"function"!=typeof t&&(this.macros[e]=c),c}return r}}]),e}();r.default=p},{"./Lexer":81,"./ParseError":84,"./Token":90,"./macros":115,"babel-runtime/helpers/classCallCheck":8,"babel-runtime/helpers/createClass":9,"babel-runtime/helpers/toConsumableArray":11,"object-assign":80}],83:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=s(e("babel-runtime/helpers/classCallCheck")),i=s(e("babel-runtime/helpers/createClass")),o=s(e("./fontMetrics"));function s(e){return e&&e.__esModule?e:{default:e}}var a=[[1,1,1],[2,1,1],[3,1,1],[4,2,1],[5,2,1],[6,3,1],[7,4,2],[8,6,3],[9,7,6],[10,8,7],[11,10,9]],u=[.5,.6,.7,.8,.9,1,1.2,1.44,1.728,2.074,2.488],c=function(e,t){return t.size<2?e:a[e-1][t.size-1]},l=function(){function e(t){(0,n.default)(this,e),this.style=t.style,this.color=t.color,this.size=t.size||e.BASESIZE,this.textSize=t.textSize||this.size,this.phantom=!!t.phantom,this.font=t.font,this.sizeMultiplier=u[this.size-1],this.maxSize=t.maxSize,this._fontMetrics=void 0}return(0,i.default)(e,[{key:"extend",value:function(t){var r={style:this.style,size:this.size,textSize:this.textSize,color:this.color,phantom:this.phantom,font:this.font,maxSize:this.maxSize};for(var n in t)t.hasOwnProperty(n)&&(r[n]=t[n]);return new e(r)}},{key:"havingStyle",value:function(e){return this.style===e?this:this.extend({style:e,size:c(this.textSize,e)})}},{key:"havingCrampedStyle",value:function(){return this.havingStyle(this.style.cramp())}},{key:"havingSize",value:function(e){return this.size===e&&this.textSize===e?this:this.extend({style:this.style.text(),size:e,textSize:e})}},{key:"havingBaseStyle",value:function(t){t=t||this.style.text();var r=c(e.BASESIZE,t);return this.size===r&&this.textSize===e.BASESIZE&&this.style===t?this:this.extend({style:t,size:r})}},{key:"withColor",value:function(e){return this.extend({color:e})}},{key:"withPhantom",value:function(){return this.extend({phantom:!0})}},{key:"withFont",value:function(e){return this.extend({font:e||this.font})}},{key:"sizingClasses",value:function(e){return e.size!==this.size?["sizing","reset-size"+e.size,"size"+this.size]:[]}},{key:"baseSizingClasses",value:function(){return this.size!==e.BASESIZE?["sizing","reset-size"+this.size,"size"+e.BASESIZE]:[]}},{key:"fontMetrics",value:function(){return this._fontMetrics||(this._fontMetrics=o.default.getFontMetrics(this.size)),this._fontMetrics}},{key:"getColor",value:function(){return this.phantom?"transparent":null!=this.color&&e.colorMap.hasOwnProperty(this.color)?e.colorMap[this.color]:this.color}}]),e}();l.BASESIZE=6,l.colorMap={"katex-blue":"#6495ed","katex-orange":"#ffa500","katex-pink":"#ff00af","katex-red":"#df0030","katex-green":"#28ae7b","katex-gray":"gray","katex-purple":"#9d38bd","katex-blueA":"#ccfaff","katex-blueB":"#80f6ff","katex-blueC":"#63d9ea","katex-blueD":"#11accd","katex-blueE":"#0c7f99","katex-tealA":"#94fff5","katex-tealB":"#26edd5","katex-tealC":"#01d1c1","katex-tealD":"#01a995","katex-tealE":"#208170","katex-greenA":"#b6ffb0","katex-greenB":"#8af281","katex-greenC":"#74cf70","katex-greenD":"#1fab54","katex-greenE":"#0d923f","katex-goldA":"#ffd0a9","katex-goldB":"#ffbb71","katex-goldC":"#ff9c39","katex-goldD":"#e07d10","katex-goldE":"#a75a05","katex-redA":"#fca9a9","katex-redB":"#ff8482","katex-redC":"#f9685d","katex-redD":"#e84d39","katex-redE":"#bc2612","katex-maroonA":"#ffbde0","katex-maroonB":"#ff92c6","katex-maroonC":"#ed5fa6","katex-maroonD":"#ca337c","katex-maroonE":"#9e034e","katex-purpleA":"#ddd7ff","katex-purpleB":"#c6b9fc","katex-purpleC":"#aa87ff","katex-purpleD":"#7854ab","katex-purpleE":"#543b78","katex-mintA":"#f5f9e8","katex-mintB":"#edf2df","katex-mintC":"#e0e5cc","katex-grayA":"#f6f7f7","katex-grayB":"#f0f1f2","katex-grayC":"#e3e5e6","katex-grayD":"#d6d8da","katex-grayE":"#babec2","katex-grayF":"#888d93","katex-grayG":"#626569","katex-grayH":"#3b3e40","katex-grayI":"#21242c","katex-kaBlue":"#314453","katex-kaGreen":"#71B307"},r.default=l},{"./fontMetrics":101,"babel-runtime/helpers/classCallCheck":8,"babel-runtime/helpers/createClass":9}],84:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=i(e("babel-runtime/helpers/classCallCheck"));i(e("./ParseNode")),e("./Token");function i(e){return e&&e.__esModule?e:{default:e}}var o=function e(t,r){(0,n.default)(this,e);var i="KaTeX parse error: "+t,o=void 0,s=r&&r.loc;if(s&&s.start<=s.end){var a=s.lexer.input;o=s.start;var u=s.end;o===a.length?i+=" at end of input: ":i+=" at position "+(o+1)+": ";var c=a.slice(o,u).replace(/[^]/g,"$&");i+=(o>15?""+a.slice(o-15,o):a.slice(0,o))+c+(u+15<a.length?a.slice(u,u+15)+"":a.slice(u))}var l=new Error(i);return l.name="ParseError",l.__proto__=e.prototype,l.position=o,l};o.prototype.__proto__=Error.prototype,r.default=o},{"./ParseNode":85,"./Token":90,"babel-runtime/helpers/classCallCheck":8}],85:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=o(e("babel-runtime/helpers/classCallCheck")),i=(e("./Token"),o(e("./SourceLocation")));function o(e){return e&&e.__esModule?e:{default:e}}r.default=function e(t,r,o,s,a){(0,n.default)(this,e),this.type=t,this.value=r,this.mode=o,this.loc=i.default.range(s,a)}},{"./SourceLocation":88,"./Token":90,"babel-runtime/helpers/classCallCheck":8}],86:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=d(e("babel-runtime/helpers/classCallCheck")),i=d(e("babel-runtime/helpers/createClass")),o=d(e("./functions")),s=d(e("./environments")),a=d(e("./MacroExpander")),u=d(e("./symbols")),c=d(e("./utils")),l=e("./units"),f=e("./unicodeRegexes"),h=d(e("./ParseNode")),p=d(e("./ParseError"));function d(e){return e&&e.__esModule?e:{default:e}}function v(e,t){return{type:"arg",result:e,token:t}}function m(e){if("$"===e.type)throw new p.default("Unexpected $",e.token);return e}var b=function(){function e(t,r){(0,n.default)(this,e),this.gullet=new a.default(t,r.macros),r.colorIsTextColor&&(this.gullet.macros["\\color"]="\\textcolor"),this.settings=r,this.leftrightDepth=0}return(0,i.default)(e,[{key:"expect",value:function(e,t){if(this.nextToken.text!==e)throw new p.default("Expected '"+e+"', got '"+this.nextToken.text+"'",this.nextToken);!1!==t&&this.consume()}},{key:"consume",value:function(){this.nextToken=this.gullet.expandNextToken()}},{key:"switchMode",value:function(e){this.mode=e}},{key:"parse",value:function(){this.mode="math",this.consume();var e=this.parseInput();return e}},{key:"parseInput",value:function(){var e=this.parseExpression(!1);return this.expect("EOF",!1),e}},{key:"parseExpression",value:function(t,r){for(var n=[];;){"math"===this.mode&&this.consumeSpaces();var i=this.nextToken;if(-1!==e.endOfExpression.indexOf(i.text))break;if(r&&i.text===r)break;if(t&&o.default[i.text]&&o.default[i.text].infix)break;var s=this.parseAtom(r);if(!s){if(!this.settings.throwOnError&&"\\"===i.text[0]){var a=this.handleUnsupportedCmd();n.push(a);continue}break}n.push(s)}return this.handleInfixNodes(n)}},{key:"handleInfixNodes",value:function(e){for(var t=-1,r=void 0,n=0;n<e.length;n++){var i=e[n];if("infix"===i.type){if(-1!==t)throw new p.default("only one infix operator per group",i.value.token);t=n,r=i.value.replaceWith}}if(-1!==t){var o=void 0,s=void 0,a=e.slice(0,t),u=e.slice(t+1);o=1===a.length&&"ordgroup"===a[0].type?a[0]:new h.default("ordgroup",a,this.mode),s=1===u.length&&"ordgroup"===u[0].type?u[0]:new h.default("ordgroup",u,this.mode);var c=this.callFunction(r,[o,s],[]);return[new h.default(c.type,c,this.mode)]}return e}},{key:"handleSupSubscript",value:function(t){var r=this.nextToken,n=r.text;this.consume(),this.consumeSpaces();var i=this.parseGroup();if(!i){if(this.settings.throwOnError||"\\"!==this.nextToken.text[0])throw new p.default("Expected group after '"+n+"'",r);return this.handleUnsupportedCmd()}if("fn"===m(i).type){if(o.default[i.result].greediness>e.SUPSUB_GREEDINESS)return this.parseGivenFunction(i);throw new p.default("Got function '"+i.result+"' with no arguments as "+t,r)}return i.result}},{key:"handleUnsupportedCmd",value:function(){for(var e=this.nextToken.text,t=[],r=0;r<e.length;r++)t.push(new h.default("textord",e[r],"text"));var n=new h.default("text",{body:t,type:"text"},this.mode),i=new h.default("color",{color:this.settings.errorColor,value:[n],type:"color"},this.mode);return this.consume(),i}},{key:"parseAtom",value:function(e){var t=this.parseImplicitGroup(e);if("text"===this.mode)return t;for(var r=void 0,n=void 0;;){this.consumeSpaces();var i=this.nextToken;if("\\limits"===i.text||"\\nolimits"===i.text){if(!t||"op"!==t.type)throw new p.default("Limit controls must follow a math operator",i);var o="\\limits"===i.text;t.value.limits=o,t.value.alwaysHandleSupSub=!0,this.consume()}else if("^"===i.text){if(r)throw new p.default("Double superscript",i);r=this.handleSupSubscript("superscript")}else if("_"===i.text){if(n)throw new p.default("Double subscript",i);n=this.handleSupSubscript("subscript")}else{if("'"!==i.text)break;if(r)throw new p.default("Double superscript",i);var s=new h.default("textord","\\prime",this.mode),a=[s];for(this.consume();"'"===this.nextToken.text;)a.push(s),this.consume();"^"===this.nextToken.text&&a.push(this.handleSupSubscript("superscript")),r=new h.default("ordgroup",a,this.mode)}}return r||n?new h.default("supsub",{base:t,sup:r,sub:n},this.mode):t}},{key:"parseImplicitGroup",value:function(t){var r=this.parseSymbol();if(null==r)return this.parseFunction();var n=r.result;if("\\left"===n){var i=this.parseGivenFunction(r);++this.leftrightDepth;var o=this.parseExpression(!1);--this.leftrightDepth,this.expect("\\right",!1);var a=this.parseFunction();return new h.default("leftright",{body:o,left:i.value.value,right:a.value.value},this.mode)}if("\\begin"===n){var u=this.parseGivenFunction(r),l=u.value.name;if(!s.default.has(l))throw new p.default("No such environment: "+l,u.value.nameGroup);var f=s.default.get(l),d=this.parseArguments("\\begin{"+l+"}",f),v=d.args,m=d.optArgs,b={mode:this.mode,envName:l,parser:this},y=f.handler(b,v,m);this.expect("\\end",!1);var g=this.nextToken,_=this.parseFunction();if(_.value.name!==l)throw new p.default("Mismatch: \\begin{"+l+"} matched by \\end{"+_.value.name+"}",g);return y.position=_.position,y}if(c.default.contains(e.sizeFuncs,n)){this.consumeSpaces();var w=this.parseExpression(!1,t);return new h.default("sizing",{size:c.default.indexOf(e.sizeFuncs,n)+1,value:w},this.mode)}if(c.default.contains(e.styleFuncs,n)){this.consumeSpaces();var x=this.parseExpression(!0,t);return new h.default("styling",{style:n.slice(1,n.length-5),value:x},this.mode)}if(n in e.oldFontFuncs){var k=e.oldFontFuncs[n];this.consumeSpaces();var j=this.parseExpression(!0,t);return"text"===k.slice(0,4)?new h.default("text",{style:k,body:new h.default("ordgroup",j,this.mode)},this.mode):new h.default("font",{font:k,body:new h.default("ordgroup",j,this.mode)},this.mode)}if("\\color"===n){var S=this.parseColorGroup(!1);if(!S)throw new p.default("\\color not followed by color");var O=this.parseExpression(!0,t);return new h.default("color",{type:"color",color:S.result.value,value:O},this.mode)}if("$"===n){if("math"===this.mode)throw new p.default("$ within math mode");this.consume();var E=this.mode;this.switchMode("math");var C=this.parseExpression(!1,"$");return this.expect("$",!0),this.switchMode(E),new h.default("styling",{style:"text",value:C},"math")}return this.parseGivenFunction(r)}},{key:"parseFunction",value:function(){var e=this.parseGroup();return e?this.parseGivenFunction(e):null}},{key:"parseGivenFunction",value:function(e){if("fn"===(e=m(e)).type){var t=e.result,r=o.default[t];if("text"===this.mode&&!r.allowedInText)throw new p.default("Can't use function '"+t+"' in text mode",e.token);if("math"===this.mode&&!1===r.allowedInMath)throw new p.default("Can't use function '"+t+"' in math mode",e.token);var n=this.parseArguments(t,r),i=n.args,s=n.optArgs,a=e.token,u=this.callFunction(t,i,s,a);return new h.default(u.type,u,this.mode)}return e.result}},{key:"callFunction",value:function(e,t,r,n){var i={funcName:e,parser:this,token:n};return o.default[e].handler(i,t,r)}},{key:"parseArguments",value:function(e,t){var r=t.numArgs+t.numOptionalArgs;if(0===r)return{args:[],optArgs:[]};for(var n=t.greediness,i=[],s=[],a=0;a<r;a++){var u=t.argTypes&&t.argTypes[a],c=a<t.numOptionalArgs;a>0&&!c&&this.consumeSpaces(),0!==a||c||"math"!==this.mode||this.consumeSpaces();var l=this.nextToken,f=u?this.parseGroupOfType(u,c):this.parseGroup(c);if(!f){if(c){s.push(null);continue}if(this.settings.throwOnError||"\\"!==this.nextToken.text[0])throw new p.default("Expected group after '"+e+"'",l);f=v(this.handleUnsupportedCmd(),l)}var h=void 0;if("fn"===(f=m(f)).type){if(!(o.default[f.result].greediness>n))throw new p.default("Got function '"+f.result+"' as argument to '"+e+"'",l);h=this.parseGivenFunction(f)}else h=f.result;(c?s:i).push(h)}return{args:i,optArgs:s}}},{key:"parseGroupOfType",value:function(e,t){var r=this.mode;if("original"===e&&(e=r),"color"===e)return this.parseColorGroup(t);if("size"===e)return this.parseSizeGroup(t);if("url"===e)return this.parseUrlGroup(t);this.switchMode(e);var n=this.parseGroup(t);return this.switchMode(r),n}},{key:"consumeSpaces",value:function(){for(;" "===this.nextToken.text;)this.consume()}},{key:"parseStringGroup",value:function(e,t){if(t&&"["!==this.nextToken.text)return null;var r=this.mode;this.mode="text",this.expect(t?"[":"{");for(var n="",i=this.nextToken,o=i;this.nextToken.text!==(t?"]":"}");){if("EOF"===this.nextToken.text)throw new p.default("Unexpected end of input in "+e,i.range(this.nextToken,n));n+=(o=this.nextToken).text,this.consume()}return this.mode=r,this.expect(t?"]":"}"),i.range(o,n)}},{key:"parseStringGroupWithBalancedBraces",value:function(e,t){if(t&&"["!==this.nextToken.text)return null;var r=this.mode;this.mode="text",this.expect(t?"[":"{");for(var n="",i=0,o=this.nextToken,s=o;i>0||this.nextToken.text!==(t?"]":"}");){if("EOF"===this.nextToken.text)throw new p.default("Unexpected end of input in "+e,o.range(this.nextToken,n));if(n+=(s=this.nextToken).text,"{"===s.text)i+=1;else if("}"===s.text){if(i<=0)throw new p.default("Unbalanced brace of input in "+e,o.range(this.nextToken,n));i-=1}this.consume()}return this.mode=r,this.expect(t?"]":"}"),o.range(s,n)}},{key:"parseRegexGroup",value:function(e,t){var r=this.mode;this.mode="text";for(var n=this.nextToken,i=n,o="";"EOF"!==this.nextToken.text&&e.test(o+this.nextToken.text);)o+=(i=this.nextToken).text,this.consume();if(""===o)throw new p.default("Invalid "+t+": '"+n.text+"'",n);return this.mode=r,n.range(i,o)}},{key:"parseColorGroup",value:function(e){var t=this.parseStringGroup("color",e);if(!t)return null;var r=/^(#[a-f0-9]{3}|#[a-f0-9]{6}|[a-z]+)$/i.exec(t.text);if(!r)throw new p.default("Invalid color: '"+t.text+"'",t);return v(new h.default("color",r[0],this.mode),t)}},{key:"parseUrlGroup",value:function(e){var t=this.parseStringGroupWithBalancedBraces("url",e);if(!t)return null;var r=t.text.replace(/\\([#$%&~_^{}])/g,"$1");return v(new h.default("url",r,this.mode),t)}},{key:"parseSizeGroup",value:function(e){var t=void 0;if(!(t=e||"{"===this.nextToken.text?this.parseStringGroup("size",e):this.parseRegexGroup(/^[-+]? *(?:$|\d+|\d+\.\d*|\.\d*) *[a-z]{0,2} *$/,"size")))return null;var r=/([-+]?) *(\d+(?:\.\d*)?|\.\d+) *([a-z]{2})/.exec(t.text);if(!r)throw new p.default("Invalid size: '"+t.text+"'",t);var n={number:+(r[1]+r[2]),unit:r[3]};if(!(0,l.validUnit)(n))throw new p.default("Invalid unit: '"+n.unit+"'",t);return v(new h.default("size",n,this.mode),t)}},{key:"parseGroup",value:function(e){var t=this.nextToken;if(this.nextToken.text===(e?"[":"{")){this.consume();var r=this.parseExpression(!1,e?"]":"}"),n=this.nextToken;return this.expect(e?"]":"}"),"text"===this.mode&&this.formLigatures(r),v(new h.default("ordgroup",r,this.mode,t,n),t.range(n,t.text))}return e?null:this.parseSymbol()}},{key:"formLigatures",value:function(e){for(var t=e.length-1,r=0;r<t;++r){var n=e[r],i=n.value;"-"===i&&"-"===e[r+1].value&&(r+1<t&&"-"===e[r+2].value?(e.splice(r,3,new h.default("textord","---","text",n,e[r+2])),t-=2):(e.splice(r,2,new h.default("textord","--","text",n,e[r+1])),t-=1)),"'"!==i&&"`"!==i||e[r+1].value!==i||(e.splice(r,2,new h.default("textord",i+i,"text",n,e[r+1])),t-=1)}}},{key:"parseSymbol",value:function(){var e,t=this.nextToken;if(o.default[t.text])return this.consume(),{type:"fn",result:(e=t).text,token:e};if(u.default[this.mode][t.text])return this.consume(),v(new h.default(u.default[this.mode][t.text].group,t.text,this.mode,t),t);if("text"===this.mode&&f.cjkRegex.test(t.text))return this.consume(),v(new h.default("textord",t.text,this.mode,t),t);if("$"===t.text)return{type:"$",result:"$",token:t};if(/^\\verb[^a-zA-Z]/.test(t.text)){this.consume();var r=t.text.slice(5),n="*"===r.charAt(0);if(n&&(r=r.slice(1)),r.length<2||r.charAt(0)!==r.slice(-1))throw new p.default("\\verb assertion failed --\n                    please report what input caused this bug");return r=r.slice(1,-1),v(new h.default("verb",{body:r,star:n},"text"),t)}return null}}]),e}();b.endOfExpression=["}","\\end","\\right","&","\\\\","\\cr"],b.SUPSUB_GREEDINESS=1,b.sizeFuncs=["\\tiny","\\sixptsize","\\scriptsize","\\footnotesize","\\small","\\normalsize","\\large","\\Large","\\LARGE","\\huge","\\Huge"],b.styleFuncs=["\\displaystyle","\\textstyle","\\scriptstyle","\\scriptscriptstyle"],b.oldFontFuncs={"\\rm":"mathrm","\\sf":"mathsf","\\tt":"mathtt","\\bf":"mathbf","\\it":"mathit"},r.default=b},{"./MacroExpander":82,"./ParseError":84,"./ParseNode":85,"./environments":99,"./functions":103,"./symbols":120,"./unicodeRegexes":121,"./units":122,"./utils":123,"babel-runtime/helpers/classCallCheck":8,"babel-runtime/helpers/createClass":9}],87:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=o(e("babel-runtime/helpers/classCallCheck")),i=o(e("./utils"));function o(e){return e&&e.__esModule?e:{default:e}}r.default=function e(t){(0,n.default)(this,e),t=t||{},this.displayMode=i.default.deflt(t.displayMode,!1),this.throwOnError=i.default.deflt(t.throwOnError,!0),this.errorColor=i.default.deflt(t.errorColor,"#cc0000"),this.macros=t.macros||{},this.colorIsTextColor=i.default.deflt(t.colorIsTextColor,!1),this.maxSize=Math.max(0,i.default.deflt(t.maxSize,1/0))}},{"./utils":123,"babel-runtime/helpers/classCallCheck":8}],88:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=s(e("babel-runtime/core-js/object/freeze")),i=s(e("babel-runtime/helpers/classCallCheck")),o=s(e("babel-runtime/helpers/createClass"));function s(e){return e&&e.__esModule?e:{default:e}}var a=function(){function e(t,r,o){(0,i.default)(this,e),this.lexer=t,this.start=r,this.end=o,(0,n.default)(this)}return(0,o.default)(e,null,[{key:"range",value:function(t,r){return r?t&&t.loc&&r.loc&&t.loc.lexer===r.loc.lexer?new e(t.loc.lexer,t.loc.start,r.loc.end):null:t&&t.loc}}]),e}();r.default=a},{"babel-runtime/core-js/object/freeze":7,"babel-runtime/helpers/classCallCheck":8,"babel-runtime/helpers/createClass":9}],89:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=o(e("babel-runtime/helpers/classCallCheck")),i=o(e("babel-runtime/helpers/createClass"));function o(e){return e&&e.__esModule?e:{default:e}}var s=function(){function e(t,r,i){(0,n.default)(this,e),this.id=t,this.size=r,this.cramped=i}return(0,i.default)(e,[{key:"sup",value:function(){return a[u[this.id]]}},{key:"sub",value:function(){return a[c[this.id]]}},{key:"fracNum",value:function(){return a[l[this.id]]}},{key:"fracDen",value:function(){return a[f[this.id]]}},{key:"cramp",value:function(){return a[h[this.id]]}},{key:"text",value:function(){return a[p[this.id]]}},{key:"isTight",value:function(){return this.size>=2}}]),e}(),a=[new s(0,0,!1),new s(1,0,!0),new s(2,1,!1),new s(3,1,!0),new s(4,2,!1),new s(5,2,!0),new s(6,3,!1),new s(7,3,!0)],u=[4,5,4,5,6,7,6,7],c=[5,5,5,5,7,7,7,7],l=[2,3,4,5,6,7,6,7],f=[3,3,5,5,7,7,7,7],h=[1,1,3,3,5,5,7,7],p=[0,1,2,3,2,3,2,3];r.default={DISPLAY:a[0],TEXT:a[2],SCRIPT:a[4],SCRIPTSCRIPT:a[6]}},{"babel-runtime/helpers/classCallCheck":8,"babel-runtime/helpers/createClass":9}],90:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.Token=void 0;var n=s(e("babel-runtime/helpers/classCallCheck")),i=s(e("babel-runtime/helpers/createClass")),o=s(e("./SourceLocation"));function s(e){return e&&e.__esModule?e:{default:e}}r.Token=function(){function e(t,r){(0,n.default)(this,e),this.text=t,this.loc=r}return(0,i.default)(e,[{key:"range",value:function(t,r){return new e(r,o.default.range(this,t))}}]),e}()},{"./SourceLocation":88,"babel-runtime/helpers/classCallCheck":8,"babel-runtime/helpers/createClass":9}],91:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=u(e("babel-runtime/core-js/get-iterator")),i=u(e("./domTree")),o=u(e("./fontMetrics")),s=u(e("./symbols")),a=u(e("./utils"));function u(e){return e&&e.__esModule?e:{default:e}}var c=["\\imath","\\jmath","\\pounds"],l=function(e,t,r){return s.default[r][e]&&s.default[r][e].replace&&(e=s.default[r][e].replace),{value:e,metrics:o.default.getCharacterMetrics(e,t)}},f=function(e,t,r,n,o){var s=l(e,t,r),a=s.metrics;e=s.value;var u=void 0;if(a){var c=a.italic;"text"===r&&(c=0),u=new i.default.symbolNode(e,a.height,a.depth,c,a.skew,o)}else"undefined"!=typeof console&&console.warn("No character metrics for '"+e+"' in style '"+t+"'"),u=new i.default.symbolNode(e,0,0,0,0,o);if(n){u.maxFontSize=n.sizeMultiplier,n.style.isTight()&&u.classes.push("mtight");var f=n.getColor();f&&(u.style.color=f)}return u},h=function(e,t,r,n,i){if("mathord"===i){var o=p(e,t,r,n);return f(e,o.fontName,t,r,n.concat([o.fontClass]))}if("textord"===i)return"ams"===(s.default[t][e]&&s.default[t][e].font)?f(e,"AMS-Regular",t,r,n.concat(["amsrm"])):f(e,"Main-Regular",t,r,n.concat(["mathrm"]));throw new Error("unexpected type: "+i+" in mathDefault")},p=function(e,t,r,n){return/[0-9]/.test(e.charAt(0))||a.default.contains(c,e)?{fontName:"Main-Italic",fontClass:"mainit"}:{fontName:"Math-Italic",fontClass:"mathit"}},d=function(e){var t=0,r=0,i=0,o=!0,s=!1,a=void 0;try{for(var u,c=(0,n.default)(e.children);!(o=(u=c.next()).done);o=!0){var l=u.value;l.height>t&&(t=l.height),l.depth>r&&(r=l.depth),l.maxFontSize>i&&(i=l.maxFontSize)}}catch(e){s=!0,a=e}finally{try{!o&&c.return&&c.return()}finally{if(s)throw a}}e.height=t,e.depth=r,e.maxFontSize=i},v=function(e,t,r){var n=new i.default.span(e,t,r);return d(n),n},m={mathbf:{variant:"bold",fontName:"Main-Bold"},mathrm:{variant:"normal",fontName:"Main-Regular"},textit:{variant:"italic",fontName:"Main-Italic"},mathbb:{variant:"double-struck",fontName:"AMS-Regular"},mathcal:{variant:"script",fontName:"Caligraphic-Regular"},mathfrak:{variant:"fraktur",fontName:"Fraktur-Regular"},mathscr:{variant:"script",fontName:"Script-Regular"},mathsf:{variant:"sans-serif",fontName:"SansSerif-Regular"},mathtt:{variant:"monospace",fontName:"Typewriter-Regular"}};r.default={fontMap:m,makeSymbol:f,mathsym:function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return"\\"===e||"main"===s.default[t][e].font?f(e,"Main-Regular",t,r,n):f(e,"AMS-Regular",t,r,n.concat(["amsrm"]))},makeSpan:v,makeAnchor:function(e,t,r,n){var o=new i.default.anchor(e,t,r,n);return d(o),o},makeFragment:function(e){var t=new i.default.documentFragment(e);return d(t),t},makeVList:function(e,t){var r=function(e){if("individualShift"===e.positionType){for(var t=e.children,r=[t[0]],i=-t[0].shift-t[0].elem.depth,o=i,s=1;s<t.length;s++){var a=-t[s].shift-o-t[s].elem.depth,u=a-(t[s-1].elem.height+t[s-1].elem.depth);o+=a,r.push({type:"kern",size:u}),r.push(t[s])}return{children:r,depth:i}}var c=void 0;if("top"===e.positionType){var l=e.positionData,f=!0,h=!1,p=void 0;try{for(var d,v=(0,n.default)(e.children);!(f=(d=v.next()).done);f=!0){var m=d.value;l-="kern"===m.type?m.size:m.elem.height+m.elem.depth}}catch(e){h=!0,p=e}finally{try{!f&&v.return&&v.return()}finally{if(h)throw p}}c=l}else if("bottom"===e.positionType)c=-e.positionData;else{var b=e.children[0];if("elem"!==b.type)throw new Error('First child must have type "elem".');if("shift"===e.positionType)c=-b.elem.depth-e.positionData;else{if("firstBaseline"!==e.positionType)throw new Error("Invalid positionType "+e.positionType+".");c=-b.elem.depth}}return{children:e.children,depth:c}}(e),o=r.children,s=r.depth,a=0,u=!0,c=!1,l=void 0;try{for(var f,h=(0,n.default)(o);!(u=(f=h.next()).done);u=!0){var p=f.value;if("elem"===p.type){var d=p.elem;a=Math.max(a,d.maxFontSize,d.height)}}}catch(e){c=!0,l=e}finally{try{!u&&h.return&&h.return()}finally{if(c)throw l}}a+=2;var m=v(["pstrut"],[]);m.style.height=a+"em";var b=[],y=s,g=s,_=s,w=!0,x=!1,k=void 0;try{for(var j,S=(0,n.default)(o);!(w=(j=S.next()).done);w=!0){var O=j.value;if("kern"===O.type)_+=O.size;else{var E=O.elem,C=v([],[m,E]);C.style.top=-a-_-E.depth+"em",O.marginLeft&&(C.style.marginLeft=O.marginLeft),O.marginRight&&(C.style.marginRight=O.marginRight),b.push(C),_+=E.height+E.depth}y=Math.min(y,_),g=Math.max(g,_)}}catch(e){x=!0,k=e}finally{try{!w&&S.return&&S.return()}finally{if(x)throw k}}var A=v(["vlist"],b);A.style.height=g+"em";var T=void 0;if(y<0){var M=v(["vlist"],[]);M.style.height=-y+"em";var I=v(["vlist-s"],[new i.default.symbolNode("")]);T=[v(["vlist-r"],[A,I]),v(["vlist-r"],[M])]}else T=[v(["vlist-r"],[A])];var N=v(["vlist-t"],T);return 2===T.length&&N.classes.push("vlist-t2"),N.height=g,N.depth=-y,N},makeOrd:function(e,t,r){var n=e.mode,i=e.value,o=["mord"],s=t.font;if(s){var u=void 0;return u="mathit"===s||a.default.contains(c,i)?p(i,n,t,o):m[s],l(i,u.fontName,n).metrics?f(i,u.fontName,n,t,o.concat([u.fontClass||s])):h(i,n,t,o,r)}return h(i,n,t,o,r)},makeVerb:function(e,t){var r=e.value.body;return r=e.value.star?r.replace(/ /g,""):r.replace(/ /g,"")},tryCombineChars:function(e){for(var t=0;t<e.length-1;t++)e[t].tryCombine(e[t+1])&&(e.splice(t+1,1),t--);return e},prependChildren:function(e,t){e.children=t.concat(e.children),d(e)},spacingFunctions:{"\\qquad":{size:"2em",className:"qquad"},"\\quad":{size:"1em",className:"quad"},"\\enspace":{size:"0.5em",className:"enspace"},"\\;":{size:"0.277778em",className:"thickspace"},"\\:":{size:"0.22222em",className:"mediumspace"},"\\,":{size:"0.16667em",className:"thinspace"},"\\!":{size:"-0.16667em",className:"negativethinspace"}}}},{"./domTree":98,"./fontMetrics":101,"./symbols":120,"./utils":123,"babel-runtime/core-js/get-iterator":3}],92:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.buildGroup=r.makeLineSpan=r.groupTypes=r.makeNullDelimiter=r.getTypeOfDomTree=r.buildExpression=r.spliceSpaces=void 0;var n=h(e("babel-runtime/core-js/json/stringify"));r.default=function(e,t){e=JSON.parse((0,n.default)(e));var r=v(e,t,!0),i=p(["base"],r,t),o=p(["strut"]),s=p(["strut","bottom"]);o.style.height=i.height+"em",s.style.height=i.height+i.depth+"em",s.style.verticalAlign=-i.depth+"em";var a=p(["katex-html"],[o,s,i]);return a.setAttribute("aria-hidden","true"),a};var i=h(e("./ParseError")),o=h(e("./Style")),s=h(e("./buildCommon")),a=h(e("./delimiter")),u=h(e("./domTree")),c=e("./units"),l=h(e("./utils")),f=h(e("./stretchy"));function h(e){return e&&e.__esModule?e:{default:e}}var p=s.default.makeSpan,d=r.spliceSpaces=function(e,t){for(var r,n=t;n<e.length&&((r=e[n])instanceof u.default.span&&"mspace"===r.classes[0]);)n++;return n===t?null:e.splice(t,n-t)},v=r.buildExpression=function(e,t,r){for(var n,i,o,a,c,f=[],h=0;h<e.length;h++){var v=e[h],m=x(v,t);m instanceof u.default.documentFragment?Array.prototype.push.apply(f,m.children):f.push(m)}for(var b=0;b<f.length;b++){var y=d(f,b);if(y){if(!(b<f.length)){Array.prototype.push.apply(f,y);break}f[b]instanceof u.default.symbolNode&&(f[b]=p([].concat(f[b].classes),[f[b]])),s.default.prependChildren(f[b],y)}}for(var g=0;g<f.length;g++)(c=f[g])&&"mbin"===c.classes[0]&&(o=f[g-1],a=r,(o?l.default.contains(["mbin","mopen","mrel","mop","mpunct"],o.classes[0]):a)||(n=f[g+1],i=r,n?l.default.contains(["mrel","mclose","mpunct"],n.classes[0]):i))&&(f[g].classes[0]="mord");for(var _=0;_<f.length;_++)if(""===f[_].value&&_+1<f.length){var w=f.slice(_,_+2);w[0].classes=["mainrm"],w[0].style.position="absolute",w[0].style.right="0";var k=f[_+1].classes,j=p(k,w);-1!==k.indexOf("mord")&&(j.style.paddingLeft="0.277771em"),j.style.position="relative",f.splice(_,2,j)}return f},m=r.getTypeOfDomTree=function e(t){if(t instanceof u.default.documentFragment){if(t.children.length)return e(t.children[t.children.length-1])}else if(l.default.contains(["mord","mop","mbin","mrel","mopen","mclose","mpunct","minner"],t.classes[0]))return t.classes[0];return null},b=function e(t){return!!t&&("ordgroup"===t.type?1===t.value.length?e(t.value[0]):t:"color"===t.type?1===t.value.value.length?e(t.value.value[0]):t:"font"===t.type?e(t.value.body):t)},y=function(e){var t=b(e);return"mathord"===t.type||"textord"===t.type||"bin"===t.type||"rel"===t.type||"inner"===t.type||"open"===t.type||"close"===t.type||"punct"===t.type},g=(r.makeNullDelimiter=function(e,t){var r=["nulldelimiter"].concat(e.baseSizingClasses());return p(t.concat(r))},r.groupTypes={});g.mathord=function(e,t){return s.default.makeOrd(e,t,"mathord")},g.textord=function(e,t){return s.default.makeOrd(e,t,"textord")},g.bin=function(e,t){return s.default.mathsym(e.value,e.mode,t,["mbin"])},g.rel=function(e,t){return s.default.mathsym(e.value,e.mode,t,["mrel"])},g.open=function(e,t){return s.default.mathsym(e.value,e.mode,t,["mopen"])},g.close=function(e,t){return s.default.mathsym(e.value,e.mode,t,["mclose"])},g.inner=function(e,t){return s.default.mathsym(e.value,e.mode,t,["minner"])},g.punct=function(e,t){return s.default.mathsym(e.value,e.mode,t,["mpunct"])},g.ordgroup=function(e,t){return p(["mord"],v(e.value,t,!0),t)},g.text=function(e,t){var r=t.withFont(e.value.font),n=v(e.value.body,r,!0);return s.default.tryCombineChars(n),p(["mord","text"],n,r)},g.color=function(e,t){var r=v(e.value.value,t.withColor(e.value.color),!1);return new s.default.makeFragment(r)},g.supsub=function(e,t){if(function(e,t){if(e.value.base){var r=e.value.base;return"op"===r.type?r.value.limits&&(t.style.size===o.default.DISPLAY.size||r.value.alwaysHandleSupSub):"accent"===r.type?y(r.value.base):"horizBrace"===r.type?!e.value.sub===r.value.isOver:null}return!1}(e,t))return g[e.value.base.type](e,t);var r=x(e.value.base,t),n=void 0,i=void 0,a=t.fontMetrics(),c=void 0,l=0,f=0;e.value.sup&&(c=t.havingStyle(t.style.sup()),n=x(e.value.sup,c,t),y(e.value.base)||(l=r.height-c.fontMetrics().supDrop*c.sizeMultiplier/t.sizeMultiplier)),e.value.sub&&(c=t.havingStyle(t.style.sub()),i=x(e.value.sub,c,t),y(e.value.base)||(f=r.depth+c.fontMetrics().subDrop*c.sizeMultiplier/t.sizeMultiplier));var h=void 0;h=t.style===o.default.DISPLAY?a.sup1:t.style.cramped?a.sup3:a.sup2;var d=t.sizeMultiplier,v=.5/a.ptPerEm/d+"em",b=void 0;if(e.value.sup)if(e.value.sub){l=Math.max(l,h,n.depth+.25*a.xHeight),f=Math.max(f,a.sub2);var _=a.defaultRuleThickness;if(l-n.depth-(i.height-f)<4*_){f=4*_-(l-n.depth)+i.height;var w=.8*a.xHeight-(l-n.depth);w>0&&(l+=w,f-=w)}var k=[{type:"elem",elem:i,shift:f,marginRight:v},{type:"elem",elem:n,shift:-l,marginRight:v}];r instanceof u.default.symbolNode&&(k[0].marginLeft=-r.italic+"em"),b=s.default.makeVList({positionType:"individualShift",children:k},t)}else l=Math.max(l,h,n.depth+.25*a.xHeight),b=s.default.makeVList({positionType:"shift",positionData:-l,children:[{type:"elem",elem:n,marginRight:v}]},t);else{f=Math.max(f,a.sub1,i.height-.8*a.xHeight);var j=[{type:"elem",elem:i,marginRight:v}];r instanceof u.default.symbolNode&&(j[0].marginLeft=-r.italic+"em"),b=s.default.makeVList({positionType:"shift",positionData:f,children:j},t)}var S=m(r)||"mord";return p([S],[r,p(["msupsub"],[b])],t)},g.spacing=function(e,t){return"\\ "===e.value||"\\space"===e.value||" "===e.value||"~"===e.value?"text"===e.mode?s.default.makeOrd(e,t,"textord"):p(["mspace"],[s.default.mathsym(e.value,e.mode,t)],t):p(["mspace",s.default.spacingFunctions[e.value].className],[],t)};var _=r.makeLineSpan=function(e,t,r){var n=f.default.ruleSpan(e,t);return n.height=r||t.fontMetrics().defaultRuleThickness,n.style.height=n.height+"em",n.maxFontSize=1,n};function w(e,t,r){for(var n=v(e,t,!1),i=t.sizeMultiplier/r.sizeMultiplier,o=0;o<n.length;o++){var a=l.default.indexOf(n[o].classes,"sizing");a<0?Array.prototype.push.apply(n[o].classes,t.sizingClasses(r)):n[o].classes[a+1]==="reset-size"+t.size&&(n[o].classes[a+1]="reset-size"+r.size),n[o].height*=i,n[o].depth*=i}return s.default.makeFragment(n)}g.overline=function(e,t){var r=x(e.value.body,t.havingCrampedStyle()),n=_("overline-line",t),i=s.default.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:r},{type:"kern",size:3*n.height},{type:"elem",elem:n},{type:"kern",size:n.height}]},t);return p(["mord","overline"],[i],t)},g.underline=function(e,t){var r=x(e.value.body,t),n=_("underline-line",t),i=s.default.makeVList({positionType:"top",positionData:r.height,children:[{type:"kern",size:n.height},{type:"elem",elem:n},{type:"kern",size:3*n.height},{type:"elem",elem:r}]},t);return p(["mord","underline"],[i],t)},g.sqrt=function(e,t){var r=x(e.value.body,t.havingCrampedStyle());0===r.height&&(r.height=t.fontMetrics().xHeight),r instanceof u.default.documentFragment&&(r=p([],[r],t));var n=t.fontMetrics().defaultRuleThickness,i=n;t.style.id<o.default.TEXT.id&&(i=t.fontMetrics().xHeight);var c=n+i/4,l=(r.height+r.depth+c+n)*t.sizeMultiplier,f=a.default.customSizedDelim("\\surd",l,!1,t,e.mode),h=t.fontMetrics().sqrtRuleThickness*f.sizeMultiplier,d=f.height-h;d>r.height+r.depth+c&&(c=(c+d-r.height-r.depth)/2);var v=f.height-r.height-c-h;r.style.paddingLeft=f.advanceWidth+"em";var m=s.default.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:r},{type:"kern",size:-(r.height+v)},{type:"elem",elem:f},{type:"kern",size:h}]},t);if(m.children[0].children[0].classes.push("svg-align"),e.value.index){var b=t.havingStyle(o.default.SCRIPTSCRIPT),y=x(e.value.index,b,t),g=.6*(m.height-m.depth),_=s.default.makeVList({positionType:"shift",positionData:-g,children:[{type:"elem",elem:y}]},t),w=p(["root"],[_]);return p(["mord","sqrt"],[w,m],t)}return p(["mord","sqrt"],[m],t)},g.sizing=function(e,t){var r=t.havingSize(e.value.size);return w(e.value.value,r,t)},g.styling=function(e,t){var r={display:o.default.DISPLAY,text:o.default.TEXT,script:o.default.SCRIPT,scriptscript:o.default.SCRIPTSCRIPT}[e.value.style],n=t.havingStyle(r);return w(e.value.value,n,t)},g.font=function(e,t){var r=e.value.font;return x(e.value.body,t.withFont(r))},g.verb=function(e,t){for(var r=s.default.makeVerb(e,t),n=[],i=t.havingStyle(t.style.text()),o=0;o<r.length;o++)if(""===r[o]){var a=p(["mord","rule"],[],i);a.style.marginLeft="0.525em",n.push(a)}else n.push(s.default.makeSymbol(r[o],"Typewriter-Regular",e.mode,i,["mathtt"]));return s.default.tryCombineChars(n),p(["mord","text"].concat(i.sizingClasses(t)),n,i)},g.rule=function(e,t){var r=p(["mord","rule"],[],t),n=0;e.value.shift&&(n=(0,c.calculateSize)(e.value.shift,t));var i=(0,c.calculateSize)(e.value.width,t),o=(0,c.calculateSize)(e.value.height,t);return r.style.borderRightWidth=i+"em",r.style.borderTopWidth=o+"em",r.style.bottom=n+"em",r.width=i,r.height=o+n,r.depth=-n,r.maxFontSize=1.125*o*t.sizeMultiplier,r},g.kern=function(e,t){var r=p(["mord","rule"],[],t);if(e.value.dimension){var n=(0,c.calculateSize)(e.value.dimension,t);r.style.marginLeft=n+"em"}return r},g.accent=function(e,t){var r=e.value.base,n=void 0;if("supsub"===e.type){var i=e;r=(e=i.value.base).value.base,i.value.base=r,n=x(i,t)}var o=x(r,t.havingCrampedStyle()),a=0;if(e.value.isShifty&&y(r)){var u=b(r);a=x(u,t.havingCrampedStyle()).skew}var c=Math.min(o.height,t.fontMetrics().xHeight),l=void 0;if(e.value.isStretchy){l=f.default.svgSpan(e,t);var h=(l=s.default.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:o},{type:"elem",elem:l}]},t)).children[0].children[0].children[1];h.classes.push("svg-align"),a>0&&(h.style.width="calc(100% - "+2*a+"em)",h.style.marginLeft=2*a+"em")}else{var d=s.default.makeSymbol(e.value.label,"Main-Regular",e.mode,t);d.italic=0;var v=null;"\\vec"===e.value.label?v="accent-vec":"\\H"===e.value.label&&(v="accent-hungarian"),l=p([],[d]),(l=p(["accent-body",v],[l])).style.marginLeft=2*a+"em",l=s.default.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:o},{type:"kern",size:-c},{type:"elem",elem:l}]},t)}var m=p(["mord","accent"],[l],t);return n?(n.children[0]=m,n.height=Math.max(m.height,n.height),n.classes[0]="mord",n):m},g.horizBrace=function(e,t){var r=t.style,n="supsub"===e.type,i=void 0,a=void 0;n&&(e.value.sup?(a=t.havingStyle(r.sup()),i=x(e.value.sup,a,t)):(a=t.havingStyle(r.sub()),i=x(e.value.sub,a,t)),e=e.value.base);var u=x(e.value.base,t.havingBaseStyle(o.default.DISPLAY)),c=f.default.svgSpan(e,t),l=void 0;if(e.value.isOver?(l=s.default.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:u},{type:"kern",size:.1},{type:"elem",elem:c}]},t)).children[0].children[0].children[1].classes.push("svg-align"):(l=s.default.makeVList({positionType:"bottom",positionData:u.depth+.1+c.height,children:[{type:"elem",elem:c},{type:"kern",size:.1},{type:"elem",elem:u}]},t)).children[0].children[0].children[0].classes.push("svg-align"),n){var h=p(["mord",e.value.isOver?"mover":"munder"],[l],t);l=e.value.isOver?s.default.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:h},{type:"kern",size:.2},{type:"elem",elem:i}]},t):s.default.makeVList({positionType:"bottom",positionData:h.depth+.2+i.height,children:[{type:"elem",elem:i},{type:"kern",size:.2},{type:"elem",elem:h}]},t)}return p(["mord",e.value.isOver?"mover":"munder"],[l],t)},g.accentUnder=function(e,t){var r=x(e.value.base,t),n=f.default.svgSpan(e,t),i=/tilde/.test(e.value.label)?.12:0,o=s.default.makeVList({positionType:"bottom",positionData:n.height+i,children:[{type:"elem",elem:n},{type:"kern",size:i},{type:"elem",elem:r}]},t);return o.children[0].children[0].children[0].classes.push("svg-align"),p(["mord","accentunder"],[o],t)},g.enclose=function(e,t){var r=x(e.value.body,t),n=e.value.label.substr(1),i=t.sizeMultiplier,o=void 0,a=0,u=/color/.test(n);if("sout"===n)(o=p(["stretchy","sout"])).height=t.fontMetrics().defaultRuleThickness/i,a=-.5*t.fontMetrics().xHeight;else{r.classes.push(/cancel/.test(n)?"cancel-pad":"boxpad");var c=0;c=/box/.test(n)?"colorbox"===n?.3:.34:y(e.value.body)?.2:0,o=f.default.encloseSpan(r,n,c,t),a=r.depth+c,u&&(o.style.backgroundColor=e.value.backgroundColor.value,"fcolorbox"===n&&(o.style.borderColor=e.value.borderColor.value))}var l=void 0;return l=u?s.default.makeVList({positionType:"individualShift",children:[{type:"elem",elem:o,shift:a},{type:"elem",elem:r,shift:0}]},t):s.default.makeVList({positionType:"individualShift",children:[{type:"elem",elem:r,shift:0},{type:"elem",elem:o,shift:a}]},t),/cancel/.test(n)?(l.children[0].children[0].children[1].classes.push("svg-align"),p(["mord","cancel-lap"],[l],t)):p(["mord"],[l],t)},g.xArrow=function(e,t){var r=t.style,n=t.havingStyle(r.sup()),i=x(e.value.body,n,t);i.classes.push("x-arrow-pad");var o=void 0;e.value.below&&(n=t.havingStyle(r.sub()),(o=x(e.value.below,n,t)).classes.push("x-arrow-pad"));var a=f.default.svgSpan(e,t),u=-t.fontMetrics().axisHeight+.5*a.height,c=-t.fontMetrics().axisHeight-.5*a.height-.111,l=void 0;if(e.value.below){var h=-t.fontMetrics().axisHeight+o.height+.5*a.height+.111;l=s.default.makeVList({positionType:"individualShift",children:[{type:"elem",elem:i,shift:c},{type:"elem",elem:a,shift:u},{type:"elem",elem:o,shift:h}]},t)}else l=s.default.makeVList({positionType:"individualShift",children:[{type:"elem",elem:i,shift:c},{type:"elem",elem:a,shift:u}]},t);return l.children[0].children[0].children[1].classes.push("svg-align"),p(["mrel","x-arrow"],[l],t)},g.mclass=function(e,t){var r=v(e.value.value,t,!0);return p([e.value.mclass],r,t)},g.raisebox=function(e,t){var r=g.sizing({value:{value:[{type:"text",value:{body:e.value.value,font:"mathrm"}}],size:6}},t),n=(0,c.calculateSize)(e.value.dy.value,t);return s.default.makeVList({positionType:"shift",positionData:-n,children:[{type:"elem",elem:r}]},t)};var x=r.buildGroup=function(e,t,r){if(!e)return p();if(g[e.type]){var n=g[e.type](e,t);if(r&&t.size!==r.size){n=p(t.sizingClasses(r),[n],t);var o=t.sizeMultiplier/r.sizeMultiplier;n.height*=o,n.depth*=o}return n}throw new i.default("Got group of unknown type: '"+e.type+"'")}},{"./ParseError":84,"./Style":89,"./buildCommon":91,"./delimiter":97,"./domTree":98,"./stretchy":118,"./units":122,"./utils":123,"babel-runtime/core-js/json/stringify":5}],93:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.buildGroup=r.buildExpression=r.groupTypes=r.makeText=void 0,r.default=function(e,t,r){var i=m(e,r),s=new o.default.MathNode("mrow",i),a=new o.default.MathNode("annotation",[new o.default.TextNode(t)]);a.setAttribute("encoding","application/x-tex");var u=new o.default.MathNode("semantics",[s,a]),c=new o.default.MathNode("math",[u]);return n.default.makeSpan(["katex-mathml"],[c])};var n=f(e("./buildCommon")),i=f(e("./fontMetrics")),o=f(e("./mathMLTree")),s=f(e("./ParseError")),a=f(e("./Style")),u=f(e("./symbols")),c=f(e("./utils")),l=f(e("./stretchy"));function f(e){return e&&e.__esModule?e:{default:e}}var h=r.makeText=function(e,t){return u.default[t][e]&&u.default[t][e].replace&&(e=u.default[t][e].replace),new o.default.TextNode(e)},p=function(e,t){var r=t.font;if(!r)return null;var o=e.mode;if("mathit"===r)return"italic";var s=e.value;if(c.default.contains(["\\imath","\\jmath"],s))return null;u.default[o][s]&&u.default[o][s].replace&&(s=u.default[o][s].replace);var a=n.default.fontMap[r].fontName;return i.default.getCharacterMetrics(s,a)?n.default.fontMap[t.font].variant:null},d=r.groupTypes={},v={mi:"italic",mn:"normal",mtext:"normal"};d.mathord=function(e,t){var r=new o.default.MathNode("mi",[h(e.value,e.mode)]),n=p(e,t)||"italic";return n!==v[r.type]&&r.setAttribute("mathvariant",n),r},d.textord=function(e,t){var r=h(e.value,e.mode),n=p(e,t)||"normal",i=void 0;return i="text"===e.mode?new o.default.MathNode("mtext",[r]):/[0-9]/.test(e.value)?new o.default.MathNode("mn",[r]):"\\prime"===e.value?new o.default.MathNode("mo",[r]):new o.default.MathNode("mi",[r]),n!==v[i.type]&&i.setAttribute("mathvariant",n),i},d.bin=function(e){return new o.default.MathNode("mo",[h(e.value,e.mode)])},d.rel=function(e){return new o.default.MathNode("mo",[h(e.value,e.mode)])},d.open=function(e){return new o.default.MathNode("mo",[h(e.value,e.mode)])},d.close=function(e){return new o.default.MathNode("mo",[h(e.value,e.mode)])},d.inner=function(e){return new o.default.MathNode("mo",[h(e.value,e.mode)])},d.punct=function(e){var t=new o.default.MathNode("mo",[h(e.value,e.mode)]);return t.setAttribute("separator","true"),t},d.ordgroup=function(e,t){var r=m(e.value,t);return new o.default.MathNode("mrow",r)},d.text=function(e,t){for(var r=e.value.body,n=[],i=null,s=0;s<r.length;s++){var a=b(r[s],t);"mtext"===a.type&&null!=i?Array.prototype.push.apply(i.children,a.children):(n.push(a),"mtext"===a.type&&(i=a))}return 1===n.length?n[0]:new o.default.MathNode("mrow",n)},d.color=function(e,t){var r=m(e.value.value,t),n=new o.default.MathNode("mstyle",r);return n.setAttribute("mathcolor",e.value.color),n},d.supsub=function(e,t){var r=!1,n=void 0;e.value.base&&"horizBrace"===e.value.base.value.type&&!!e.value.sup===e.value.base.value.isOver&&(r=!0,n=e.value.base.value.isOver);var i=[b(e.value.base,t,!0)];e.value.sub&&i.push(b(e.value.sub,t,!0)),e.value.sup&&i.push(b(e.value.sup,t,!0));var s=void 0;if(r)s=n?"mover":"munder";else if(e.value.sub)if(e.value.sup){var u=e.value.base;s=u&&u.value.limits&&t.style===a.default.DISPLAY?"munderover":"msubsup"}else s="msub";else s="msup";return new o.default.MathNode(s,i)},d.sqrt=function(e,t){return e.value.index?new o.default.MathNode("mroot",[b(e.value.body,t),b(e.value.index,t)]):new o.default.MathNode("msqrt",[b(e.value.body,t)])},d.accent=function(e,t){var r=void 0;r=e.value.isStretchy?l.default.mathMLnode(e.value.label):new o.default.MathNode("mo",[h(e.value.label,e.mode)]);var n=new o.default.MathNode("mover",[b(e.value.base,t),r]);return n.setAttribute("accent","true"),n},d.spacing=function(e){var t=void 0;return"\\ "===e.value||"\\space"===e.value||" "===e.value||"~"===e.value?t=new o.default.MathNode("mtext",[new o.default.TextNode("")]):(t=new o.default.MathNode("mspace")).setAttribute("width",n.default.spacingFunctions[e.value].size),t},d.font=function(e,t){var r=e.value.font;return b(e.value.body,t.withFont(r))},d.styling=function(e,t){var r={display:a.default.DISPLAY,text:a.default.TEXT,script:a.default.SCRIPT,scriptscript:a.default.SCRIPTSCRIPT}[e.value.style],n=t.havingStyle(r),i=m(e.value.value,n),s=new o.default.MathNode("mstyle",i),u={display:["0","true"],text:["0","false"],script:["1","false"],scriptscript:["2","false"]}[e.value.style];return s.setAttribute("scriptlevel",u[0]),s.setAttribute("displaystyle",u[1]),s},d.sizing=function(e,t){var r=t.havingSize(e.value.size),n=m(e.value.value,r),i=new o.default.MathNode("mstyle",n);return i.setAttribute("mathsize",r.sizeMultiplier+"em"),i},d.verb=function(e,t){var r=new o.default.TextNode(n.default.makeVerb(e,t)),i=new o.default.MathNode("mtext",[r]);return i.setAttribute("mathvariant",n.default.fontMap.mathtt.variant),i},d.overline=function(e,t){var r=new o.default.MathNode("mo",[new o.default.TextNode("")]);r.setAttribute("stretchy","true");var n=new o.default.MathNode("mover",[b(e.value.body,t),r]);return n.setAttribute("accent","true"),n},d.underline=function(e,t){var r=new o.default.MathNode("mo",[new o.default.TextNode("")]);r.setAttribute("stretchy","true");var n=new o.default.MathNode("munder",[b(e.value.body,t),r]);return n.setAttribute("accentunder","true"),n},d.accentUnder=function(e,t){var r=l.default.mathMLnode(e.value.label),n=new o.default.MathNode("munder",[b(e.value.body,t),r]);return n.setAttribute("accentunder","true"),n},d.enclose=function(e,t){var r=new o.default.MathNode("menclose",[b(e.value.body,t)]);switch(e.value.label){case"\\cancel":r.setAttribute("notation","updiagonalstrike");break;case"\\bcancel":r.setAttribute("notation","downdiagonalstrike");break;case"\\sout":r.setAttribute("notation","horizontalstrike");break;case"\\fbox":r.setAttribute("notation","box");break;case"\\colorbox":r.setAttribute("mathbackground",e.value.backgroundColor.value);break;case"\\fcolorbox":r.setAttribute("mathbackground",e.value.backgroundColor.value),r.setAttribute("notation","box");break;default:r.setAttribute("notation","updiagonalstrike downdiagonalstrike")}return r},d.horizBrace=function(e,t){var r=l.default.mathMLnode(e.value.label);return new o.default.MathNode(e.value.isOver?"mover":"munder",[b(e.value.base,t),r])},d.xArrow=function(e,t){var r=l.default.mathMLnode(e.value.label),n=void 0,i=void 0;if(e.value.body){var s=b(e.value.body,t);e.value.below?(i=b(e.value.below,t),n=new o.default.MathNode("munderover",[r,i,s])):n=new o.default.MathNode("mover",[r,s])}else e.value.below?(i=b(e.value.below,t),n=new o.default.MathNode("munder",[r,i])):n=new o.default.MathNode("mover",[r]);return n},d.rule=function(e){return new o.default.MathNode("mrow")},d.kern=function(e){return new o.default.MathNode("mrow")},d.mclass=function(e,t){var r=m(e.value.value,t);return new o.default.MathNode("mstyle",r)},d.raisebox=function(e,t){var r=new o.default.MathNode("mpadded",[b(e.value.body,t)]),n=e.value.dy.value.number+e.value.dy.value.unit;return r.setAttribute("voffset",n),r};var m=r.buildExpression=function(e,t){for(var r=[],n=0;n<e.length;n++){var i=e[n];r.push(b(i,t))}return r},b=r.buildGroup=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!e)return new o.default.MathNode("mrow");if(d[e.type]){var n=d[e.type](e,t);return r&&"mrow"===n.type&&1===n.children.length?n.children[0]:n}throw new s.default("Got group of unknown type: '"+e.type+"'")}},{"./ParseError":84,"./Style":89,"./buildCommon":91,"./fontMetrics":101,"./mathMLTree":116,"./stretchy":118,"./symbols":120,"./utils":123}],94:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=c(e("./buildHTML")),i=c(e("./buildMathML")),o=c(e("./buildCommon")),s=c(e("./Options")),a=c(e("./Settings")),u=c(e("./Style"));function c(e){return e&&e.__esModule?e:{default:e}}r.default=function(e,t,r){r=r||new a.default({});var c=u.default.TEXT;r.displayMode&&(c=u.default.DISPLAY);var l=new s.default({style:c,maxSize:r.maxSize}),f=(0,i.default)(e,t,l),h=(0,n.default)(e,l),p=o.default.makeSpan(["katex"],[f,h]);return r.displayMode?o.default.makeSpan(["katex-display"],[p]):p}},{"./Options":83,"./Settings":87,"./Style":89,"./buildCommon":91,"./buildHTML":92,"./buildMathML":93}],95:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r._environments=void 0,r.default=function(e){for(var t=e.type,r=e.names,o=e.props,a=e.handler,u=e.htmlBuilder,c=e.mathmlBuilder,l={numArgs:o.numArgs||0,greediness:1,allowedInText:!1,numOptionalArgs:0,handler:a},f=0;f<r.length;++f)s[r[f]]=l;u&&(n.groupTypes[t]=u);c&&(i.groupTypes[t]=c)};var n=e("./buildHTML"),i=e("./buildMathML");o(e("./Options")),o(e("./ParseNode"));function o(e){return e&&e.__esModule?e:{default:e}}var s=r._environments={}},{"./Options":83,"./ParseNode":85,"./buildHTML":92,"./buildMathML":93}],96:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.ordargument=r._functions=void 0,r.default=function(e){for(var t=e.type,r=e.names,s=e.props,a=e.handler,u=e.htmlBuilder,c=e.mathmlBuilder,l={numArgs:s.numArgs,argTypes:s.argTypes,greediness:void 0===s.greediness?1:s.greediness,allowedInText:!!s.allowedInText,allowedInMath:void 0===s.allowedInMath||s.allowedInMath,numOptionalArgs:s.numOptionalArgs||0,infix:!!s.infix,handler:a},f=0;f<r.length;++f)o[r[f]]=l;t&&(u&&(n.groupTypes[t]=u),c&&(i.groupTypes[t]=c))};var n=e("./buildHTML"),i=e("./buildMathML"),o=r._functions={};r.ordargument=function(e){return"ordgroup"===e.type?e.value:[e]}},{"./buildHTML":92,"./buildMathML":93}],97:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=l(e("./ParseError")),i=l(e("./Style")),o=l(e("./domTree")),s=l(e("./buildCommon")),a=l(e("./fontMetrics")),u=l(e("./symbols")),c=l(e("./utils"));function l(e){return e&&e.__esModule?e:{default:e}}var f=function(e,t){return u.default.math[e]&&u.default.math[e].replace?a.default.getCharacterMetrics(u.default.math[e].replace,t):a.default.getCharacterMetrics(e,t)},h=function(e,t,r,n){var i=r.havingBaseStyle(t),o=s.default.makeSpan((n||[]).concat(i.sizingClasses(r)),[e],r);return o.delimSizeMultiplier=i.sizeMultiplier/r.sizeMultiplier,o.height*=o.delimSizeMultiplier,o.depth*=o.delimSizeMultiplier,o.maxFontSize=i.sizeMultiplier,o},p=function(e,t,r){var n=t.havingBaseStyle(r),i=(1-t.sizeMultiplier/n.sizeMultiplier)*t.fontMetrics().axisHeight;e.classes.push("delimcenter"),e.style.top=i+"em",e.height-=i,e.depth+=i},d=function(e,t,r,n,o,a){var u,c,l,f,d=(u=e,c=t,l=o,f=n,s.default.makeSymbol(u,"Size"+c+"-Regular",l,f)),v=h(s.default.makeSpan(["delimsizing","size"+t],[d],n),i.default.TEXT,n,a);return r&&p(v,n,i.default.TEXT),v},v=function(e,t,r){var n=void 0;return"Size1-Regular"===t?n="delim-size1":"Size4-Regular"===t&&(n="delim-size4"),{type:"elem",elem:s.default.makeSpan(["delimsizinginner",n],[s.default.makeSpan([],[s.default.makeSymbol(e,t,r)])])}},m=function(e,t,r,n,o,a){var u=void 0,c=void 0,l=void 0,p=void 0;u=l=p=e,c=null;var d="Size1-Regular";"\\uparrow"===e?l=p="":"\\Uparrow"===e?l=p="":"\\downarrow"===e?u=l="":"\\Downarrow"===e?u=l="":"\\updownarrow"===e?(u="\\uparrow",l="",p="\\downarrow"):"\\Updownarrow"===e?(u="\\Uparrow",l="",p="\\Downarrow"):"["===e||"\\lbrack"===e?(u="",l="",p="",d="Size4-Regular"):"]"===e||"\\rbrack"===e?(u="",l="",p="",d="Size4-Regular"):"\\lfloor"===e?(l=u="",p="",d="Size4-Regular"):"\\lceil"===e?(u="",l=p="",d="Size4-Regular"):"\\rfloor"===e?(l=u="",p="",d="Size4-Regular"):"\\rceil"===e?(u="",l=p="",d="Size4-Regular"):"("===e?(u="",l="",p="",d="Size4-Regular"):")"===e?(u="",l="",p="",d="Size4-Regular"):"\\{"===e||"\\lbrace"===e?(u="",c="",p="",l="",d="Size4-Regular"):"\\}"===e||"\\rbrace"===e?(u="",c="",p="",l="",d="Size4-Regular"):"\\lgroup"===e?(u="",p="",l="",d="Size4-Regular"):"\\rgroup"===e?(u="",p="",l="",d="Size4-Regular"):"\\lmoustache"===e?(u="",p="",l="",d="Size4-Regular"):"\\rmoustache"===e&&(u="",p="",l="",d="Size4-Regular");var m=f(u,d),b=m.height+m.depth,y=f(l,d),g=y.height+y.depth,_=f(p,d),w=_.height+_.depth,x=0,k=1;if(null!==c){var j=f(c,d);x=j.height+j.depth,k=2}var S=b+w+x,O=Math.ceil((t-S)/(k*g)),E=S+O*k*g,C=n.fontMetrics().axisHeight;r&&(C*=n.sizeMultiplier);var A=E/2-C,T=[];if(T.push(v(p,d,o)),null===c)for(var M=0;M<O;M++)T.push(v(l,d,o));else{for(var I=0;I<O;I++)T.push(v(l,d,o));T.push(v(c,d,o));for(var N=0;N<O;N++)T.push(v(l,d,o))}T.push(v(u,d,o));var q=n.havingBaseStyle(i.default.TEXT),F=s.default.makeVList({positionType:"bottom",positionData:A,children:T},q);return h(s.default.makeSpan(["delimsizing","mult"],[F],q),i.default.TEXT,n,a)},b=function(e,t,r,n){var i=void 0;"sqrtTall"===e&&(i="M702 0H400000v40H742v"+(r-54)+"l-4 4-4 4c-.667.667\n-2 1.5-4 2.5s-4.167 1.833-6.5 2.5-5.5 1-9.5 1h-12l-28-84c-16.667-52-96.667\n-294.333-240-727l-212 -643 -85 170c-4-3.333-8.333-7.667-13 -13l-13-13l77-155\n 77-156c66 199.333 139 419.667 219 661 l218 661zM702 0H400000v40H742z");var a=new o.default.pathNode(e,i),u=new o.default.svgNode([a],{width:"400em",height:t+"em",viewBox:"0 0 400000 "+r,preserveAspectRatio:"xMinYMin slice"});return s.default.makeSpan(["hide-tail"],[u],n)},y=["(",")","[","\\lbrack","]","\\rbrack","\\{","\\lbrace","\\}","\\rbrace","\\lfloor","\\rfloor","\\lceil","\\rceil","\\surd"],g=["\\uparrow","\\downarrow","\\updownarrow","\\Uparrow","\\Downarrow","\\Updownarrow","|","\\|","\\vert","\\Vert","\\lvert","\\rvert","\\lVert","\\rVert","\\lgroup","\\rgroup","\\lmoustache","\\rmoustache"],_=["<",">","\\langle","\\rangle","/","\\backslash","\\lt","\\gt"],w=[0,1.2,1.8,2.4,3],x=[{type:"small",style:i.default.SCRIPTSCRIPT},{type:"small",style:i.default.SCRIPT},{type:"small",style:i.default.TEXT},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4}],k=[{type:"small",style:i.default.SCRIPTSCRIPT},{type:"small",style:i.default.SCRIPT},{type:"small",style:i.default.TEXT},{type:"stack"}],j=[{type:"small",style:i.default.SCRIPTSCRIPT},{type:"small",style:i.default.SCRIPT},{type:"small",style:i.default.TEXT},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4},{type:"stack"}],S=function(e,t,r,n,i,o){"<"===e||"\\lt"===e?e="\\langle":">"!==e&&"\\gt"!==e||(e="\\rangle");var a,u,l,v,g,S,O,E,C=function(e,t,r,n){for(var i,o=Math.min(2,3-n.style.size);o<r.length&&"stack"!==r[o].type;o++){var s=f(e,"small"===(i=r[o]).type?"Main-Regular":"large"===i.type?"Size"+i.size+"-Regular":"stack"===i.type?"Size4-Regular":void 0),a=s.height+s.depth;if("small"===r[o].type&&(a*=n.havingBaseStyle(r[o].style).sizeMultiplier),a>t)return r[o]}return r[r.length-1]}(e,t,c.default.contains(_,e)?x:c.default.contains(y,e)?j:k,n);return"\\surd"===e?function(e,t,r){var n=void 0,i=r.sizeMultiplier,o=void 0,s=void 0;"small"===t.type?(s=1e3,i=r.havingBaseStyle(t.style).sizeMultiplier/r.sizeMultiplier,(n=b("sqrtMain",o=1*i,s,r)).style.minWidth="0.853em",n.advanceWidth=.833*i):"large"===t.type?(s=1e3*w[t.size],o=w[t.size]/i,(n=b("sqrtSize"+t.size,o,s,r)).style.minWidth="1.02em",n.advanceWidth=1/i):(o=e/i,s=Math.floor(1e3*e),(n=b("sqrtTall",o,s,r)).style.minWidth="0.742em",n.advanceWidth=1.056/i);return n.height=o,n.style.height=o+"em",n.sizeMultiplier=i,n}(t,C,n):"small"===C.type?(a=e,u=C.style,l=r,v=n,g=i,S=o,O=s.default.makeSymbol(a,"Main-Regular",g,v),E=h(O,u,v,S),l&&p(E,v,u),E):"large"===C.type?d(e,C.size,r,n,i,o):"stack"===C.type?m(e,t,r,n,i,o):void 0};r.default={sizedDelim:function(e,t,r,i,o){if("<"===e||"\\lt"===e?e="\\langle":">"!==e&&"\\gt"!==e||(e="\\rangle"),c.default.contains(y,e)||c.default.contains(_,e))return d(e,t,!1,r,i,o);if(c.default.contains(g,e))return m(e,w[t],!1,r,i,o);throw new n.default("Illegal delimiter: '"+e+"'")},customSizedDelim:S,leftRightDelim:function(e,t,r,n,i,o){var s=n.fontMetrics().axisHeight*n.sizeMultiplier,a=5/n.fontMetrics().ptPerEm,u=Math.max(t-s,r+s),c=Math.max(u/500*901,2*u-a);return S(e,c,!0,n,i,o)}}},{"./ParseError":84,"./Style":89,"./buildCommon":91,"./domTree":98,"./fontMetrics":101,"./symbols":120,"./utils":123}],98:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=c(e("babel-runtime/core-js/get-iterator")),i=c(e("babel-runtime/helpers/classCallCheck")),o=c(e("babel-runtime/helpers/createClass")),s=e("./unicodeRegexes"),a=c(e("./utils")),u=c(e("./svgGeometry"));function c(e){return e&&e.__esModule?e:{default:e}}var l=function(e){for(var t=(e=e.slice()).length-1;t>=0;t--)e[t]||e.splice(t,1);return e.join(" ")},f=function(){function e(t,r,n){if((0,i.default)(this,e),this.classes=t||[],this.children=r||[],this.height=0,this.depth=0,this.maxFontSize=0,this.style={},this.attributes={},n){n.style.isTight()&&this.classes.push("mtight");var o=n.getColor();o&&(this.style.color=o)}}return(0,o.default)(e,[{key:"setAttribute",value:function(e,t){this.attributes[e]=t}},{key:"tryCombine",value:function(e){return!1}},{key:"toNode",value:function(){var e=document.createElement("span");e.className=l(this.classes);for(var t in this.style)Object.prototype.hasOwnProperty.call(this.style,t)&&(e.style[t]=this.style[t]);for(var r in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,r)&&e.setAttribute(r,this.attributes[r]);for(var n=0;n<this.children.length;n++)e.appendChild(this.children[n].toNode());return e}},{key:"toMarkup",value:function(){var e="<span";this.classes.length&&(e+=' class="',e+=a.default.escape(l(this.classes)),e+='"');var t="";for(var r in this.style)this.style.hasOwnProperty(r)&&(t+=a.default.hyphenate(r)+":"+this.style[r]+";");t&&(e+=' style="'+a.default.escape(t)+'"');for(var n in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,n)&&(e+=" "+n+'="',e+=a.default.escape(this.attributes[n]),e+='"');e+=">";for(var i=0;i<this.children.length;i++)e+=this.children[i].toMarkup();return e+="</span>"}}]),e}(),h=function(){function e(t,r,n,o){(0,i.default)(this,e),this.href=t,this.classes=r,this.children=n,this.height=0,this.depth=0,this.maxFontSize=0,this.style={},this.attributes={},o.style.isTight()&&this.classes.push("mtight");var s=o.getColor();s&&(this.style.color=s)}return(0,o.default)(e,[{key:"setAttribute",value:function(e,t){this.attributes[e]=t}},{key:"tryCombine",value:function(e){return!1}},{key:"toNode",value:function(){var e=document.createElement("a");e.setAttribute("href",this.href),this.classes.length&&(e.className=l(this.classes));for(var t in this.style)Object.prototype.hasOwnProperty.call(this.style,t)&&(e.style[t]=this.style[t]);for(var r in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,r)&&e.setAttribute(r,this.attributes[r]);for(var n=0;n<this.children.length;n++)e.appendChild(this.children[n].toNode());return e}},{key:"toMarkup",value:function(){var e="<a";e+='href="'+(e+=a.default.escape(this.href))+'"',this.classes.length&&(e+=' class="'+a.default.escape(l(this.classes))+'"');var t="";for(var r in this.style)this.style.hasOwnProperty(r)&&(t+=a.default.hyphenate(r)+":"+this.style[r]+";");t&&(e+=' style="'+a.default.escape(t)+'"');for(var i in this.attributes)"href"!==i&&Object.prototype.hasOwnProperty.call(this.attributes,i)&&(e+=" "+i+'="'+a.default.escape(this.attributes[i])+'"');e+=">";var o=!0,s=!1,u=void 0;try{for(var c,f=(0,n.default)(this.children);!(o=(c=f.next()).done);o=!0){e+=c.value.toMarkup()}}catch(e){s=!0,u=e}finally{try{!o&&f.return&&f.return()}finally{if(s)throw u}}return e+="</a>"}}]),e}(),p=function(){function e(t){(0,i.default)(this,e),this.children=t||[],this.height=0,this.depth=0,this.maxFontSize=0}return(0,o.default)(e,[{key:"toNode",value:function(){for(var e=document.createDocumentFragment(),t=0;t<this.children.length;t++)e.appendChild(this.children[t].toNode());return e}},{key:"toMarkup",value:function(){for(var e="",t=0;t<this.children.length;t++)e+=this.children[t].toMarkup();return e}}]),e}(),d={"":"","":"","":"","":""},v=function(){function e(t,r,n,o,a,u,c){(0,i.default)(this,e),this.value=t,this.height=r||0,this.depth=n||0,this.italic=o||0,this.skew=a||0,this.classes=u||[],this.style=c||{},this.maxFontSize=0,s.cjkRegex.test(this.value)&&(s.hangulRegex.test(this.value)?this.classes.push("hangul_fallback"):this.classes.push("cjk_fallback")),/[]/.test(this.value)&&(this.value=d[this.value])}return(0,o.default)(e,[{key:"tryCombine",value:function(t){if(!t||!(t instanceof e)||this.italic>0||l(this.classes)!==l(t.classes)||this.skew!==t.skew||this.maxFontSize!==t.maxFontSize)return!1;for(var r in this.style)if(this.style.hasOwnProperty(r)&&this.style[r]!==t.style[r])return!1;for(var n in t.style)if(t.style.hasOwnProperty(n)&&this.style[n]!==t.style[n])return!1;return this.value+=t.value,this.height=Math.max(this.height,t.height),this.depth=Math.max(this.depth,t.depth),this.italic=t.italic,!0}},{key:"toNode",value:function(){var e=document.createTextNode(this.value),t=null;this.italic>0&&((t=document.createElement("span")).style.marginRight=this.italic+"em"),this.classes.length>0&&((t=t||document.createElement("span")).className=l(this.classes));for(var r in this.style)this.style.hasOwnProperty(r)&&((t=t||document.createElement("span")).style[r]=this.style[r]);return t?(t.appendChild(e),t):e}},{key:"toMarkup",value:function(){var e=!1,t="<span";this.classes.length&&(e=!0,t+=' class="',t+=a.default.escape(l(this.classes)),t+='"');var r="";this.italic>0&&(r+="margin-right:"+this.italic+"em;");for(var n in this.style)this.style.hasOwnProperty(n)&&(r+=a.default.hyphenate(n)+":"+this.style[n]+";");r&&(e=!0,t+=' style="'+a.default.escape(r)+'"');var i=a.default.escape(this.value);return e?(t+=">",t+=i,t+="</span>"):i}}]),e}(),m=function(){function e(t,r){(0,i.default)(this,e),this.children=t||[],this.attributes=r||{},this.height=0,this.depth=0,this.maxFontSize=0}return(0,o.default)(e,[{key:"toNode",value:function(){var e=document.createElementNS("http://www.w3.org/2000/svg","svg");for(var t in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,t)&&e.setAttribute(t,this.attributes[t]);for(var r=0;r<this.children.length;r++)e.appendChild(this.children[r].toNode());return e}},{key:"toMarkup",value:function(){var e="<svg";for(var t in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,t)&&(e+=" "+t+"='"+this.attributes[t]+"'");e+=">";for(var r=0;r<this.children.length;r++)e+=this.children[r].toMarkup();return e+="</svg>"}}]),e}(),b=function(){function e(t,r){(0,i.default)(this,e),this.pathName=t,this.alternate=r}return(0,o.default)(e,[{key:"toNode",value:function(){var e=document.createElementNS("http://www.w3.org/2000/svg","path");return this.alternate?e.setAttribute("d",this.alternate):e.setAttribute("d",u.default.path[this.pathName]),e}},{key:"toMarkup",value:function(){return this.alternate?"<path d='"+this.alternate+"'/>":"<path d='"+u.default.path[this.pathName]+"'/>"}}]),e}(),y=function(){function e(t){(0,i.default)(this,e),this.attributes=t||{}}return(0,o.default)(e,[{key:"toNode",value:function(){var e=document.createElementNS("http://www.w3.org/2000/svg","line");for(var t in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,t)&&e.setAttribute(t,this.attributes[t]);return e}},{key:"toMarkup",value:function(){var e="<line";for(var t in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,t)&&(e+=" "+t+"='"+this.attributes[t]+"'");return e+="/>"}}]),e}();r.default={span:f,anchor:h,documentFragment:p,symbolNode:v,svgNode:m,pathNode:b,lineNode:y}},{"./svgGeometry":119,"./unicodeRegexes":121,"./utils":123,"babel-runtime/core-js/get-iterator":3,"babel-runtime/helpers/classCallCheck":8,"babel-runtime/helpers/createClass":9}],99:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=e("./defineEnvironment");e("./environments/array.js");var i={has:function(e){return n._environments.hasOwnProperty(e)},get:function(e){return n._environments[e]}};r.default=i},{"./defineEnvironment":95,"./environments/array.js":100}],100:[function(e,t,r){"use strict";var n=d(e("../buildCommon")),i=d(e("../defineEnvironment")),o=d(e("../mathMLTree")),s=d(e("../ParseError")),a=d(e("../ParseNode")),u=e("../units"),c=d(e("../utils")),l=d(e("../stretchy")),f=p(e("../buildHTML")),h=p(e("../buildMathML"));function p(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function d(e){return e&&e.__esModule?e:{default:e}}function v(e,t,r){for(var n=[],i=[n],o=[];;){var u=e.parseExpression(!1,null);u=new a.default("ordgroup",u,e.mode),r&&(u=new a.default("styling",{style:r,value:[u]},e.mode)),n.push(u);var c=e.nextToken.text;if("&"===c)e.consume();else{if("\\end"===c){var l=i[i.length-1];i.length>1&&1===l.length&&0===l[0].value.value[0].value.length&&i.pop();break}if("\\\\"!==c&&"\\cr"!==c)throw new s.default("Expected & or \\\\ or \\end",e.nextToken);var f=e.parseFunction();o.push(f.value.size),n=[],i.push(n)}}return t.body=i,t.rowGaps=o,new a.default(t.type,t,e.mode)}function m(e){return"d"===e.substr(0,1)?"display":"text"}var b=function(e,t){var r=void 0,i=void 0,o=e.value.body.length,a=0,h=new Array(o),p=1/t.fontMetrics().ptPerEm,d=5*p,v=12*p,m=3*p,b=c.default.deflt(e.value.arraystretch,1)*v,y=.7*b,g=.3*b,_=0;for(r=0;r<e.value.body.length;++r){var w=e.value.body[r],x=y,k=g;a<w.length&&(a=w.length);var j=new Array(w.length);for(i=0;i<w.length;++i){var S=f.buildGroup(w[i],t);k<S.depth&&(k=S.depth),x<S.height&&(x=S.height),j[i]=S}var O=0;e.value.rowGaps[r]&&(O=(0,u.calculateSize)(e.value.rowGaps[r].value,t))>0&&(k<(O+=g)&&(k=O),O=0),e.value.addJot&&(k+=m),j.height=x,j.depth=k,_+=x,j.pos=_,_+=k+O,h[r]=j}var E=_/2+t.fontMetrics().axisHeight,C=e.value.cols||[],A=[],T=void 0,M=void 0;for(i=0,M=0;i<a||M<C.length;++i,++M){for(var I=C[M]||{},N=!0;"separator"===I.type;){if(N||((T=n.default.makeSpan(["arraycolsep"],[])).style.width=t.fontMetrics().doubleRuleSep+"em",A.push(T)),"|"!==I.separator)throw new s.default("Invalid separator type: "+I.separator);var q=l.default.ruleSpan("vertical-separator",t);q.style.height=_+"em",q.style.verticalAlign=-(_-E)+"em",A.push(q),I=C[++M]||{},N=!1}if(!(i>=a)){var F=void 0;(i>0||e.value.hskipBeforeAndAfter)&&0!==(F=c.default.deflt(I.pregap,d))&&((T=n.default.makeSpan(["arraycolsep"],[])).style.width=F+"em",A.push(T));var P=[];for(r=0;r<o;++r){var D=h[r],z=D[i];if(z){var L=D.pos-E;z.depth=D.depth,z.height=D.height,P.push({type:"elem",elem:z,shift:L})}}P=n.default.makeVList({positionType:"individualShift",children:P},t),P=n.default.makeSpan(["col-align-"+(I.align||"c")],[P]),A.push(P),(i<a-1||e.value.hskipBeforeAndAfter)&&0!==(F=c.default.deflt(I.postgap,d))&&((T=n.default.makeSpan(["arraycolsep"],[])).style.width=F+"em",A.push(T))}}return h=n.default.makeSpan(["mtable"],A),n.default.makeSpan(["mord"],[h],t)},y=function(e,t){return new o.default.MathNode("mtable",e.value.body.map(function(e){return new o.default.MathNode("mtr",e.map(function(e){return new o.default.MathNode("mtd",[h.buildGroup(e,t)])}))}))},g=function(e,t){var r={type:"array",cols:[],addJot:!0};r=v(e.parser,r,"display");var n=void 0,i=0,o=new a.default("ordgroup",[],e.mode);if(t[0]&&t[0].value){for(var u="",c=0;c<t[0].value.length;c++)u+=t[0].value[c].value;n=Number(u),i=2*n}var l=!i;r.value.body.forEach(function(e){for(var t=1;t<e.length;t+=2){e[t].value.value[0].value.unshift(o)}if(l)i<e.length&&(i=e.length);else{var r=e.length/2;if(n<r)throw new s.default("Too many math in a row: expected "+n+", but got "+r,e)}});for(var f=0;f<i;++f){var h="r",p=0;f%2==1?h="l":f>0&&l&&(p=1),r.value.cols[f]={type:"align",align:h,pregap:p,postgap:0}}return r};(0,i.default)({type:"array",names:["array","darray"],props:{numArgs:1},handler:function(e,t){var r=t[0],n={type:"array",cols:(r=r.value.map?r.value:[r]).map(function(e){var t=e.value;if(-1!=="lcr".indexOf(t))return{type:"align",align:t};if("|"===t)return{type:"separator",separator:"|"};throw new s.default("Unknown column alignment: "+e.value,e)}),hskipBeforeAndAfter:!0};return n=v(e.parser,n,m(e.envName))},htmlBuilder:b,mathmlBuilder:y}),(0,i.default)({type:"array",names:["matrix","pmatrix","bmatrix","Bmatrix","vmatrix","Vmatrix"],props:{numArgs:0},handler:function(e){var t={matrix:null,pmatrix:["(",")"],bmatrix:["[","]"],Bmatrix:["\\{","\\}"],vmatrix:["|","|"],Vmatrix:["\\Vert","\\Vert"]}[e.envName],r={type:"array",hskipBeforeAndAfter:!1};return r=v(e.parser,r,m(e.envName)),t&&(r=new a.default("leftright",{body:[r],left:t[0],right:t[1]},e.mode)),r},htmlBuilder:b,mathmlBuilder:y}),(0,i.default)({type:"array",names:["cases","dcases"],props:{numArgs:0},handler:function(e){var t={type:"array",arraystretch:1.2,cols:[{type:"align",align:"l",pregap:0,postgap:1},{type:"align",align:"l",pregap:0,postgap:0}]};return t=v(e.parser,t,m(e.envName)),t=new a.default("leftright",{body:[t],left:"\\{",right:"."},e.mode)},htmlBuilder:b,mathmlBuilder:y}),(0,i.default)({type:"array",names:["aligned"],props:{numArgs:0},handler:g,htmlBuilder:b,mathmlBuilder:y}),(0,i.default)({type:"array",names:["gathered"],props:{numArgs:0},handler:function(e){var t={type:"array",cols:[{type:"align",align:"c"}],addJot:!0};return t=v(e.parser,t,"display")},htmlBuilder:b,mathmlBuilder:y}),(0,i.default)({type:"array",names:["alignedat"],props:{numArgs:1},handler:g,htmlBuilder:b,mathmlBuilder:y})},{"../ParseError":84,"../ParseNode":85,"../buildCommon":91,"../buildHTML":92,"../buildMathML":93,"../defineEnvironment":95,"../mathMLTree":116,"../stretchy":118,"../units":122,"../utils":123}],101:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n,i=e("./unicodeRegexes"),o=e("./fontMetricsData"),s=(n=o)&&n.__esModule?n:{default:n};var a={slant:[.25,.25,.25],space:[0,0,0],stretch:[0,0,0],shrink:[0,0,0],xHeight:[.431,.431,.431],quad:[1,1.171,1.472],extraSpace:[0,0,0],num1:[.677,.732,.925],num2:[.394,.384,.387],num3:[.444,.471,.504],denom1:[.686,.752,1.025],denom2:[.345,.344,.532],sup1:[.413,.503,.504],sup2:[.363,.431,.404],sup3:[.289,.286,.294],sub1:[.15,.143,.2],sub2:[.247,.286,.4],supDrop:[.386,.353,.494],subDrop:[.05,.071,.1],delim1:[2.39,1.7,1.98],delim2:[1.01,1.157,1.42],axisHeight:[.25,.25,.25],defaultRuleThickness:[.04,.049,.049],bigOpSpacing1:[.111,.111,.111],bigOpSpacing2:[.166,.166,.166],bigOpSpacing3:[.2,.2,.2],bigOpSpacing4:[.6,.611,.611],bigOpSpacing5:[.1,.143,.143],sqrtRuleThickness:[.04,.04,.04],ptPerEm:[10,10,10],doubleRuleSep:[.2,.2,.2]},u={"":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"C","":"E","":"E","":"E","":"E","":"I","":"I","":"I","":"I","":"D","":"N","":"O","":"O","":"O","":"O","":"O","":"O","":"U","":"U","":"U","":"U","":"Y","":"o","":"B","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"c","":"e","":"e","":"e","":"e","":"i","":"i","":"i","":"i","":"d","":"n","":"o","":"o","":"o","":"o","":"o","":"o","":"u","":"u","":"u","":"u","":"y","":"o","":"y","":"A","":"B","":"B","":"F","":"A","":"E","":"K","":"3","":"N","":"N","":"K","":"N","":"M","":"H","":"O","":"N","":"P","":"C","":"T","":"y","":"O","":"X","":"U","":"h","":"W","":"W","":"B","":"X","":"B","":"3","":"X","":"R","":"a","":"b","":"a","":"r","":"y","":"e","":"m","":"e","":"n","":"n","":"n","":"n","":"m","":"n","":"o","":"n","":"p","":"c","":"o","":"y","":"b","":"x","":"n","":"n","":"w","":"w","":"a","":"m","":"a","":"e","":"m","":"r"},c={};r.default={getFontMetrics:function(e){var t=void 0;if(!c[t=e>=5?0:e>=3?1:2]){var r=c[t]={cssEmPerMu:a.quad[t]/18};for(var n in a)a.hasOwnProperty(n)&&(r[n]=a[n][t])}return c[t]},getCharacterMetrics:function(e,t){var r=e.charCodeAt(0);e[0]in u?r=u[e[0]].charCodeAt(0):i.cjkRegex.test(e[0])&&(r="M".charCodeAt(0));var n=s.default[t][""+r];if(n)return{depth:n[0],height:n[1],italic:n[2],skew:n[3],width:n[4]}}}},{"./fontMetricsData":102,"./unicodeRegexes":121}],102:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});r.default={"AMS-Regular":{65:[0,.68889,0,0],66:[0,.68889,0,0],67:[0,.68889,0,0],68:[0,.68889,0,0],69:[0,.68889,0,0],70:[0,.68889,0,0],71:[0,.68889,0,0],72:[0,.68889,0,0],73:[0,.68889,0,0],74:[.16667,.68889,0,0],75:[0,.68889,0,0],76:[0,.68889,0,0],77:[0,.68889,0,0],78:[0,.68889,0,0],79:[.16667,.68889,0,0],80:[0,.68889,0,0],81:[.16667,.68889,0,0],82:[0,.68889,0,0],83:[0,.68889,0,0],84:[0,.68889,0,0],85:[0,.68889,0,0],86:[0,.68889,0,0],87:[0,.68889,0,0],88:[0,.68889,0,0],89:[0,.68889,0,0],90:[0,.68889,0,0],107:[0,.68889,0,0],165:[0,.675,.025,0],174:[.15559,.69224,0,0],240:[0,.68889,0,0],295:[0,.68889,0,0],710:[0,.825,0,0],732:[0,.9,0,0],770:[0,.825,0,0],771:[0,.9,0,0],989:[.08167,.58167,0,0],1008:[0,.43056,.04028,0],8245:[0,.54986,0,0],8463:[0,.68889,0,0],8487:[0,.68889,0,0],8498:[0,.68889,0,0],8502:[0,.68889,0,0],8503:[0,.68889,0,0],8504:[0,.68889,0,0],8513:[0,.68889,0,0],8592:[-.03598,.46402,0,0],8594:[-.03598,.46402,0,0],8602:[-.13313,.36687,0,0],8603:[-.13313,.36687,0,0],8606:[.01354,.52239,0,0],8608:[.01354,.52239,0,0],8610:[.01354,.52239,0,0],8611:[.01354,.52239,0,0],8619:[0,.54986,0,0],8620:[0,.54986,0,0],8621:[-.13313,.37788,0,0],8622:[-.13313,.36687,0,0],8624:[0,.69224,0,0],8625:[0,.69224,0,0],8630:[0,.43056,0,0],8631:[0,.43056,0,0],8634:[.08198,.58198,0,0],8635:[.08198,.58198,0,0],8638:[.19444,.69224,0,0],8639:[.19444,.69224,0,0],8642:[.19444,.69224,0,0],8643:[.19444,.69224,0,0],8644:[.1808,.675,0,0],8646:[.1808,.675,0,0],8647:[.1808,.675,0,0],8648:[.19444,.69224,0,0],8649:[.1808,.675,0,0],8650:[.19444,.69224,0,0],8651:[.01354,.52239,0,0],8652:[.01354,.52239,0,0],8653:[-.13313,.36687,0,0],8654:[-.13313,.36687,0,0],8655:[-.13313,.36687,0,0],8666:[.13667,.63667,0,0],8667:[.13667,.63667,0,0],8669:[-.13313,.37788,0,0],8672:[-.064,.437,0,0],8674:[-.064,.437,0,0],8705:[0,.825,0,0],8708:[0,.68889,0,0],8709:[.08167,.58167,0,0],8717:[0,.43056,0,0],8722:[-.03598,.46402,0,0],8724:[.08198,.69224,0,0],8726:[.08167,.58167,0,0],8733:[0,.69224,0,0],8736:[0,.69224,0,0],8737:[0,.69224,0,0],8738:[.03517,.52239,0,0],8739:[.08167,.58167,0,0],8740:[.25142,.74111,0,0],8741:[.08167,.58167,0,0],8742:[.25142,.74111,0,0],8756:[0,.69224,0,0],8757:[0,.69224,0,0],8764:[-.13313,.36687,0,0],8765:[-.13313,.37788,0,0],8769:[-.13313,.36687,0,0],8770:[-.03625,.46375,0,0],8774:[.30274,.79383,0,0],8776:[-.01688,.48312,0,0],8778:[.08167,.58167,0,0],8782:[.06062,.54986,0,0],8783:[.06062,.54986,0,0],8785:[.08198,.58198,0,0],8786:[.08198,.58198,0,0],8787:[.08198,.58198,0,0],8790:[0,.69224,0,0],8791:[.22958,.72958,0,0],8796:[.08198,.91667,0,0],8806:[.25583,.75583,0,0],8807:[.25583,.75583,0,0],8808:[.25142,.75726,0,0],8809:[.25142,.75726,0,0],8812:[.25583,.75583,0,0],8814:[.20576,.70576,0,0],8815:[.20576,.70576,0,0],8816:[.30274,.79383,0,0],8817:[.30274,.79383,0,0],8818:[.22958,.72958,0,0],8819:[.22958,.72958,0,0],8822:[.1808,.675,0,0],8823:[.1808,.675,0,0],8828:[.13667,.63667,0,0],8829:[.13667,.63667,0,0],8830:[.22958,.72958,0,0],8831:[.22958,.72958,0,0],8832:[.20576,.70576,0,0],8833:[.20576,.70576,0,0],8840:[.30274,.79383,0,0],8841:[.30274,.79383,0,0],8842:[.13597,.63597,0,0],8843:[.13597,.63597,0,0],8847:[.03517,.54986,0,0],8848:[.03517,.54986,0,0],8858:[.08198,.58198,0,0],8859:[.08198,.58198,0,0],8861:[.08198,.58198,0,0],8862:[0,.675,0,0],8863:[0,.675,0,0],8864:[0,.675,0,0],8865:[0,.675,0,0],8872:[0,.69224,0,0],8873:[0,.69224,0,0],8874:[0,.69224,0,0],8876:[0,.68889,0,0],8877:[0,.68889,0,0],8878:[0,.68889,0,0],8879:[0,.68889,0,0],8882:[.03517,.54986,0,0],8883:[.03517,.54986,0,0],8884:[.13667,.63667,0,0],8885:[.13667,.63667,0,0],8888:[0,.54986,0,0],8890:[.19444,.43056,0,0],8891:[.19444,.69224,0,0],8892:[.19444,.69224,0,0],8901:[0,.54986,0,0],8903:[.08167,.58167,0,0],8905:[.08167,.58167,0,0],8906:[.08167,.58167,0,0],8907:[0,.69224,0,0],8908:[0,.69224,0,0],8909:[-.03598,.46402,0,0],8910:[0,.54986,0,0],8911:[0,.54986,0,0],8912:[.03517,.54986,0,0],8913:[.03517,.54986,0,0],8914:[0,.54986,0,0],8915:[0,.54986,0,0],8916:[0,.69224,0,0],8918:[.0391,.5391,0,0],8919:[.0391,.5391,0,0],8920:[.03517,.54986,0,0],8921:[.03517,.54986,0,0],8922:[.38569,.88569,0,0],8923:[.38569,.88569,0,0],8926:[.13667,.63667,0,0],8927:[.13667,.63667,0,0],8928:[.30274,.79383,0,0],8929:[.30274,.79383,0,0],8934:[.23222,.74111,0,0],8935:[.23222,.74111,0,0],8936:[.23222,.74111,0,0],8937:[.23222,.74111,0,0],8938:[.20576,.70576,0,0],8939:[.20576,.70576,0,0],8940:[.30274,.79383,0,0],8941:[.30274,.79383,0,0],8994:[.19444,.69224,0,0],8995:[.19444,.69224,0,0],9416:[.15559,.69224,0,0],9484:[0,.69224,0,0],9488:[0,.69224,0,0],9492:[0,.37788,0,0],9496:[0,.37788,0,0],9585:[.19444,.68889,0,0],9586:[.19444,.74111,0,0],9632:[0,.675,0,0],9633:[0,.675,0,0],9650:[0,.54986,0,0],9651:[0,.54986,0,0],9654:[.03517,.54986,0,0],9660:[0,.54986,0,0],9661:[0,.54986,0,0],9664:[.03517,.54986,0,0],9674:[.11111,.69224,0,0],9733:[.19444,.69224,0,0],10003:[0,.69224,0,0],10016:[0,.69224,0,0],10731:[.11111,.69224,0,0],10846:[.19444,.75583,0,0],10877:[.13667,.63667,0,0],10878:[.13667,.63667,0,0],10885:[.25583,.75583,0,0],10886:[.25583,.75583,0,0],10887:[.13597,.63597,0,0],10888:[.13597,.63597,0,0],10889:[.26167,.75726,0,0],10890:[.26167,.75726,0,0],10891:[.48256,.98256,0,0],10892:[.48256,.98256,0,0],10901:[.13667,.63667,0,0],10902:[.13667,.63667,0,0],10933:[.25142,.75726,0,0],10934:[.25142,.75726,0,0],10935:[.26167,.75726,0,0],10936:[.26167,.75726,0,0],10937:[.26167,.75726,0,0],10938:[.26167,.75726,0,0],10949:[.25583,.75583,0,0],10950:[.25583,.75583,0,0],10955:[.28481,.79383,0,0],10956:[.28481,.79383,0,0],57350:[.08167,.58167,0,0],57351:[.08167,.58167,0,0],57352:[.08167,.58167,0,0],57353:[0,.43056,.04028,0],57356:[.25142,.75726,0,0],57357:[.25142,.75726,0,0],57358:[.41951,.91951,0,0],57359:[.30274,.79383,0,0],57360:[.30274,.79383,0,0],57361:[.41951,.91951,0,0],57366:[.25142,.75726,0,0],57367:[.25142,.75726,0,0],57368:[.25142,.75726,0,0],57369:[.25142,.75726,0,0],57370:[.13597,.63597,0,0],57371:[.13597,.63597,0,0]},"Caligraphic-Regular":{48:[0,.43056,0,0],49:[0,.43056,0,0],50:[0,.43056,0,0],51:[.19444,.43056,0,0],52:[.19444,.43056,0,0],53:[.19444,.43056,0,0],54:[0,.64444,0,0],55:[.19444,.43056,0,0],56:[0,.64444,0,0],57:[.19444,.43056,0,0],65:[0,.68333,0,.19445],66:[0,.68333,.03041,.13889],67:[0,.68333,.05834,.13889],68:[0,.68333,.02778,.08334],69:[0,.68333,.08944,.11111],70:[0,.68333,.09931,.11111],71:[.09722,.68333,.0593,.11111],72:[0,.68333,.00965,.11111],73:[0,.68333,.07382,0],74:[.09722,.68333,.18472,.16667],75:[0,.68333,.01445,.05556],76:[0,.68333,0,.13889],77:[0,.68333,0,.13889],78:[0,.68333,.14736,.08334],79:[0,.68333,.02778,.11111],80:[0,.68333,.08222,.08334],81:[.09722,.68333,0,.11111],82:[0,.68333,0,.08334],83:[0,.68333,.075,.13889],84:[0,.68333,.25417,0],85:[0,.68333,.09931,.08334],86:[0,.68333,.08222,0],87:[0,.68333,.08222,.08334],88:[0,.68333,.14643,.13889],89:[.09722,.68333,.08222,.08334],90:[0,.68333,.07944,.13889]},"Fraktur-Regular":{33:[0,.69141,0,0],34:[0,.69141,0,0],38:[0,.69141,0,0],39:[0,.69141,0,0],40:[.24982,.74947,0,0],41:[.24982,.74947,0,0],42:[0,.62119,0,0],43:[.08319,.58283,0,0],44:[0,.10803,0,0],45:[.08319,.58283,0,0],46:[0,.10803,0,0],47:[.24982,.74947,0,0],48:[0,.47534,0,0],49:[0,.47534,0,0],50:[0,.47534,0,0],51:[.18906,.47534,0,0],52:[.18906,.47534,0,0],53:[.18906,.47534,0,0],54:[0,.69141,0,0],55:[.18906,.47534,0,0],56:[0,.69141,0,0],57:[.18906,.47534,0,0],58:[0,.47534,0,0],59:[.12604,.47534,0,0],61:[-.13099,.36866,0,0],63:[0,.69141,0,0],65:[0,.69141,0,0],66:[0,.69141,0,0],67:[0,.69141,0,0],68:[0,.69141,0,0],69:[0,.69141,0,0],70:[.12604,.69141,0,0],71:[0,.69141,0,0],72:[.06302,.69141,0,0],73:[0,.69141,0,0],74:[.12604,.69141,0,0],75:[0,.69141,0,0],76:[0,.69141,0,0],77:[0,.69141,0,0],78:[0,.69141,0,0],79:[0,.69141,0,0],80:[.18906,.69141,0,0],81:[.03781,.69141,0,0],82:[0,.69141,0,0],83:[0,.69141,0,0],84:[0,.69141,0,0],85:[0,.69141,0,0],86:[0,.69141,0,0],87:[0,.69141,0,0],88:[0,.69141,0,0],89:[.18906,.69141,0,0],90:[.12604,.69141,0,0],91:[.24982,.74947,0,0],93:[.24982,.74947,0,0],94:[0,.69141,0,0],97:[0,.47534,0,0],98:[0,.69141,0,0],99:[0,.47534,0,0],100:[0,.62119,0,0],101:[0,.47534,0,0],102:[.18906,.69141,0,0],103:[.18906,.47534,0,0],104:[.18906,.69141,0,0],105:[0,.69141,0,0],106:[0,.69141,0,0],107:[0,.69141,0,0],108:[0,.69141,0,0],109:[0,.47534,0,0],110:[0,.47534,0,0],111:[0,.47534,0,0],112:[.18906,.52396,0,0],113:[.18906,.47534,0,0],114:[0,.47534,0,0],115:[0,.47534,0,0],116:[0,.62119,0,0],117:[0,.47534,0,0],118:[0,.52396,0,0],119:[0,.52396,0,0],120:[.18906,.47534,0,0],121:[.18906,.47534,0,0],122:[.18906,.47534,0,0],8216:[0,.69141,0,0],8217:[0,.69141,0,0],58112:[0,.62119,0,0],58113:[0,.62119,0,0],58114:[.18906,.69141,0,0],58115:[.18906,.69141,0,0],58116:[.18906,.47534,0,0],58117:[0,.69141,0,0],58118:[0,.62119,0,0],58119:[0,.47534,0,0]},"Main-Bold":{33:[0,.69444,0,0],34:[0,.69444,0,0],35:[.19444,.69444,0,0],36:[.05556,.75,0,0],37:[.05556,.75,0,0],38:[0,.69444,0,0],39:[0,.69444,0,0],40:[.25,.75,0,0],41:[.25,.75,0,0],42:[0,.75,0,0],43:[.13333,.63333,0,0],44:[.19444,.15556,0,0],45:[0,.44444,0,0],46:[0,.15556,0,0],47:[.25,.75,0,0],48:[0,.64444,0,0],49:[0,.64444,0,0],50:[0,.64444,0,0],51:[0,.64444,0,0],52:[0,.64444,0,0],53:[0,.64444,0,0],54:[0,.64444,0,0],55:[0,.64444,0,0],56:[0,.64444,0,0],57:[0,.64444,0,0],58:[0,.44444,0,0],59:[.19444,.44444,0,0],60:[.08556,.58556,0,0],61:[-.10889,.39111,0,0],62:[.08556,.58556,0,0],63:[0,.69444,0,0],64:[0,.69444,0,0],65:[0,.68611,0,0],66:[0,.68611,0,0],67:[0,.68611,0,0],68:[0,.68611,0,0],69:[0,.68611,0,0],70:[0,.68611,0,0],71:[0,.68611,0,0],72:[0,.68611,0,0],73:[0,.68611,0,0],74:[0,.68611,0,0],75:[0,.68611,0,0],76:[0,.68611,0,0],77:[0,.68611,0,0],78:[0,.68611,0,0],79:[0,.68611,0,0],80:[0,.68611,0,0],81:[.19444,.68611,0,0],82:[0,.68611,0,0],83:[0,.68611,0,0],84:[0,.68611,0,0],85:[0,.68611,0,0],86:[0,.68611,.01597,0],87:[0,.68611,.01597,0],88:[0,.68611,0,0],89:[0,.68611,.02875,0],90:[0,.68611,0,0],91:[.25,.75,0,0],92:[.25,.75,0,0],93:[.25,.75,0,0],94:[0,.69444,0,0],95:[.31,.13444,.03194,0],96:[0,.69444,0,0],97:[0,.44444,0,0],98:[0,.69444,0,0],99:[0,.44444,0,0],100:[0,.69444,0,0],101:[0,.44444,0,0],102:[0,.69444,.10903,0],103:[.19444,.44444,.01597,0],104:[0,.69444,0,0],105:[0,.69444,0,0],106:[.19444,.69444,0,0],107:[0,.69444,0,0],108:[0,.69444,0,0],109:[0,.44444,0,0],110:[0,.44444,0,0],111:[0,.44444,0,0],112:[.19444,.44444,0,0],113:[.19444,.44444,0,0],114:[0,.44444,0,0],115:[0,.44444,0,0],116:[0,.63492,0,0],117:[0,.44444,0,0],118:[0,.44444,.01597,0],119:[0,.44444,.01597,0],120:[0,.44444,0,0],121:[.19444,.44444,.01597,0],122:[0,.44444,0,0],123:[.25,.75,0,0],124:[.25,.75,0,0],125:[.25,.75,0,0],126:[.35,.34444,0,0],168:[0,.69444,0,0],172:[0,.44444,0,0],175:[0,.59611,0,0],176:[0,.69444,0,0],177:[.13333,.63333,0,0],180:[0,.69444,0,0],215:[.13333,.63333,0,0],247:[.13333,.63333,0,0],305:[0,.44444,0,0],567:[.19444,.44444,0,0],710:[0,.69444,0,0],711:[0,.63194,0,0],713:[0,.59611,0,0],714:[0,.69444,0,0],715:[0,.69444,0,0],728:[0,.69444,0,0],729:[0,.69444,0,0],730:[0,.69444,0,0],732:[0,.69444,0,0],768:[0,.69444,0,0],769:[0,.69444,0,0],770:[0,.69444,0,0],771:[0,.69444,0,0],772:[0,.59611,0,0],774:[0,.69444,0,0],775:[0,.69444,0,0],776:[0,.69444,0,0],778:[0,.69444,0,0],779:[0,.69444,0,0],780:[0,.63194,0,0],824:[.19444,.69444,0,0],915:[0,.68611,0,0],916:[0,.68611,0,0],920:[0,.68611,0,0],923:[0,.68611,0,0],926:[0,.68611,0,0],928:[0,.68611,0,0],931:[0,.68611,0,0],933:[0,.68611,0,0],934:[0,.68611,0,0],936:[0,.68611,0,0],937:[0,.68611,0,0],8211:[0,.44444,.03194,0],8212:[0,.44444,.03194,0],8216:[0,.69444,0,0],8217:[0,.69444,0,0],8220:[0,.69444,0,0],8221:[0,.69444,0,0],8224:[.19444,.69444,0,0],8225:[.19444,.69444,0,0],8242:[0,.55556,0,0],8407:[0,.72444,.15486,0],8463:[0,.69444,0,0],8465:[0,.69444,0,0],8467:[0,.69444,0,0],8472:[.19444,.44444,0,0],8476:[0,.69444,0,0],8501:[0,.69444,0,0],8592:[-.10889,.39111,0,0],8593:[.19444,.69444,0,0],8594:[-.10889,.39111,0,0],8595:[.19444,.69444,0,0],8596:[-.10889,.39111,0,0],8597:[.25,.75,0,0],8598:[.19444,.69444,0,0],8599:[.19444,.69444,0,0],8600:[.19444,.69444,0,0],8601:[.19444,.69444,0,0],8636:[-.10889,.39111,0,0],8637:[-.10889,.39111,0,0],8640:[-.10889,.39111,0,0],8641:[-.10889,.39111,0,0],8656:[-.10889,.39111,0,0],8657:[.19444,.69444,0,0],8658:[-.10889,.39111,0,0],8659:[.19444,.69444,0,0],8660:[-.10889,.39111,0,0],8661:[.25,.75,0,0],8704:[0,.69444,0,0],8706:[0,.69444,.06389,0],8707:[0,.69444,0,0],8709:[.05556,.75,0,0],8711:[0,.68611,0,0],8712:[.08556,.58556,0,0],8715:[.08556,.58556,0,0],8722:[.13333,.63333,0,0],8723:[.13333,.63333,0,0],8725:[.25,.75,0,0],8726:[.25,.75,0,0],8727:[-.02778,.47222,0,0],8728:[-.02639,.47361,0,0],8729:[-.02639,.47361,0,0],8730:[.18,.82,0,0],8733:[0,.44444,0,0],8734:[0,.44444,0,0],8736:[0,.69224,0,0],8739:[.25,.75,0,0],8741:[.25,.75,0,0],8743:[0,.55556,0,0],8744:[0,.55556,0,0],8745:[0,.55556,0,0],8746:[0,.55556,0,0],8747:[.19444,.69444,.12778,0],8764:[-.10889,.39111,0,0],8768:[.19444,.69444,0,0],8771:[.00222,.50222,0,0],8776:[.02444,.52444,0,0],8781:[.00222,.50222,0,0],8801:[.00222,.50222,0,0],8804:[.19667,.69667,0,0],8805:[.19667,.69667,0,0],8810:[.08556,.58556,0,0],8811:[.08556,.58556,0,0],8826:[.08556,.58556,0,0],8827:[.08556,.58556,0,0],8834:[.08556,.58556,0,0],8835:[.08556,.58556,0,0],8838:[.19667,.69667,0,0],8839:[.19667,.69667,0,0],8846:[0,.55556,0,0],8849:[.19667,.69667,0,0],8850:[.19667,.69667,0,0],8851:[0,.55556,0,0],8852:[0,.55556,0,0],8853:[.13333,.63333,0,0],8854:[.13333,.63333,0,0],8855:[.13333,.63333,0,0],8856:[.13333,.63333,0,0],8857:[.13333,.63333,0,0],8866:[0,.69444,0,0],8867:[0,.69444,0,0],8868:[0,.69444,0,0],8869:[0,.69444,0,0],8900:[-.02639,.47361,0,0],8901:[-.02639,.47361,0,0],8902:[-.02778,.47222,0,0],8968:[.25,.75,0,0],8969:[.25,.75,0,0],8970:[.25,.75,0,0],8971:[.25,.75,0,0],8994:[-.13889,.36111,0,0],8995:[-.13889,.36111,0,0],9651:[.19444,.69444,0,0],9657:[-.02778,.47222,0,0],9661:[.19444,.69444,0,0],9667:[-.02778,.47222,0,0],9711:[.19444,.69444,0,0],9824:[.12963,.69444,0,0],9825:[.12963,.69444,0,0],9826:[.12963,.69444,0,0],9827:[.12963,.69444,0,0],9837:[0,.75,0,0],9838:[.19444,.69444,0,0],9839:[.19444,.69444,0,0],10216:[.25,.75,0,0],10217:[.25,.75,0,0],10815:[0,.68611,0,0],10927:[.19667,.69667,0,0],10928:[.19667,.69667,0,0]},"Main-Italic":{33:[0,.69444,.12417,0],34:[0,.69444,.06961,0],35:[.19444,.69444,.06616,0],37:[.05556,.75,.13639,0],38:[0,.69444,.09694,0],39:[0,.69444,.12417,0],40:[.25,.75,.16194,0],41:[.25,.75,.03694,0],42:[0,.75,.14917,0],43:[.05667,.56167,.03694,0],44:[.19444,.10556,0,0],45:[0,.43056,.02826,0],46:[0,.10556,0,0],47:[.25,.75,.16194,0],48:[0,.64444,.13556,0],49:[0,.64444,.13556,0],50:[0,.64444,.13556,0],51:[0,.64444,.13556,0],52:[.19444,.64444,.13556,0],53:[0,.64444,.13556,0],54:[0,.64444,.13556,0],55:[.19444,.64444,.13556,0],56:[0,.64444,.13556,0],57:[0,.64444,.13556,0],58:[0,.43056,.0582,0],59:[.19444,.43056,.0582,0],61:[-.13313,.36687,.06616,0],63:[0,.69444,.1225,0],64:[0,.69444,.09597,0],65:[0,.68333,0,0],66:[0,.68333,.10257,0],67:[0,.68333,.14528,0],68:[0,.68333,.09403,0],69:[0,.68333,.12028,0],70:[0,.68333,.13305,0],71:[0,.68333,.08722,0],72:[0,.68333,.16389,0],73:[0,.68333,.15806,0],74:[0,.68333,.14028,0],75:[0,.68333,.14528,0],76:[0,.68333,0,0],77:[0,.68333,.16389,0],78:[0,.68333,.16389,0],79:[0,.68333,.09403,0],80:[0,.68333,.10257,0],81:[.19444,.68333,.09403,0],82:[0,.68333,.03868,0],83:[0,.68333,.11972,0],84:[0,.68333,.13305,0],85:[0,.68333,.16389,0],86:[0,.68333,.18361,0],87:[0,.68333,.18361,0],88:[0,.68333,.15806,0],89:[0,.68333,.19383,0],90:[0,.68333,.14528,0],91:[.25,.75,.1875,0],93:[.25,.75,.10528,0],94:[0,.69444,.06646,0],95:[.31,.12056,.09208,0],97:[0,.43056,.07671,0],98:[0,.69444,.06312,0],99:[0,.43056,.05653,0],100:[0,.69444,.10333,0],101:[0,.43056,.07514,0],102:[.19444,.69444,.21194,0],103:[.19444,.43056,.08847,0],104:[0,.69444,.07671,0],105:[0,.65536,.1019,0],106:[.19444,.65536,.14467,0],107:[0,.69444,.10764,0],108:[0,.69444,.10333,0],109:[0,.43056,.07671,0],110:[0,.43056,.07671,0],111:[0,.43056,.06312,0],112:[.19444,.43056,.06312,0],113:[.19444,.43056,.08847,0],114:[0,.43056,.10764,0],115:[0,.43056,.08208,0],116:[0,.61508,.09486,0],117:[0,.43056,.07671,0],118:[0,.43056,.10764,0],119:[0,.43056,.10764,0],120:[0,.43056,.12042,0],121:[.19444,.43056,.08847,0],122:[0,.43056,.12292,0],126:[.35,.31786,.11585,0],163:[0,.69444,0,0],305:[0,.43056,0,.02778],567:[.19444,.43056,0,.08334],768:[0,.69444,0,0],769:[0,.69444,.09694,0],770:[0,.69444,.06646,0],771:[0,.66786,.11585,0],772:[0,.56167,.10333,0],774:[0,.69444,.10806,0],775:[0,.66786,.11752,0],776:[0,.66786,.10474,0],778:[0,.69444,0,0],779:[0,.69444,.1225,0],780:[0,.62847,.08295,0],915:[0,.68333,.13305,0],916:[0,.68333,0,0],920:[0,.68333,.09403,0],923:[0,.68333,0,0],926:[0,.68333,.15294,0],928:[0,.68333,.16389,0],931:[0,.68333,.12028,0],933:[0,.68333,.11111,0],934:[0,.68333,.05986,0],936:[0,.68333,.11111,0],937:[0,.68333,.10257,0],8211:[0,.43056,.09208,0],8212:[0,.43056,.09208,0],8216:[0,.69444,.12417,0],8217:[0,.69444,.12417,0],8220:[0,.69444,.1685,0],8221:[0,.69444,.06961,0],8463:[0,.68889,0,0]},"Main-Regular":{32:[0,0,0,0],33:[0,.69444,0,0],34:[0,.69444,0,0],35:[.19444,.69444,0,0],36:[.05556,.75,0,0],37:[.05556,.75,0,0],38:[0,.69444,0,0],39:[0,.69444,0,0],40:[.25,.75,0,0],41:[.25,.75,0,0],42:[0,.75,0,0],43:[.08333,.58333,0,0],44:[.19444,.10556,0,0],45:[0,.43056,0,0],46:[0,.10556,0,0],47:[.25,.75,0,0],48:[0,.64444,0,0],49:[0,.64444,0,0],50:[0,.64444,0,0],51:[0,.64444,0,0],52:[0,.64444,0,0],53:[0,.64444,0,0],54:[0,.64444,0,0],55:[0,.64444,0,0],56:[0,.64444,0,0],57:[0,.64444,0,0],58:[0,.43056,0,0],59:[.19444,.43056,0,0],60:[.0391,.5391,0,0],61:[-.13313,.36687,0,0],62:[.0391,.5391,0,0],63:[0,.69444,0,0],64:[0,.69444,0,0],65:[0,.68333,0,0],66:[0,.68333,0,0],67:[0,.68333,0,0],68:[0,.68333,0,0],69:[0,.68333,0,0],70:[0,.68333,0,0],71:[0,.68333,0,0],72:[0,.68333,0,0],73:[0,.68333,0,0],74:[0,.68333,0,0],75:[0,.68333,0,0],76:[0,.68333,0,0],77:[0,.68333,0,0],78:[0,.68333,0,0],79:[0,.68333,0,0],80:[0,.68333,0,0],81:[.19444,.68333,0,0],82:[0,.68333,0,0],83:[0,.68333,0,0],84:[0,.68333,0,0],85:[0,.68333,0,0],86:[0,.68333,.01389,0],87:[0,.68333,.01389,0],88:[0,.68333,0,0],89:[0,.68333,.025,0],90:[0,.68333,0,0],91:[.25,.75,0,0],92:[.25,.75,0,0],93:[.25,.75,0,0],94:[0,.69444,0,0],95:[.31,.12056,.02778,0],96:[0,.69444,0,0],97:[0,.43056,0,0],98:[0,.69444,0,0],99:[0,.43056,0,0],100:[0,.69444,0,0],101:[0,.43056,0,0],102:[0,.69444,.07778,0],103:[.19444,.43056,.01389,0],104:[0,.69444,0,0],105:[0,.66786,0,0],106:[.19444,.66786,0,0],107:[0,.69444,0,0],108:[0,.69444,0,0],109:[0,.43056,0,0],110:[0,.43056,0,0],111:[0,.43056,0,0],112:[.19444,.43056,0,0],113:[.19444,.43056,0,0],114:[0,.43056,0,0],115:[0,.43056,0,0],116:[0,.61508,0,0],117:[0,.43056,0,0],118:[0,.43056,.01389,0],119:[0,.43056,.01389,0],120:[0,.43056,0,0],121:[.19444,.43056,.01389,0],122:[0,.43056,0,0],123:[.25,.75,0,0],124:[.25,.75,0,0],125:[.25,.75,0,0],126:[.35,.31786,0,0],160:[0,0,0,0],168:[0,.66786,0,0],172:[0,.43056,0,0],175:[0,.56778,0,0],176:[0,.69444,0,0],177:[.08333,.58333,0,0],180:[0,.69444,0,0],215:[.08333,.58333,0,0],247:[.08333,.58333,0,0],305:[0,.43056,0,0],567:[.19444,.43056,0,0],710:[0,.69444,0,0],711:[0,.62847,0,0],713:[0,.56778,0,0],714:[0,.69444,0,0],715:[0,.69444,0,0],728:[0,.69444,0,0],729:[0,.66786,0,0],730:[0,.69444,0,0],732:[0,.66786,0,0],768:[0,.69444,0,0],769:[0,.69444,0,0],770:[0,.69444,0,0],771:[0,.66786,0,0],772:[0,.56778,0,0],774:[0,.69444,0,0],775:[0,.66786,0,0],776:[0,.66786,0,0],778:[0,.69444,0,0],779:[0,.69444,0,0],780:[0,.62847,0,0],824:[.19444,.69444,0,0],915:[0,.68333,0,0],916:[0,.68333,0,0],920:[0,.68333,0,0],923:[0,.68333,0,0],926:[0,.68333,0,0],928:[0,.68333,0,0],931:[0,.68333,0,0],933:[0,.68333,0,0],934:[0,.68333,0,0],936:[0,.68333,0,0],937:[0,.68333,0,0],8211:[0,.43056,.02778,0],8212:[0,.43056,.02778,0],8216:[0,.69444,0,0],8217:[0,.69444,0,0],8220:[0,.69444,0,0],8221:[0,.69444,0,0],8224:[.19444,.69444,0,0],8225:[.19444,.69444,0,0],8230:[0,.12,0,0],8242:[0,.55556,0,0],8407:[0,.71444,.15382,0],8463:[0,.68889,0,0],8465:[0,.69444,0,0],8467:[0,.69444,0,.11111],8472:[.19444,.43056,0,.11111],8476:[0,.69444,0,0],8501:[0,.69444,0,0],8592:[-.13313,.36687,0,0],8593:[.19444,.69444,0,0],8594:[-.13313,.36687,0,0],8595:[.19444,.69444,0,0],8596:[-.13313,.36687,0,0],8597:[.25,.75,0,0],8598:[.19444,.69444,0,0],8599:[.19444,.69444,0,0],8600:[.19444,.69444,0,0],8601:[.19444,.69444,0,0],8614:[.011,.511,0,0],8617:[.011,.511,0,0],8618:[.011,.511,0,0],8636:[-.13313,.36687,0,0],8637:[-.13313,.36687,0,0],8640:[-.13313,.36687,0,0],8641:[-.13313,.36687,0,0],8652:[.011,.671,0,0],8656:[-.13313,.36687,0,0],8657:[.19444,.69444,0,0],8658:[-.13313,.36687,0,0],8659:[.19444,.69444,0,0],8660:[-.13313,.36687,0,0],8661:[.25,.75,0,0],8704:[0,.69444,0,0],8706:[0,.69444,.05556,.08334],8707:[0,.69444,0,0],8709:[.05556,.75,0,0],8711:[0,.68333,0,0],8712:[.0391,.5391,0,0],8715:[.0391,.5391,0,0],8722:[.08333,.58333,0,0],8723:[.08333,.58333,0,0],8725:[.25,.75,0,0],8726:[.25,.75,0,0],8727:[-.03472,.46528,0,0],8728:[-.05555,.44445,0,0],8729:[-.05555,.44445,0,0],8730:[.2,.8,0,0],8733:[0,.43056,0,0],8734:[0,.43056,0,0],8736:[0,.69224,0,0],8739:[.25,.75,0,0],8741:[.25,.75,0,0],8743:[0,.55556,0,0],8744:[0,.55556,0,0],8745:[0,.55556,0,0],8746:[0,.55556,0,0],8747:[.19444,.69444,.11111,0],8764:[-.13313,.36687,0,0],8768:[.19444,.69444,0,0],8771:[-.03625,.46375,0,0],8773:[-.022,.589,0,0],8776:[-.01688,.48312,0,0],8781:[-.03625,.46375,0,0],8784:[-.133,.67,0,0],8800:[.215,.716,0,0],8801:[-.03625,.46375,0,0],8804:[.13597,.63597,0,0],8805:[.13597,.63597,0,0],8810:[.0391,.5391,0,0],8811:[.0391,.5391,0,0],8826:[.0391,.5391,0,0],8827:[.0391,.5391,0,0],8834:[.0391,.5391,0,0],8835:[.0391,.5391,0,0],8838:[.13597,.63597,0,0],8839:[.13597,.63597,0,0],8846:[0,.55556,0,0],8849:[.13597,.63597,0,0],8850:[.13597,.63597,0,0],8851:[0,.55556,0,0],8852:[0,.55556,0,0],8853:[.08333,.58333,0,0],8854:[.08333,.58333,0,0],8855:[.08333,.58333,0,0],8856:[.08333,.58333,0,0],8857:[.08333,.58333,0,0],8866:[0,.69444,0,0],8867:[0,.69444,0,0],8868:[0,.69444,0,0],8869:[0,.69444,0,0],8872:[.249,.75,0,0],8900:[-.05555,.44445,0,0],8901:[-.05555,.44445,0,0],8902:[-.03472,.46528,0,0],8904:[.005,.505,0,0],8942:[.03,.9,0,0],8943:[-.19,.31,0,0],8945:[-.1,.82,0,0],8968:[.25,.75,0,0],8969:[.25,.75,0,0],8970:[.25,.75,0,0],8971:[.25,.75,0,0],8994:[-.14236,.35764,0,0],8995:[-.14236,.35764,0,0],9136:[.244,.744,0,0],9137:[.244,.744,0,0],9651:[.19444,.69444,0,0],9657:[-.03472,.46528,0,0],9661:[.19444,.69444,0,0],9667:[-.03472,.46528,0,0],9711:[.19444,.69444,0,0],9824:[.12963,.69444,0,0],9825:[.12963,.69444,0,0],9826:[.12963,.69444,0,0],9827:[.12963,.69444,0,0],9837:[0,.75,0,0],9838:[.19444,.69444,0,0],9839:[.19444,.69444,0,0],10216:[.25,.75,0,0],10217:[.25,.75,0,0],10222:[.244,.744,0,0],10223:[.244,.744,0,0],10229:[.011,.511,0,0],10230:[.011,.511,0,0],10231:[.011,.511,0,0],10232:[.024,.525,0,0],10233:[.024,.525,0,0],10234:[.024,.525,0,0],10236:[.011,.511,0,0],10815:[0,.68333,0,0],10927:[.13597,.63597,0,0],10928:[.13597,.63597,0,0]},"Math-BoldItalic":{47:[.19444,.69444,0,0],65:[0,.68611,0,0],66:[0,.68611,.04835,0],67:[0,.68611,.06979,0],68:[0,.68611,.03194,0],69:[0,.68611,.05451,0],70:[0,.68611,.15972,0],71:[0,.68611,0,0],72:[0,.68611,.08229,0],73:[0,.68611,.07778,0],74:[0,.68611,.10069,0],75:[0,.68611,.06979,0],76:[0,.68611,0,0],77:[0,.68611,.11424,0],78:[0,.68611,.11424,0],79:[0,.68611,.03194,0],80:[0,.68611,.15972,0],81:[.19444,.68611,0,0],82:[0,.68611,.00421,0],83:[0,.68611,.05382,0],84:[0,.68611,.15972,0],85:[0,.68611,.11424,0],86:[0,.68611,.25555,0],87:[0,.68611,.15972,0],88:[0,.68611,.07778,0],89:[0,.68611,.25555,0],90:[0,.68611,.06979,0],97:[0,.44444,0,0],98:[0,.69444,0,0],99:[0,.44444,0,0],100:[0,.69444,0,0],101:[0,.44444,0,0],102:[.19444,.69444,.11042,0],103:[.19444,.44444,.03704,0],104:[0,.69444,0,0],105:[0,.69326,0,0],106:[.19444,.69326,.0622,0],107:[0,.69444,.01852,0],108:[0,.69444,.0088,0],109:[0,.44444,0,0],110:[0,.44444,0,0],111:[0,.44444,0,0],112:[.19444,.44444,0,0],113:[.19444,.44444,.03704,0],114:[0,.44444,.03194,0],115:[0,.44444,0,0],116:[0,.63492,0,0],117:[0,.44444,0,0],118:[0,.44444,.03704,0],119:[0,.44444,.02778,0],120:[0,.44444,0,0],121:[.19444,.44444,.03704,0],122:[0,.44444,.04213,0],915:[0,.68611,.15972,0],916:[0,.68611,0,0],920:[0,.68611,.03194,0],923:[0,.68611,0,0],926:[0,.68611,.07458,0],928:[0,.68611,.08229,0],931:[0,.68611,.05451,0],933:[0,.68611,.15972,0],934:[0,.68611,0,0],936:[0,.68611,.11653,0],937:[0,.68611,.04835,0],945:[0,.44444,0,0],946:[.19444,.69444,.03403,0],947:[.19444,.44444,.06389,0],948:[0,.69444,.03819,0],949:[0,.44444,0,0],950:[.19444,.69444,.06215,0],951:[.19444,.44444,.03704,0],952:[0,.69444,.03194,0],953:[0,.44444,0,0],954:[0,.44444,0,0],955:[0,.69444,0,0],956:[.19444,.44444,0,0],957:[0,.44444,.06898,0],958:[.19444,.69444,.03021,0],959:[0,.44444,0,0],960:[0,.44444,.03704,0],961:[.19444,.44444,0,0],962:[.09722,.44444,.07917,0],963:[0,.44444,.03704,0],964:[0,.44444,.13472,0],965:[0,.44444,.03704,0],966:[.19444,.44444,0,0],967:[.19444,.44444,0,0],968:[.19444,.69444,.03704,0],969:[0,.44444,.03704,0],977:[0,.69444,0,0],981:[.19444,.69444,0,0],982:[0,.44444,.03194,0],1009:[.19444,.44444,0,0],1013:[0,.44444,0,0]},"Math-Italic":{47:[.19444,.69444,0,0],65:[0,.68333,0,.13889],66:[0,.68333,.05017,.08334],67:[0,.68333,.07153,.08334],68:[0,.68333,.02778,.05556],69:[0,.68333,.05764,.08334],70:[0,.68333,.13889,.08334],71:[0,.68333,0,.08334],72:[0,.68333,.08125,.05556],73:[0,.68333,.07847,.11111],74:[0,.68333,.09618,.16667],75:[0,.68333,.07153,.05556],76:[0,.68333,0,.02778],77:[0,.68333,.10903,.08334],78:[0,.68333,.10903,.08334],79:[0,.68333,.02778,.08334],80:[0,.68333,.13889,.08334],81:[.19444,.68333,0,.08334],82:[0,.68333,.00773,.08334],83:[0,.68333,.05764,.08334],84:[0,.68333,.13889,.08334],85:[0,.68333,.10903,.02778],86:[0,.68333,.22222,0],87:[0,.68333,.13889,0],88:[0,.68333,.07847,.08334],89:[0,.68333,.22222,0],90:[0,.68333,.07153,.08334],97:[0,.43056,0,0],98:[0,.69444,0,0],99:[0,.43056,0,.05556],100:[0,.69444,0,.16667],101:[0,.43056,0,.05556],102:[.19444,.69444,.10764,.16667],103:[.19444,.43056,.03588,.02778],104:[0,.69444,0,0],105:[0,.65952,0,0],106:[.19444,.65952,.05724,0],107:[0,.69444,.03148,0],108:[0,.69444,.01968,.08334],109:[0,.43056,0,0],110:[0,.43056,0,0],111:[0,.43056,0,.05556],112:[.19444,.43056,0,.08334],113:[.19444,.43056,.03588,.08334],114:[0,.43056,.02778,.05556],115:[0,.43056,0,.05556],116:[0,.61508,0,.08334],117:[0,.43056,0,.02778],118:[0,.43056,.03588,.02778],119:[0,.43056,.02691,.08334],120:[0,.43056,0,.02778],121:[.19444,.43056,.03588,.05556],122:[0,.43056,.04398,.05556],915:[0,.68333,.13889,.08334],916:[0,.68333,0,.16667],920:[0,.68333,.02778,.08334],923:[0,.68333,0,.16667],926:[0,.68333,.07569,.08334],928:[0,.68333,.08125,.05556],931:[0,.68333,.05764,.08334],933:[0,.68333,.13889,.05556],934:[0,.68333,0,.08334],936:[0,.68333,.11,.05556],937:[0,.68333,.05017,.08334],945:[0,.43056,.0037,.02778],946:[.19444,.69444,.05278,.08334],947:[.19444,.43056,.05556,0],948:[0,.69444,.03785,.05556],949:[0,.43056,0,.08334],950:[.19444,.69444,.07378,.08334],951:[.19444,.43056,.03588,.05556],952:[0,.69444,.02778,.08334],953:[0,.43056,0,.05556],954:[0,.43056,0,0],955:[0,.69444,0,0],956:[.19444,.43056,0,.02778],957:[0,.43056,.06366,.02778],958:[.19444,.69444,.04601,.11111],959:[0,.43056,0,.05556],960:[0,.43056,.03588,0],961:[.19444,.43056,0,.08334],962:[.09722,.43056,.07986,.08334],963:[0,.43056,.03588,0],964:[0,.43056,.1132,.02778],965:[0,.43056,.03588,.02778],966:[.19444,.43056,0,.08334],967:[.19444,.43056,0,.05556],968:[.19444,.69444,.03588,.11111],969:[0,.43056,.03588,0],977:[0,.69444,0,.08334],981:[.19444,.69444,0,.08334],982:[0,.43056,.02778,0],1009:[.19444,.43056,0,.08334],1013:[0,.43056,0,.05556]},"Math-Regular":{65:[0,.68333,0,.13889],66:[0,.68333,.05017,.08334],67:[0,.68333,.07153,.08334],68:[0,.68333,.02778,.05556],69:[0,.68333,.05764,.08334],70:[0,.68333,.13889,.08334],71:[0,.68333,0,.08334],72:[0,.68333,.08125,.05556],73:[0,.68333,.07847,.11111],74:[0,.68333,.09618,.16667],75:[0,.68333,.07153,.05556],76:[0,.68333,0,.02778],77:[0,.68333,.10903,.08334],78:[0,.68333,.10903,.08334],79:[0,.68333,.02778,.08334],80:[0,.68333,.13889,.08334],81:[.19444,.68333,0,.08334],82:[0,.68333,.00773,.08334],83:[0,.68333,.05764,.08334],84:[0,.68333,.13889,.08334],85:[0,.68333,.10903,.02778],86:[0,.68333,.22222,0],87:[0,.68333,.13889,0],88:[0,.68333,.07847,.08334],89:[0,.68333,.22222,0],90:[0,.68333,.07153,.08334],97:[0,.43056,0,0],98:[0,.69444,0,0],99:[0,.43056,0,.05556],100:[0,.69444,0,.16667],101:[0,.43056,0,.05556],102:[.19444,.69444,.10764,.16667],103:[.19444,.43056,.03588,.02778],104:[0,.69444,0,0],105:[0,.65952,0,0],106:[.19444,.65952,.05724,0],107:[0,.69444,.03148,0],108:[0,.69444,.01968,.08334],109:[0,.43056,0,0],110:[0,.43056,0,0],111:[0,.43056,0,.05556],112:[.19444,.43056,0,.08334],113:[.19444,.43056,.03588,.08334],114:[0,.43056,.02778,.05556],115:[0,.43056,0,.05556],116:[0,.61508,0,.08334],117:[0,.43056,0,.02778],118:[0,.43056,.03588,.02778],119:[0,.43056,.02691,.08334],120:[0,.43056,0,.02778],121:[.19444,.43056,.03588,.05556],122:[0,.43056,.04398,.05556],915:[0,.68333,.13889,.08334],916:[0,.68333,0,.16667],920:[0,.68333,.02778,.08334],923:[0,.68333,0,.16667],926:[0,.68333,.07569,.08334],928:[0,.68333,.08125,.05556],931:[0,.68333,.05764,.08334],933:[0,.68333,.13889,.05556],934:[0,.68333,0,.08334],936:[0,.68333,.11,.05556],937:[0,.68333,.05017,.08334],945:[0,.43056,.0037,.02778],946:[.19444,.69444,.05278,.08334],947:[.19444,.43056,.05556,0],948:[0,.69444,.03785,.05556],949:[0,.43056,0,.08334],950:[.19444,.69444,.07378,.08334],951:[.19444,.43056,.03588,.05556],952:[0,.69444,.02778,.08334],953:[0,.43056,0,.05556],954:[0,.43056,0,0],955:[0,.69444,0,0],956:[.19444,.43056,0,.02778],957:[0,.43056,.06366,.02778],958:[.19444,.69444,.04601,.11111],959:[0,.43056,0,.05556],960:[0,.43056,.03588,0],961:[.19444,.43056,0,.08334],962:[.09722,.43056,.07986,.08334],963:[0,.43056,.03588,0],964:[0,.43056,.1132,.02778],965:[0,.43056,.03588,.02778],966:[.19444,.43056,0,.08334],967:[.19444,.43056,0,.05556],968:[.19444,.69444,.03588,.11111],969:[0,.43056,.03588,0],977:[0,.69444,0,.08334],981:[.19444,.69444,0,.08334],982:[0,.43056,.02778,0],1009:[.19444,.43056,0,.08334],1013:[0,.43056,0,.05556]},"SansSerif-Regular":{33:[0,.69444,0,0],34:[0,.69444,0,0],35:[.19444,.69444,0,0],36:[.05556,.75,0,0],37:[.05556,.75,0,0],38:[0,.69444,0,0],39:[0,.69444,0,0],40:[.25,.75,0,0],41:[.25,.75,0,0],42:[0,.75,0,0],43:[.08333,.58333,0,0],44:[.125,.08333,0,0],45:[0,.44444,0,0],46:[0,.08333,0,0],47:[.25,.75,0,0],48:[0,.65556,0,0],49:[0,.65556,0,0],50:[0,.65556,0,0],51:[0,.65556,0,0],52:[0,.65556,0,0],53:[0,.65556,0,0],54:[0,.65556,0,0],55:[0,.65556,0,0],56:[0,.65556,0,0],57:[0,.65556,0,0],58:[0,.44444,0,0],59:[.125,.44444,0,0],61:[-.13,.37,0,0],63:[0,.69444,0,0],64:[0,.69444,0,0],65:[0,.69444,0,0],66:[0,.69444,0,0],67:[0,.69444,0,0],68:[0,.69444,0,0],69:[0,.69444,0,0],70:[0,.69444,0,0],71:[0,.69444,0,0],72:[0,.69444,0,0],73:[0,.69444,0,0],74:[0,.69444,0,0],75:[0,.69444,0,0],76:[0,.69444,0,0],77:[0,.69444,0,0],78:[0,.69444,0,0],79:[0,.69444,0,0],80:[0,.69444,0,0],81:[.125,.69444,0,0],82:[0,.69444,0,0],83:[0,.69444,0,0],84:[0,.69444,0,0],85:[0,.69444,0,0],86:[0,.69444,.01389,0],87:[0,.69444,.01389,0],88:[0,.69444,0,0],89:[0,.69444,.025,0],90:[0,.69444,0,0],91:[.25,.75,0,0],93:[.25,.75,0,0],94:[0,.69444,0,0],95:[.35,.09444,.02778,0],97:[0,.44444,0,0],98:[0,.69444,0,0],99:[0,.44444,0,0],100:[0,.69444,0,0],101:[0,.44444,0,0],102:[0,.69444,.06944,0],103:[.19444,.44444,.01389,0],104:[0,.69444,0,0],105:[0,.67937,0,0],106:[.19444,.67937,0,0],107:[0,.69444,0,0],108:[0,.69444,0,0],109:[0,.44444,0,0],110:[0,.44444,0,0],111:[0,.44444,0,0],112:[.19444,.44444,0,0],113:[.19444,.44444,0,0],114:[0,.44444,.01389,0],115:[0,.44444,0,0],116:[0,.57143,0,0],117:[0,.44444,0,0],118:[0,.44444,.01389,0],119:[0,.44444,.01389,0],120:[0,.44444,0,0],121:[.19444,.44444,.01389,0],122:[0,.44444,0,0],126:[.35,.32659,0,0],305:[0,.44444,0,0],567:[.19444,.44444,0,0],768:[0,.69444,0,0],769:[0,.69444,0,0],770:[0,.69444,0,0],771:[0,.67659,0,0],772:[0,.60889,0,0],774:[0,.69444,0,0],775:[0,.67937,0,0],776:[0,.67937,0,0],778:[0,.69444,0,0],779:[0,.69444,0,0],780:[0,.63194,0,0],915:[0,.69444,0,0],916:[0,.69444,0,0],920:[0,.69444,0,0],923:[0,.69444,0,0],926:[0,.69444,0,0],928:[0,.69444,0,0],931:[0,.69444,0,0],933:[0,.69444,0,0],934:[0,.69444,0,0],936:[0,.69444,0,0],937:[0,.69444,0,0],8211:[0,.44444,.02778,0],8212:[0,.44444,.02778,0],8216:[0,.69444,0,0],8217:[0,.69444,0,0],8220:[0,.69444,0,0],8221:[0,.69444,0,0]},"Script-Regular":{65:[0,.7,.22925,0],66:[0,.7,.04087,0],67:[0,.7,.1689,0],68:[0,.7,.09371,0],69:[0,.7,.18583,0],70:[0,.7,.13634,0],71:[0,.7,.17322,0],72:[0,.7,.29694,0],73:[0,.7,.19189,0],74:[.27778,.7,.19189,0],75:[0,.7,.31259,0],76:[0,.7,.19189,0],77:[0,.7,.15981,0],78:[0,.7,.3525,0],79:[0,.7,.08078,0],80:[0,.7,.08078,0],81:[0,.7,.03305,0],82:[0,.7,.06259,0],83:[0,.7,.19189,0],84:[0,.7,.29087,0],85:[0,.7,.25815,0],86:[0,.7,.27523,0],87:[0,.7,.27523,0],88:[0,.7,.26006,0],89:[0,.7,.2939,0],90:[0,.7,.24037,0]},"Size1-Regular":{40:[.35001,.85,0,0],41:[.35001,.85,0,0],47:[.35001,.85,0,0],91:[.35001,.85,0,0],92:[.35001,.85,0,0],93:[.35001,.85,0,0],123:[.35001,.85,0,0],125:[.35001,.85,0,0],710:[0,.72222,0,0],732:[0,.72222,0,0],770:[0,.72222,0,0],771:[0,.72222,0,0],8214:[-99e-5,.601,0,0],8593:[1e-5,.6,0,0],8595:[1e-5,.6,0,0],8657:[1e-5,.6,0,0],8659:[1e-5,.6,0,0],8719:[.25001,.75,0,0],8720:[.25001,.75,0,0],8721:[.25001,.75,0,0],8730:[.35001,.85,0,0],8739:[-.00599,.606,0,0],8741:[-.00599,.606,0,0],8747:[.30612,.805,.19445,0],8748:[.306,.805,.19445,0],8749:[.306,.805,.19445,0],8750:[.30612,.805,.19445,0],8896:[.25001,.75,0,0],8897:[.25001,.75,0,0],8898:[.25001,.75,0,0],8899:[.25001,.75,0,0],8968:[.35001,.85,0,0],8969:[.35001,.85,0,0],8970:[.35001,.85,0,0],8971:[.35001,.85,0,0],9168:[-99e-5,.601,0,0],10216:[.35001,.85,0,0],10217:[.35001,.85,0,0],10752:[.25001,.75,0,0],10753:[.25001,.75,0,0],10754:[.25001,.75,0,0],10756:[.25001,.75,0,0],10758:[.25001,.75,0,0]},"Size2-Regular":{40:[.65002,1.15,0,0],41:[.65002,1.15,0,0],47:[.65002,1.15,0,0],91:[.65002,1.15,0,0],92:[.65002,1.15,0,0],93:[.65002,1.15,0,0],123:[.65002,1.15,0,0],125:[.65002,1.15,0,0],710:[0,.75,0,0],732:[0,.75,0,0],770:[0,.75,0,0],771:[0,.75,0,0],8719:[.55001,1.05,0,0],8720:[.55001,1.05,0,0],8721:[.55001,1.05,0,0],8730:[.65002,1.15,0,0],8747:[.86225,1.36,.44445,0],8748:[.862,1.36,.44445,0],8749:[.862,1.36,.44445,0],8750:[.86225,1.36,.44445,0],8896:[.55001,1.05,0,0],8897:[.55001,1.05,0,0],8898:[.55001,1.05,0,0],8899:[.55001,1.05,0,0],8968:[.65002,1.15,0,0],8969:[.65002,1.15,0,0],8970:[.65002,1.15,0,0],8971:[.65002,1.15,0,0],10216:[.65002,1.15,0,0],10217:[.65002,1.15,0,0],10752:[.55001,1.05,0,0],10753:[.55001,1.05,0,0],10754:[.55001,1.05,0,0],10756:[.55001,1.05,0,0],10758:[.55001,1.05,0,0]},"Size3-Regular":{40:[.95003,1.45,0,0],41:[.95003,1.45,0,0],47:[.95003,1.45,0,0],91:[.95003,1.45,0,0],92:[.95003,1.45,0,0],93:[.95003,1.45,0,0],123:[.95003,1.45,0,0],125:[.95003,1.45,0,0],710:[0,.75,0,0],732:[0,.75,0,0],770:[0,.75,0,0],771:[0,.75,0,0],8730:[.95003,1.45,0,0],8968:[.95003,1.45,0,0],8969:[.95003,1.45,0,0],8970:[.95003,1.45,0,0],8971:[.95003,1.45,0,0],10216:[.95003,1.45,0,0],10217:[.95003,1.45,0,0]},"Size4-Regular":{40:[1.25003,1.75,0,0],41:[1.25003,1.75,0,0],47:[1.25003,1.75,0,0],91:[1.25003,1.75,0,0],92:[1.25003,1.75,0,0],93:[1.25003,1.75,0,0],123:[1.25003,1.75,0,0],125:[1.25003,1.75,0,0],710:[0,.825,0,0],732:[0,.825,0,0],770:[0,.825,0,0],771:[0,.825,0,0],8730:[1.25003,1.75,0,0],8968:[1.25003,1.75,0,0],8969:[1.25003,1.75,0,0],8970:[1.25003,1.75,0,0],8971:[1.25003,1.75,0,0],9115:[.64502,1.155,0,0],9116:[1e-5,.6,0,0],9117:[.64502,1.155,0,0],9118:[.64502,1.155,0,0],9119:[1e-5,.6,0,0],9120:[.64502,1.155,0,0],9121:[.64502,1.155,0,0],9122:[-99e-5,.601,0,0],9123:[.64502,1.155,0,0],9124:[.64502,1.155,0,0],9125:[-99e-5,.601,0,0],9126:[.64502,1.155,0,0],9127:[1e-5,.9,0,0],9128:[.65002,1.15,0,0],9129:[.90001,0,0,0],9130:[0,.3,0,0],9131:[1e-5,.9,0,0],9132:[.65002,1.15,0,0],9133:[.90001,0,0,0],9143:[.88502,.915,0,0],10216:[1.25003,1.75,0,0],10217:[1.25003,1.75,0,0],57344:[-.00499,.605,0,0],57345:[-.00499,.605,0,0],57680:[0,.12,0,0],57681:[0,.12,0,0],57682:[0,.12,0,0],57683:[0,.12,0,0]},"Typewriter-Regular":{33:[0,.61111,0,0],34:[0,.61111,0,0],35:[0,.61111,0,0],36:[.08333,.69444,0,0],37:[.08333,.69444,0,0],38:[0,.61111,0,0],39:[0,.61111,0,0],40:[.08333,.69444,0,0],41:[.08333,.69444,0,0],42:[0,.52083,0,0],43:[-.08056,.53055,0,0],44:[.13889,.125,0,0],45:[-.08056,.53055,0,0],46:[0,.125,0,0],47:[.08333,.69444,0,0],48:[0,.61111,0,0],49:[0,.61111,0,0],50:[0,.61111,0,0],51:[0,.61111,0,0],52:[0,.61111,0,0],53:[0,.61111,0,0],54:[0,.61111,0,0],55:[0,.61111,0,0],56:[0,.61111,0,0],57:[0,.61111,0,0],58:[0,.43056,0,0],59:[.13889,.43056,0,0],60:[-.05556,.55556,0,0],61:[-.19549,.41562,0,0],62:[-.05556,.55556,0,0],63:[0,.61111,0,0],64:[0,.61111,0,0],65:[0,.61111,0,0],66:[0,.61111,0,0],67:[0,.61111,0,0],68:[0,.61111,0,0],69:[0,.61111,0,0],70:[0,.61111,0,0],71:[0,.61111,0,0],72:[0,.61111,0,0],73:[0,.61111,0,0],74:[0,.61111,0,0],75:[0,.61111,0,0],76:[0,.61111,0,0],77:[0,.61111,0,0],78:[0,.61111,0,0],79:[0,.61111,0,0],80:[0,.61111,0,0],81:[.13889,.61111,0,0],82:[0,.61111,0,0],83:[0,.61111,0,0],84:[0,.61111,0,0],85:[0,.61111,0,0],86:[0,.61111,0,0],87:[0,.61111,0,0],88:[0,.61111,0,0],89:[0,.61111,0,0],90:[0,.61111,0,0],91:[.08333,.69444,0,0],92:[.08333,.69444,0,0],93:[.08333,.69444,0,0],94:[0,.61111,0,0],95:[.09514,0,0,0],96:[0,.61111,0,0],97:[0,.43056,0,0],98:[0,.61111,0,0],99:[0,.43056,0,0],100:[0,.61111,0,0],101:[0,.43056,0,0],102:[0,.61111,0,0],103:[.22222,.43056,0,0],104:[0,.61111,0,0],105:[0,.61111,0,0],106:[.22222,.61111,0,0],107:[0,.61111,0,0],108:[0,.61111,0,0],109:[0,.43056,0,0],110:[0,.43056,0,0],111:[0,.43056,0,0],112:[.22222,.43056,0,0],113:[.22222,.43056,0,0],114:[0,.43056,0,0],115:[0,.43056,0,0],116:[0,.55358,0,0],117:[0,.43056,0,0],118:[0,.43056,0,0],119:[0,.43056,0,0],120:[0,.43056,0,0],121:[.22222,.43056,0,0],122:[0,.43056,0,0],123:[.08333,.69444,0,0],124:[.08333,.69444,0,0],125:[.08333,.69444,0,0],126:[0,.61111,0,0],127:[0,.61111,0,0],305:[0,.43056,0,0],567:[.22222,.43056,0,0],768:[0,.61111,0,0],769:[0,.61111,0,0],770:[0,.61111,0,0],771:[0,.61111,0,0],772:[0,.56555,0,0],774:[0,.61111,0,0],776:[0,.61111,0,0],778:[0,.61111,0,0],780:[0,.56597,0,0],915:[0,.61111,0,0],916:[0,.61111,0,0],920:[0,.61111,0,0],923:[0,.61111,0,0],926:[0,.61111,0,0],928:[0,.61111,0,0],931:[0,.61111,0,0],933:[0,.61111,0,0],934:[0,.61111,0,0],936:[0,.61111,0,0],937:[0,.61111,0,0],2018:[0,.61111,0,0],2019:[0,.61111,0,0],8216:[0,.61111,0,0],8217:[0,.61111,0,0],8242:[0,.61111,0,0],9251:[.11111,.21944,0,0]}}},{}],103:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=u(e("./utils")),i=u(e("./ParseError")),o=u(e("./ParseNode")),s=e("./defineFunction"),a=u(s);function u(e){return e&&e.__esModule?e:{default:e}}e("./functions/katex"),e("./functions/phantom"),e("./functions/mod"),e("./functions/op"),e("./functions/operatorname"),e("./functions/genfrac"),e("./functions/lap"),e("./functions/smash"),e("./functions/delimsizing"),e("./functions/href"),e("./functions/mathchoice");var c=s._functions;r.default=c;var l=function(e,t,r){(0,a.default)({names:e,props:t,handler:r})};l(["\\sqrt"],{numArgs:1,numOptionalArgs:1},function(e,t,r){var n=r[0];return{type:"sqrt",body:t[0],index:n}});var f={"\\text":void 0,"\\textrm":"mathrm","\\textsf":"mathsf","\\texttt":"mathtt","\\textnormal":"mathrm","\\textbf":"mathbf","\\textit":"textit"};l(["\\text","\\textrm","\\textsf","\\texttt","\\textnormal","\\textbf","\\textit"],{numArgs:1,argTypes:["text"],greediness:2,allowedInText:!0},function(e,t){var r=t[0];return{type:"text",body:(0,s.ordargument)(r),font:f[e.funcName]}}),l(["\\textcolor"],{numArgs:2,allowedInText:!0,greediness:3,argTypes:["color","original"]},function(e,t){var r=t[0],n=t[1];return{type:"color",color:r.value,value:(0,s.ordargument)(n)}}),l(["\\color"],{numArgs:1,allowedInText:!0,greediness:3,argTypes:["color"]},null),l(["\\colorbox"],{numArgs:2,allowedInText:!0,greediness:3,argTypes:["color","text"]},function(e,t){var r=t[0],n=t[1];return{type:"enclose",label:e.funcName,backgroundColor:r,body:n}}),l(["\\fcolorbox"],{numArgs:3,allowedInText:!0,greediness:3,argTypes:["color","color","text"]},function(e,t){var r=t[0],n=t[1],i=t[2];return{type:"enclose",label:e.funcName,backgroundColor:n,borderColor:r,body:i}}),l(["\\overline"],{numArgs:1},function(e,t){return{type:"overline",body:t[0]}}),l(["\\underline"],{numArgs:1},function(e,t){return{type:"underline",body:t[0]}}),l(["\\rule"],{numArgs:2,numOptionalArgs:1,argTypes:["size","size","size"]},function(e,t,r){var n=r[0],i=t[0],o=t[1];return{type:"rule",shift:n&&n.value,width:i.value,height:o.value}}),l(["\\kern","\\mkern"],{numArgs:1,argTypes:["size"]},function(e,t){return{type:"kern",dimension:t[0].value}}),l(["\\mathord","\\mathbin","\\mathrel","\\mathopen","\\mathclose","\\mathpunct","\\mathinner"],{numArgs:1},function(e,t){var r=t[0];return{type:"mclass",mclass:"m"+e.funcName.substr(5),value:(0,s.ordargument)(r)}}),l(["\\stackrel"],{numArgs:2},function(e,t){var r=t[0],n=t[1],i=new o.default("op",{type:"op",limits:!0,alwaysHandleSupSub:!0,symbol:!1,value:(0,s.ordargument)(n)},n.mode);return{type:"mclass",mclass:"mrel",value:[new o.default("supsub",{base:i,sup:r,sub:null},r.mode)]}});var h={"\\Bbb":"\\mathbb","\\bold":"\\mathbf","\\frak":"\\mathfrak"};l(["\\blue","\\orange","\\pink","\\red","\\green","\\gray","\\purple","\\blueA","\\blueB","\\blueC","\\blueD","\\blueE","\\tealA","\\tealB","\\tealC","\\tealD","\\tealE","\\greenA","\\greenB","\\greenC","\\greenD","\\greenE","\\goldA","\\goldB","\\goldC","\\goldD","\\goldE","\\redA","\\redB","\\redC","\\redD","\\redE","\\maroonA","\\maroonB","\\maroonC","\\maroonD","\\maroonE","\\purpleA","\\purpleB","\\purpleC","\\purpleD","\\purpleE","\\mintA","\\mintB","\\mintC","\\grayA","\\grayB","\\grayC","\\grayD","\\grayE","\\grayF","\\grayG","\\grayH","\\grayI","\\kaBlue","\\kaGreen"],{numArgs:1,allowedInText:!0,greediness:3},function(e,t){var r=t[0];return{type:"color",color:"katex-"+e.funcName.slice(1),value:(0,s.ordargument)(r)}});var p={"":"\\int","":"\\iint","":"\\iiint","":"\\oint"};l(["\\arcsin","\\arccos","\\arctan","\\arctg","\\arcctg","\\arg","\\ch","\\cos","\\cosec","\\cosh","\\cot","\\cotg","\\coth","\\csc","\\ctg","\\cth","\\deg","\\dim","\\exp","\\hom","\\ker","\\lg","\\ln","\\log","\\sec","\\sin","\\sinh","\\sh","\\tan","\\tanh","\\tg","\\th"],{numArgs:0},function(e){return{type:"op",limits:!1,symbol:!1,body:e.funcName}}),l(["\\det","\\gcd","\\inf","\\lim","\\liminf","\\limsup","\\max","\\min","\\Pr","\\sup"],{numArgs:0},function(e){return{type:"op",limits:!0,symbol:!1,body:e.funcName}}),l(["\\int","\\iint","\\iiint","\\oint","","","",""],{numArgs:0},function(e){var t=e.funcName;return 1===t.length&&(t=p[t]),{type:"op",limits:!1,symbol:!0,body:t}}),l(["\\tiny","\\scriptsize","\\footnotesize","\\small","\\normalsize","\\large","\\Large","\\LARGE","\\huge","\\Huge"],{numArgs:0},null),l(["\\displaystyle","\\textstyle","\\scriptstyle","\\scriptscriptstyle"],{numArgs:0},null),l(["\\rm","\\sf","\\tt","\\bf","\\it"],{numArgs:0},null),l(["\\mathrm","\\mathit","\\mathbf","\\mathbb","\\mathcal","\\mathfrak","\\mathscr","\\mathsf","\\mathtt","\\Bbb","\\bold","\\frak"],{numArgs:1,greediness:2},function(e,t){var r=t[0],n=e.funcName;return n in h&&(n=h[n]),{type:"font",font:n.slice(1),body:r}}),l(["\\acute","\\grave","\\ddot","\\tilde","\\bar","\\breve","\\check","\\hat","\\vec","\\dot","\\widehat","\\widetilde","\\overrightarrow","\\overleftarrow","\\Overrightarrow","\\overleftrightarrow","\\overgroup","\\overlinesegment","\\overleftharpoon","\\overrightharpoon"],{numArgs:1},function(e,t){var r=t[0],i=!n.default.contains(["\\acute","\\grave","\\ddot","\\tilde","\\bar","\\breve","\\check","\\hat","\\vec","\\dot"],e.funcName),o=!i||n.default.contains(["\\widehat","\\widetilde"],e.funcName);return{type:"accent",label:e.funcName,isStretchy:i,isShifty:o,base:r}}),l(["\\'","\\`","\\^","\\~","\\=","\\u","\\.",'\\"',"\\r","\\H","\\v"],{numArgs:1,allowedInText:!0,allowedInMath:!1},function(e,t){var r=t[0];return{type:"accent",label:e.funcName,isStretchy:!1,isShifty:!0,base:r}}),l(["\\overbrace","\\underbrace"],{numArgs:1},function(e,t){var r=t[0];return{type:"horizBrace",label:e.funcName,isOver:/^\\over/.test(e.funcName),base:r}}),l(["\\underleftarrow","\\underrightarrow","\\underleftrightarrow","\\undergroup","\\underlinesegment","\\utilde"],{numArgs:1},function(e,t){var r=t[0];return{type:"accentUnder",label:e.funcName,base:r}}),l(["\\xleftarrow","\\xrightarrow","\\xLeftarrow","\\xRightarrow","\\xleftrightarrow","\\xLeftrightarrow","\\xhookleftarrow","\\xhookrightarrow","\\xmapsto","\\xrightharpoondown","\\xrightharpoonup","\\xleftharpoondown","\\xleftharpoonup","\\xrightleftharpoons","\\xleftrightharpoons","\\xLongequal","\\xtwoheadrightarrow","\\xtwoheadleftarrow","\\xLongequal","\\xtofrom"],{numArgs:1,numOptionalArgs:1},function(e,t,r){var n=r[0],i=t[0];return{type:"xArrow",label:e.funcName,body:i,below:n}}),l(["\\cancel","\\bcancel","\\xcancel","\\sout","\\fbox"],{numArgs:1},function(e,t){var r=t[0];return{type:"enclose",label:e.funcName,body:r}}),l(["\\over","\\choose","\\atop"],{numArgs:0,infix:!0},function(e){var t=void 0;switch(e.funcName){case"\\over":t="\\frac";break;case"\\choose":t="\\binom";break;case"\\atop":t="\\\\atopfrac";break;default:throw new Error("Unrecognized infix genfrac command")}return{type:"infix",replaceWith:t,token:e.token}}),l(["\\\\","\\cr"],{numArgs:0,numOptionalArgs:1,argTypes:["size"]},function(e,t,r){return{type:"cr",size:r[0]}}),l(["\\begin","\\end"],{numArgs:1,argTypes:["text"]},function(e,t){var r=t[0];if("ordgroup"!==r.type)throw new i.default("Invalid environment name",r);for(var n="",o=0;o<r.value.length;++o)n+=r.value[o].value;return{type:"environment",name:n,nameGroup:r}}),l(["\\raisebox"],{numArgs:2,argTypes:["size","text"],allowedInText:!0},function(e,t){var r=t[0],n=t[1];return{type:"raisebox",dy:r,body:n,value:(0,s.ordargument)(n)}}),l(["\\verb"],{numArgs:0,allowedInText:!0},function(e){throw new i.default("\\verb ended by end of line instead of matching delimiter")})},{"./ParseError":84,"./ParseNode":85,"./defineFunction":96,"./functions/delimsizing":104,"./functions/genfrac":105,"./functions/href":106,"./functions/katex":107,"./functions/lap":108,"./functions/mathchoice":109,"./functions/mod":110,"./functions/op":111,"./functions/operatorname":112,"./functions/phantom":113,"./functions/smash":114,"./utils":123}],104:[function(e,t,r){"use strict";var n=h(e("../buildCommon")),i=h(e("../defineFunction")),o=h(e("../delimiter")),s=h(e("../mathMLTree")),a=h(e("../ParseError")),u=h(e("../utils")),c=f(e("../buildHTML")),l=f(e("../buildMathML"));function f(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function h(e){return e&&e.__esModule?e:{default:e}}var p={"\\bigl":{mclass:"mopen",size:1},"\\Bigl":{mclass:"mopen",size:2},"\\biggl":{mclass:"mopen",size:3},"\\Biggl":{mclass:"mopen",size:4},"\\bigr":{mclass:"mclose",size:1},"\\Bigr":{mclass:"mclose",size:2},"\\biggr":{mclass:"mclose",size:3},"\\Biggr":{mclass:"mclose",size:4},"\\bigm":{mclass:"mrel",size:1},"\\Bigm":{mclass:"mrel",size:2},"\\biggm":{mclass:"mrel",size:3},"\\Biggm":{mclass:"mrel",size:4},"\\big":{mclass:"mord",size:1},"\\Big":{mclass:"mord",size:2},"\\bigg":{mclass:"mord",size:3},"\\Bigg":{mclass:"mord",size:4}},d=["(",")","[","\\lbrack","]","\\rbrack","\\{","\\lbrace","\\}","\\rbrace","\\lfloor","\\rfloor","\\lceil","\\rceil","<",">","\\langle","\\rangle","\\lt","\\gt","\\lvert","\\rvert","\\lVert","\\rVert","\\lgroup","\\rgroup","\\lmoustache","\\rmoustache","/","\\backslash","|","\\vert","\\|","\\Vert","\\uparrow","\\Uparrow","\\downarrow","\\Downarrow","\\updownarrow","\\Updownarrow","."];function v(e,t){if(u.default.contains(d,e.value))return e;throw new a.default("Invalid delimiter: '"+e.value+"' after '"+t.funcName+"'",e)}(0,i.default)({type:"delimsizing",names:["\\bigl","\\Bigl","\\biggl","\\Biggl","\\bigr","\\Bigr","\\biggr","\\Biggr","\\bigm","\\Bigm","\\biggm","\\Biggm","\\big","\\Big","\\bigg","\\Bigg"],props:{numArgs:1},handler:function(e,t){var r=v(t[0],e);return{type:"delimsizing",size:p[e.funcName].size,mclass:p[e.funcName].mclass,value:r.value}},htmlBuilder:function(e,t){var r=e.value.value;return"."===r?n.default.makeSpan([e.value.mclass]):o.default.sizedDelim(r,e.value.size,t,e.mode,[e.value.mclass])},mathmlBuilder:function(e){var t=[];"."!==e.value.value&&t.push(l.makeText(e.value.value,e.mode));var r=new s.default.MathNode("mo",t);return"mopen"===e.value.mclass||"mclose"===e.value.mclass?r.setAttribute("fence","true"):r.setAttribute("fence","false"),r}}),(0,i.default)({type:"leftright",names:["\\left","\\right"],props:{numArgs:1},handler:function(e,t){return{type:"leftright",value:v(t[0],e).value}},htmlBuilder:function(e,t){for(var r=c.buildExpression(e.value.body,t,!0),i=0,s=0,a=!1,u=0;u<r.length;u++)r[u].isMiddle?a=!0:(i=Math.max(r[u].height,i),s=Math.max(r[u].depth,s));i*=t.sizeMultiplier,s*=t.sizeMultiplier;var l=void 0;if(l="."===e.value.left?c.makeNullDelimiter(t,["mopen"]):o.default.leftRightDelim(e.value.left,i,s,t,e.mode,["mopen"]),r.unshift(l),a)for(var f=1;f<r.length;f++){var h=r[f];if(h.isMiddle){r[f]=o.default.leftRightDelim(h.isMiddle.value,i,s,h.isMiddle.options,e.mode,[]);var p=c.spliceSpaces(h.children,0);p&&n.default.prependChildren(r[f],p)}}var d=void 0;return d="."===e.value.right?c.makeNullDelimiter(t,["mclose"]):o.default.leftRightDelim(e.value.right,i,s,t,e.mode,["mclose"]),r.push(d),n.default.makeSpan(["minner"],r,t)},mathmlBuilder:function(e,t){var r=l.buildExpression(e.value.body,t);if("."!==e.value.left){var n=new s.default.MathNode("mo",[l.makeText(e.value.left,e.mode)]);n.setAttribute("fence","true"),r.unshift(n)}if("."!==e.value.right){var i=new s.default.MathNode("mo",[l.makeText(e.value.right,e.mode)]);i.setAttribute("fence","true"),r.push(i)}return new s.default.MathNode("mrow",r)}}),(0,i.default)({type:"middle",names:["\\middle"],props:{numArgs:1},handler:function(e,t){var r=v(t[0],e);if(!e.parser.leftrightDepth)throw new a.default("\\middle without preceding \\left",r);return{type:"middle",value:r.value}},htmlBuilder:function(e,t){var r=void 0;return"."===e.value.value?r=c.makeNullDelimiter(t,[]):(r=o.default.sizedDelim(e.value.value,1,t,e.mode,[])).isMiddle={value:e.value.value,options:t},r},mathmlBuilder:function(e,t){var r=new s.default.MathNode("mo",[l.makeText(e.value.middle,e.mode)]);return r.setAttribute("fence","true"),r}})},{"../ParseError":84,"../buildCommon":91,"../buildHTML":92,"../buildMathML":93,"../defineFunction":96,"../delimiter":97,"../mathMLTree":116,"../utils":123}],105:[function(e,t,r){"use strict";var n=f(e("../defineFunction")),i=f(e("../buildCommon")),o=f(e("../delimiter")),s=f(e("../mathMLTree")),a=f(e("../Style")),u=l(e("../buildHTML")),c=l(e("../buildMathML"));function l(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function f(e){return e&&e.__esModule?e:{default:e}}(0,n.default)({type:"genfrac",names:["\\dfrac","\\frac","\\tfrac","\\dbinom","\\binom","\\tbinom","\\\\atopfrac"],props:{numArgs:2,greediness:2},handler:function(e,t){var r=t[0],n=t[1],i=void 0,o=null,s=null,a="auto";switch(e.funcName){case"\\dfrac":case"\\frac":case"\\tfrac":i=!0;break;case"\\\\atopfrac":i=!1;break;case"\\dbinom":case"\\binom":case"\\tbinom":i=!1,o="(",s=")";break;default:throw new Error("Unrecognized genfrac command")}switch(e.funcName){case"\\dfrac":case"\\dbinom":a="display";break;case"\\tfrac":case"\\tbinom":a="text"}return{type:"genfrac",numer:r,denom:n,hasBarLine:i,leftDelim:o,rightDelim:s,size:a}},htmlBuilder:function(e,t){var r=t.style;"display"===e.value.size?r=a.default.DISPLAY:"text"===e.value.size&&(r=a.default.TEXT);var n=r.fracNum(),s=r.fracDen(),c=void 0;c=t.havingStyle(n);var l=u.buildGroup(e.value.numer,c,t);c=t.havingStyle(s);var f=u.buildGroup(e.value.denom,c,t),h=void 0,p=void 0,d=void 0;e.value.hasBarLine?(p=(h=u.makeLineSpan("frac-line",t)).height,d=h.height):(h=null,p=0,d=t.fontMetrics().defaultRuleThickness);var v=void 0,m=void 0,b=void 0;r.size===a.default.DISPLAY.size?(v=t.fontMetrics().num1,m=p>0?3*d:7*d,b=t.fontMetrics().denom1):(p>0?(v=t.fontMetrics().num2,m=d):(v=t.fontMetrics().num3,m=3*d),b=t.fontMetrics().denom2);var y=void 0;if(0===p){var g=v-l.depth-(f.height-b);g<m&&(v+=.5*(m-g),b+=.5*(m-g)),y=i.default.makeVList({positionType:"individualShift",children:[{type:"elem",elem:f,shift:b},{type:"elem",elem:l,shift:-v}]},t)}else{var _=t.fontMetrics().axisHeight;v-l.depth-(_+.5*p)<m&&(v+=m-(v-l.depth-(_+.5*p))),_-.5*p-(f.height-b)<m&&(b+=m-(_-.5*p-(f.height-b)));var w=-(_-.5*p);y=i.default.makeVList({positionType:"individualShift",children:[{type:"elem",elem:f,shift:b},{type:"elem",elem:h,shift:w},{type:"elem",elem:l,shift:-v}]},t)}c=t.havingStyle(r),y.height*=c.sizeMultiplier/t.sizeMultiplier,y.depth*=c.sizeMultiplier/t.sizeMultiplier;var x=void 0;x=r.size===a.default.DISPLAY.size?t.fontMetrics().delim1:t.fontMetrics().delim2;var k=void 0,j=void 0;return k=null==e.value.leftDelim?u.makeNullDelimiter(t,["mopen"]):o.default.customSizedDelim(e.value.leftDelim,x,!0,t.havingStyle(r),e.mode,["mopen"]),j=null==e.value.rightDelim?u.makeNullDelimiter(t,["mclose"]):o.default.customSizedDelim(e.value.rightDelim,x,!0,t.havingStyle(r),e.mode,["mclose"]),i.default.makeSpan(["mord"].concat(c.sizingClasses(t)),[k,i.default.makeSpan(["mfrac"],[y]),j],t)},mathmlBuilder:function(e,t){var r=new s.default.MathNode("mfrac",[c.buildGroup(e.value.numer,t),c.buildGroup(e.value.denom,t)]);if(e.value.hasBarLine||r.setAttribute("linethickness","0px"),null!=e.value.leftDelim||null!=e.value.rightDelim){var n=[];if(null!=e.value.leftDelim){var i=new s.default.MathNode("mo",[new s.default.TextNode(e.value.leftDelim)]);i.setAttribute("fence","true"),n.push(i)}if(n.push(r),null!=e.value.rightDelim){var o=new s.default.MathNode("mo",[new s.default.TextNode(e.value.rightDelim)]);o.setAttribute("fence","true"),n.push(o)}return new s.default.MathNode("mrow",n)}return r}})},{"../Style":89,"../buildCommon":91,"../buildHTML":92,"../buildMathML":93,"../defineFunction":96,"../delimiter":97,"../mathMLTree":116}],106:[function(e,t,r){"use strict";var n=e("../defineFunction"),i=l(n),o=l(e("../buildCommon")),s=l(e("../mathMLTree")),a=c(e("../buildHTML")),u=c(e("../buildMathML"));function c(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function l(e){return e&&e.__esModule?e:{default:e}}(0,i.default)({type:"href",names:["\\href"],props:{numArgs:2,argTypes:["url","original"]},handler:function(e,t){var r=t[1];return{type:"href",href:t[0].value,body:(0,n.ordargument)(r)}},htmlBuilder:function(e,t){var r=a.buildExpression(e.value.body,t,!1),n=e.value.href,i=[],s=void 0,u=void 0;if(1===r.length)i=r[0].classes;else if(r.length>=2){if((s=a.getTypeOfDomTree(r[0])||"mord")!==(u=a.getTypeOfDomTree(r[r.length-1])||"mord")){var c=o.default.makeAnchor(n,[],r,t);return new o.default.makeFragment([new o.default.makeSpan([s],[],t),c,new o.default.makeSpan([u],[],t)])}i=[s]}return new o.default.makeAnchor(n,i,r,t)},mathmlBuilder:function(e,t){var r=u.buildExpression(e.value.body,t),n=new s.default.MathNode("mrow",r);return n.setAttribute("href",e.value.href),n}})},{"../buildCommon":91,"../buildHTML":92,"../buildMathML":93,"../defineFunction":96,"../mathMLTree":116}],107:[function(e,t,r){"use strict";var n=s(e("../defineFunction")),i=s(e("../buildCommon")),o=s(e("../mathMLTree"));function s(e){return e&&e.__esModule?e:{default:e}}(0,n.default)({type:"katex",names:["\\KaTeX"],props:{numArgs:0,allowedInText:!0},handler:function(e,t){return{type:"katex"}},htmlBuilder:function(e,t){var r=i.default.makeSpan(["k"],[i.default.mathsym("K",e.mode)],t),n=i.default.makeSpan(["a"],[i.default.mathsym("A",e.mode)],t);n.height=.75*(n.height+.2),n.depth=.75*(n.height-.2);var o=i.default.makeSpan(["t"],[i.default.mathsym("T",e.mode)],t),s=i.default.makeSpan(["e"],[i.default.mathsym("E",e.mode)],t);s.height=s.height-.2155,s.depth=s.depth+.2155;var a=i.default.makeSpan(["x"],[i.default.mathsym("X",e.mode)],t);return i.default.makeSpan(["mord","katex-logo"],[r,n,o,s,a],t)},mathmlBuilder:function(e,t){return new o.default.MathNode("mtext",[new o.default.TextNode("KaTeX")])}})},{"../buildCommon":91,"../defineFunction":96,"../mathMLTree":116}],108:[function(e,t,r){"use strict";var n=c(e("../defineFunction")),i=c(e("../buildCommon")),o=c(e("../mathMLTree")),s=u(e("../buildHTML")),a=u(e("../buildMathML"));function u(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function c(e){return e&&e.__esModule?e:{default:e}}(0,n.default)({type:"lap",names:["\\mathllap","\\mathrlap","\\mathclap"],props:{numArgs:1,allowedInText:!0},handler:function(e,t){var r=t[0];return{type:"lap",alignment:e.funcName.slice(5),body:r}},htmlBuilder:function(e,t){var r=void 0;"clap"===e.value.alignment?(r=i.default.makeSpan([],[s.buildGroup(e.value.body,t)]),r=i.default.makeSpan(["inner"],[r],t)):r=i.default.makeSpan(["inner"],[s.buildGroup(e.value.body,t)]);var n=i.default.makeSpan(["fix"],[]);return i.default.makeSpan(["mord",e.value.alignment],[r,n],t)},mathmlBuilder:function(e,t){var r=new o.default.MathNode("mpadded",[a.buildGroup(e.value.body,t)]);if("rlap"!==e.value.alignment){var n="llap"===e.value.alignment?"-1":"-0.5";r.setAttribute("lspace",n+"width")}return r.setAttribute("width","0px"),r}})},{"../buildCommon":91,"../buildHTML":92,"../buildMathML":93,"../defineFunction":96,"../mathMLTree":116}],109:[function(e,t,r){"use strict";var n=e("../defineFunction"),i=f(n),o=f(e("../buildCommon")),s=f(e("../mathMLTree")),a=f(e("../Style")),u=l(e("../buildHTML")),c=l(e("../buildMathML"));function l(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function f(e){return e&&e.__esModule?e:{default:e}}var h=function(e,t){var r=t.style;return r.size===a.default.DISPLAY.size?e.value.display:r.size===a.default.TEXT.size?e.value.text:r.size===a.default.SCRIPT.size?e.value.script:r.size===a.default.SCRIPTSCRIPT.size?e.value.scriptscript:e.value.text};(0,i.default)({type:"mathchoice",names:["\\mathchoice"],props:{numArgs:4},handler:function(e,t){return{type:"mathchoice",display:(0,n.ordargument)(t[0]),text:(0,n.ordargument)(t[1]),script:(0,n.ordargument)(t[2]),scriptscript:(0,n.ordargument)(t[3])}},htmlBuilder:function(e,t){var r=h(e,t),n=u.buildExpression(r,t,!1);return new o.default.makeFragment(n)},mathmlBuilder:function(e,t){var r=h(e,t),n=c.buildExpression(r,t,!1);return new s.default.MathNode("mrow",n)}})},{"../Style":89,"../buildCommon":91,"../buildHTML":92,"../buildMathML":93,"../defineFunction":96,"../mathMLTree":116}],110:[function(e,t,r){"use strict";var n=e("../defineFunction"),i=f(n),o=f(e("../buildCommon")),s=f(e("../mathMLTree")),a=f(e("../Style")),u=l(e("../buildHTML")),c=l(e("../buildMathML"));function l(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function f(e){return e&&e.__esModule?e:{default:e}}var h=function(e,t){var r=[];if("bmod"===e.value.modType?(t.style.isTight()||r.push(o.default.makeSpan(["mspace","negativemediumspace"],[],t)),r.push(o.default.makeSpan(["mspace","thickspace"],[],t))):t.style.size===a.default.DISPLAY.size?r.push(o.default.makeSpan(["mspace","quad"],[],t)):"mod"===e.value.modType?r.push(o.default.makeSpan(["mspace","twelvemuspace"],[],t)):r.push(o.default.makeSpan(["mspace","eightmuspace"],[],t)),"pod"!==e.value.modType&&"pmod"!==e.value.modType||r.push(o.default.mathsym("(",e.mode)),"pod"!==e.value.modType){var n=[o.default.mathsym("m",e.mode),o.default.mathsym("o",e.mode),o.default.mathsym("d",e.mode)];"bmod"===e.value.modType?(r.push(o.default.makeSpan(["mbin"],n,t)),r.push(o.default.makeSpan(["mspace","thickspace"],[],t)),t.style.isTight()||r.push(o.default.makeSpan(["mspace","negativemediumspace"],[],t))):(Array.prototype.push.apply(r,n),r.push(o.default.makeSpan(["mspace","sixmuspace"],[],t)))}return e.value.value&&Array.prototype.push.apply(r,u.buildExpression(e.value.value,t,!1)),"pod"!==e.value.modType&&"pmod"!==e.value.modType||r.push(o.default.mathsym(")",e.mode)),o.default.makeFragment(r)},p=function(e,t){var r=[];if("pod"!==e.value.modType&&"pmod"!==e.value.modType||r.push(new s.default.MathNode("mo",[c.makeText("(",e.mode)])),"pod"!==e.value.modType&&r.push(new s.default.MathNode("mo",[c.makeText("mod",e.mode)])),e.value.value){var n=new s.default.MathNode("mspace");n.setAttribute("width","0.333333em"),r.push(n),r=r.concat(c.buildExpression(e.value.value,t))}return"pod"!==e.value.modType&&"pmod"!==e.value.modType||r.push(new s.default.MathNode("mo",[c.makeText(")",e.mode)])),new s.default.MathNode("mo",r)};(0,i.default)({type:"mod",names:["\\bmod"],props:{numArgs:0},handler:function(e,t){return{type:"mod",modType:"bmod",value:null}},htmlBuilder:h,mathmlBuilder:p}),(0,i.default)({type:"mod",names:["\\pod","\\pmod","\\mod"],props:{numArgs:1},handler:function(e,t){var r=t[0];return{type:"mod",modType:e.funcName.substr(1),value:(0,n.ordargument)(r)}},htmlBuilder:h,mathmlBuilder:p})},{"../Style":89,"../buildCommon":91,"../buildHTML":92,"../buildMathML":93,"../defineFunction":96,"../mathMLTree":116}],111:[function(e,t,r){"use strict";var n=e("../defineFunction"),i=p(n),o=p(e("../buildCommon")),s=p(e("../domTree")),a=p(e("../mathMLTree")),u=p(e("../utils")),c=p(e("../Style")),l=h(e("../buildHTML")),f=h(e("../buildMathML"));function h(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function p(e){return e&&e.__esModule?e:{default:e}}var d=function(e,t){var r=void 0,n=void 0,i=!1;"supsub"===e.type&&(r=e.value.sup,n=e.value.sub,e=e.value.base,i=!0);var a=t.style,f=!1;a.size===c.default.DISPLAY.size&&e.value.symbol&&!u.default.contains(["\\smallint"],e.value.body)&&(f=!0);var h=void 0;if(e.value.symbol){var p=f?"Size2-Regular":"Size1-Regular";h=o.default.makeSymbol(e.value.body,p,"math",t,["mop","op-symbol",f?"large-op":"small-op"])}else if(e.value.value){var d=l.buildExpression(e.value.value,t,!0);1===d.length&&d[0]instanceof s.default.symbolNode?(h=d[0]).classes[0]="mop":h=o.default.makeSpan(["mop"],d,t)}else{for(var v=[],m=1;m<e.value.body.length;m++)v.push(o.default.mathsym(e.value.body[m],e.mode));h=o.default.makeSpan(["mop"],v,t)}var b=0,y=0;if(h instanceof s.default.symbolNode&&(b=(h.height-h.depth)/2-t.fontMetrics().axisHeight,y=h.italic),i){h=o.default.makeSpan([],[h]);var g=void 0,_=void 0;if(r){var w=l.buildGroup(r,t.havingStyle(a.sup()),t);_={elem:w,kern:Math.max(t.fontMetrics().bigOpSpacing1,t.fontMetrics().bigOpSpacing3-w.depth)}}if(n){var x=l.buildGroup(n,t.havingStyle(a.sub()),t);g={elem:x,kern:Math.max(t.fontMetrics().bigOpSpacing2,t.fontMetrics().bigOpSpacing4-x.height)}}var k=void 0;if(_&&g){var j=t.fontMetrics().bigOpSpacing5+g.elem.height+g.elem.depth+g.kern+h.depth+b;k=o.default.makeVList({positionType:"bottom",positionData:j,children:[{type:"kern",size:t.fontMetrics().bigOpSpacing5},{type:"elem",elem:g.elem,marginLeft:-y+"em"},{type:"kern",size:g.kern},{type:"elem",elem:h},{type:"kern",size:_.kern},{type:"elem",elem:_.elem,marginLeft:y+"em"},{type:"kern",size:t.fontMetrics().bigOpSpacing5}]},t)}else if(g){var S=h.height-b;k=o.default.makeVList({positionType:"top",positionData:S,children:[{type:"kern",size:t.fontMetrics().bigOpSpacing5},{type:"elem",elem:g.elem,marginLeft:-y+"em"},{type:"kern",size:g.kern},{type:"elem",elem:h}]},t)}else{if(!_)return h;var O=h.depth+b;k=o.default.makeVList({positionType:"bottom",positionData:O,children:[{type:"elem",elem:h},{type:"kern",size:_.kern},{type:"elem",elem:_.elem,marginLeft:y+"em"},{type:"kern",size:t.fontMetrics().bigOpSpacing5}]},t)}return o.default.makeSpan(["mop","op-limits"],[k],t)}return b&&(h.style.position="relative",h.style.top=b+"em"),h},v=function(e,t){var r=void 0;if(e.value.symbol)r=new a.default.MathNode("mo",[f.makeText(e.value.body,e.mode)]);else{if(!e.value.value){r=new a.default.MathNode("mi",[new a.default.TextNode(e.value.body.slice(1))]);var n=new a.default.MathNode("mo",[f.makeText("","text")]);return new s.default.documentFragment([r,n])}r=new a.default.MathNode("mo",f.buildExpression(e.value.value,t))}return r},m={"":"\\prod","":"\\coprod","":"\\sum","":"\\bigwedge","":"\\bigvee","":"\\bigcap","":"\\bigcap","":"\\bigodot","":"\\bigoplus","":"\\bigotimes","":"\\biguplus","":"\\bigsqcup"};(0,i.default)({type:"op",names:["\\coprod","\\bigvee","\\bigwedge","\\biguplus","\\bigcap","\\bigcup","\\intop","\\prod","\\sum","\\bigotimes","\\bigoplus","\\bigodot","\\bigsqcup","\\smallint","","","","","","","","","","","",""],props:{numArgs:0},handler:function(e,t){var r=e.funcName;return 1===r.length&&(r=m[r]),{type:"op",limits:!0,symbol:!0,body:r}},htmlBuilder:d,mathmlBuilder:v}),(0,i.default)({type:"op",names:["\\mathop"],props:{numArgs:1},handler:function(e,t){var r=t[0];return{type:"op",limits:!1,symbol:!1,value:(0,n.ordargument)(r)}},htmlBuilder:d,mathmlBuilder:v})},{"../Style":89,"../buildCommon":91,"../buildHTML":92,"../buildMathML":93,"../defineFunction":96,"../domTree":98,"../mathMLTree":116,"../utils":123}],112:[function(e,t,r){"use strict";var n=e("../defineFunction"),i=f(n),o=f(e("../buildCommon")),s=f(e("../mathMLTree")),a=f(e("../domTree")),u=l(e("../buildHTML")),c=l(e("../buildMathML"));function l(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function f(e){return e&&e.__esModule?e:{default:e}}(0,i.default)({type:"operatorname",names:["\\operatorname"],props:{numArgs:1},handler:function(e,t){var r=t[0];return{type:"operatorname",value:(0,n.ordargument)(r)}},htmlBuilder:function(e,t){var r=[];if(e.value.value.length>0)for(var n="",i="",s=u.buildExpression(e.value.value,t,!0),a=0;a<s.length;a++)n=(n=(n=s[a].value).replace(/\u2212/,"-")).replace(/\u2217/,"*"),i=/[\u0391-\u03D7]/.test(n)?"math":"text",r.push(o.default.mathsym(n,i));return o.default.makeSpan(["mop"],r,t)},mathmlBuilder:function(e,t){var r=[];if(e.value.value.length>0){for(var n=c.buildExpression(e.value.value,t),i="",o=0;o<n.length;o++)i+=n[o].children[0].text;i=(i=i.replace(/\u2212/g,"-")).replace(/\u2217/g,"*"),r=[new s.default.TextNode(i)]}var u=new s.default.MathNode("mi",r);u.setAttribute("mathvariant","normal");var l=new s.default.MathNode("mo",[c.makeText("","text")]);return new a.default.documentFragment([u,l])}})},{"../buildCommon":91,"../buildHTML":92,"../buildMathML":93,"../defineFunction":96,"../domTree":98,"../mathMLTree":116}],113:[function(e,t,r){"use strict";var n=e("../defineFunction"),i=l(n),o=l(e("../buildCommon")),s=l(e("../mathMLTree")),a=c(e("../buildHTML")),u=c(e("../buildMathML"));function c(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function l(e){return e&&e.__esModule?e:{default:e}}(0,i.default)({type:"phantom",names:["\\phantom"],props:{numArgs:1},handler:function(e,t){var r=t[0];return{type:"phantom",value:(0,n.ordargument)(r)}},htmlBuilder:function(e,t){var r=a.buildExpression(e.value.value,t.withPhantom(),!1);return new o.default.makeFragment(r)},mathmlBuilder:function(e,t){var r=u.buildExpression(e.value.value,t);return new s.default.MathNode("mphantom",r)}}),(0,i.default)({type:"hphantom",names:["\\hphantom"],props:{numArgs:1},handler:function(e,t){var r=t[0];return{type:"hphantom",value:(0,n.ordargument)(r),body:r}},htmlBuilder:function(e,t){var r=o.default.makeSpan([],[a.buildGroup(e.value.body,t.withPhantom())]);if(r.height=0,r.depth=0,r.children)for(var n=0;n<r.children.length;n++)r.children[n].height=0,r.children[n].depth=0;return r=o.default.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:r}]},t)},mathmlBuilder:function(e,t){var r=u.buildExpression(e.value.value,t),n=new s.default.MathNode("mphantom",r);return n.setAttribute("height","0px"),n}}),(0,i.default)({type:"vphantom",names:["\\vphantom"],props:{numArgs:1},handler:function(e,t){var r=t[0];return{type:"vphantom",value:(0,n.ordargument)(r),body:r}},htmlBuilder:function(e,t){var r=o.default.makeSpan(["inner"],[a.buildGroup(e.value.body,t.withPhantom())]),n=o.default.makeSpan(["fix"],[]);return o.default.makeSpan(["mord","rlap"],[r,n],t)},mathmlBuilder:function(e,t){var r=u.buildExpression(e.value.value,t),n=new s.default.MathNode("mphantom",r);return n.setAttribute("width","0px"),n}})},{"../buildCommon":91,"../buildHTML":92,"../buildMathML":93,"../defineFunction":96,"../mathMLTree":116}],114:[function(e,t,r){"use strict";var n=c(e("../defineFunction")),i=c(e("../buildCommon")),o=c(e("../mathMLTree")),s=u(e("../buildHTML")),a=u(e("../buildMathML"));function u(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function c(e){return e&&e.__esModule?e:{default:e}}(0,n.default)({type:"smash",names:["\\smash"],props:{numArgs:1,numOptionalArgs:1,allowedInText:!0},handler:function(e,t,r){var n=!1,i=!1,o=r[0];if(o)for(var s="",a=0;a<o.value.length;++a)if("t"===(s=o.value[a].value))n=!0;else{if("b"!==s){n=!1,i=!1;break}i=!0}else n=!0,i=!0;return{type:"smash",body:t[0],smashHeight:n,smashDepth:i}},htmlBuilder:function(e,t){var r=i.default.makeSpan(["mord"],[s.buildGroup(e.value.body,t)]);if(!e.value.smashHeight&&!e.value.smashDepth)return r;if(e.value.smashHeight&&(r.height=0,r.children))for(var n=0;n<r.children.length;n++)r.children[n].height=0;if(e.value.smashDepth&&(r.depth=0,r.children))for(var o=0;o<r.children.length;o++)r.children[o].depth=0;return i.default.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:r}]},t)},mathmlBuilder:function(e,t){var r=new o.default.MathNode("mpadded",[a.buildGroup(e.value.body,t)]);return e.value.smashHeight&&r.setAttribute("height","0px"),e.value.smashDepth&&r.setAttribute("depth","0px"),r}})},{"../buildCommon":91,"../buildHTML":92,"../buildMathML":93,"../defineFunction":96,"../mathMLTree":116}],115:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=o(e("./symbols")),i=o(e("./utils"));e("./Token");function o(e){return e&&e.__esModule?e:{default:e}}var s={};function a(e,t){s[e]=t}r.default=s,a("\\@firstoftwo",function(e){return{tokens:e.consumeArgs(2)[0],numArgs:0}}),a("\\@ifnextchar",function(e){var t=e.consumeArgs(3),r=e.future();return 1===t[0].length&&t[0][0].text===r.text?{tokens:t[1],numArgs:0}:{tokens:t[2],numArgs:0}}),a("\\@ifstar","\\@ifnextchar *{\\@firstoftwo{#1}}"),a("\\bgroup","{"),a("\\egroup","}"),a("\\begingroup","{"),a("\\endgroup","}"),a("","\\mathbb{C}"),a("","\\mathbb{H}"),a("","\\mathbb{N}"),a("","\\mathbb{P}"),a("","\\mathbb{Q}"),a("","\\mathbb{R}"),a("","\\mathbb{Z}"),a("\\mkern","\\kern"),a("\\llap","\\mathllap{\\textrm{#1}}"),a("\\rlap","\\mathrlap{\\textrm{#1}}"),a("\\clap","\\mathclap{\\textrm{#1}}"),a("\\overset","\\mathop{#2}\\limits^{#1}"),a("\\underset","\\mathop{#2}\\limits_{#1}"),a("\\boxed","\\fbox{\\displaystyle{#1}}"),a("\\iff","\\DOTSB\\;\\Longleftrightarrow\\;"),a("\\implies","\\DOTSB\\;\\Longrightarrow\\;"),a("\\impliedby","\\DOTSB\\;\\Longleftarrow\\;");var u={",":"\\dotsc","\\not":"\\dotsb","+":"\\dotsb","=":"\\dotsb","<":"\\dotsb",">":"\\dotsb","-":"\\dotsb","*":"\\dotsb",":":"\\dotsb","\\DOTSB":"\\dotsb","\\coprod":"\\dotsb","\\bigvee":"\\dotsb","\\bigwedge":"\\dotsb","\\biguplus":"\\dotsb","\\bigcap":"\\dotsb","\\bigcup":"\\dotsb","\\prod":"\\dotsb","\\sum":"\\dotsb","\\bigotimes":"\\dotsb","\\bigoplus":"\\dotsb","\\bigodot":"\\dotsb","\\bigsqcup":"\\dotsb","\\implies":"\\dotsb","\\impliedby":"\\dotsb","\\And":"\\dotsb","\\longrightarrow":"\\dotsb","\\Longrightarrow":"\\dotsb","\\longleftarrow":"\\dotsb","\\Longleftarrow":"\\dotsb","\\longleftrightarrow":"\\dotsb","\\Longleftrightarrow":"\\dotsb","\\mapsto":"\\dotsb","\\longmapsto":"\\dotsb","\\hookrightarrow":"\\dotsb","\\iff":"\\dotsb","\\doteq":"\\dotsb","\\mathbin":"\\dotsb","\\bmod":"\\dotsb","\\mathrel":"\\dotsb","\\relbar":"\\dotsb","\\Relbar":"\\dotsb","\\xrightarrow":"\\dotsb","\\xleftarrow":"\\dotsb","\\DOTSI":"\\dotsi","\\int":"\\dotsi","\\oint":"\\dotsi","\\iint":"\\dotsi","\\iiint":"\\dotsi","\\iiiint":"\\dotsi","\\idotsint":"\\dotsi","\\DOTSX":"\\dotsx"};a("\\dots",function(e){var t="\\dotso",r=e.expandAfterFuture().text;return r in u?t=u[r]:"\\not"===r.substr(0,4)?t="\\dotsb":r in n.default.math&&i.default.contains(["bin","rel"],n.default.math[r].group)&&(t="\\dotsb"),t});var c={")":!0,"]":!0,"\\rbrack":!0,"\\}":!0,"\\rbrace":!0,"\\rangle":!0,"\\rceil":!0,"\\rfloor":!0,"\\rgroup":!0,"\\rmoustache":!0,"\\right":!0,"\\bigr":!0,"\\biggr":!0,"\\Bigr":!0,"\\Biggr":!0,$:!0,";":!0,".":!0,",":!0};a("\\dotso",function(e){return e.future().text in c?"\\ldots\\,":"\\ldots"}),a("\\dotsc",function(e){var t=e.future().text;return t in c&&","!==t?"\\ldots\\,":"\\ldots"}),a("\\cdots",function(e){return e.future().text in c?"\\@cdots\\,":"\\@cdots"}),a("\\dotsb","\\cdots"),a("\\dotsm","\\cdots"),a("\\dotsi","\\!\\cdots"),a("\\dotsx","\\ldots\\,"),a("\\DOTSI","\\relax"),a("\\DOTSB","\\relax"),a("\\DOTSX","\\relax"),a("\\thinspace","\\,"),a("\\medspace","\\:"),a("\\thickspace","\\;"),a("\\hspace","\\@ifstar\\kern\\kern"),a("\\ordinarycolon",":"),a("\\vcentcolon","\\mathrel{\\mathop\\ordinarycolon}"),a("\\dblcolon","\\vcentcolon\\mathrel{\\mkern-.9mu}\\vcentcolon"),a("\\coloneqq","\\vcentcolon\\mathrel{\\mkern-1.2mu}="),a("\\Coloneqq","\\dblcolon\\mathrel{\\mkern-1.2mu}="),a("\\coloneq","\\vcentcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}"),a("\\Coloneq","\\dblcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}"),a("\\eqqcolon","=\\mathrel{\\mkern-1.2mu}\\vcentcolon"),a("\\Eqqcolon","=\\mathrel{\\mkern-1.2mu}\\dblcolon"),a("\\eqcolon","\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\vcentcolon"),a("\\Eqcolon","\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\dblcolon"),a("\\colonapprox","\\vcentcolon\\mathrel{\\mkern-1.2mu}\\approx"),a("\\Colonapprox","\\dblcolon\\mathrel{\\mkern-1.2mu}\\approx"),a("\\colonsim","\\vcentcolon\\mathrel{\\mkern-1.2mu}\\sim"),a("\\Colonsim","\\dblcolon\\mathrel{\\mkern-1.2mu}\\sim"),a("\\ratio","\\vcentcolon"),a("\\coloncolon","\\dblcolon"),a("\\colonequals","\\coloneqq"),a("\\coloncolonequals","\\Coloneqq"),a("\\equalscolon","\\eqqcolon"),a("\\equalscoloncolon","\\Eqqcolon"),a("\\colonminus","\\coloneq"),a("\\coloncolonminus","\\Coloneq"),a("\\minuscolon","\\eqcolon"),a("\\minuscoloncolon","\\Eqcolon"),a("\\coloncolonapprox","\\Colonapprox"),a("\\coloncolonsim","\\Colonsim"),a("\\simcolon","\\sim\\mathrel{\\mkern-1.2mu}\\vcentcolon"),a("\\simcoloncolon","\\sim\\mathrel{\\mkern-1.2mu}\\dblcolon"),a("\\approxcolon","\\approx\\mathrel{\\mkern-1.2mu}\\vcentcolon"),a("\\approxcoloncolon","\\approx\\mathrel{\\mkern-1.2mu}\\dblcolon"),a("\\notni","\\not\\ni")},{"./Token":90,"./symbols":120,"./utils":123}],116:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=a(e("babel-runtime/core-js/get-iterator")),i=a(e("babel-runtime/helpers/classCallCheck")),o=a(e("babel-runtime/helpers/createClass")),s=a(e("./utils"));function a(e){return e&&e.__esModule?e:{default:e}}var u=function(){function e(t,r){(0,i.default)(this,e),this.type=t,this.attributes={},this.children=r||[]}return(0,o.default)(e,[{key:"setAttribute",value:function(e,t){this.attributes[e]=t}},{key:"toNode",value:function(){var e=document.createElementNS("http://www.w3.org/1998/Math/MathML",this.type);for(var t in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,t)&&e.setAttribute(t,this.attributes[t]);var r=!0,i=!1,o=void 0;try{for(var s,a=(0,n.default)(this.children);!(r=(s=a.next()).done);r=!0){var u=s.value;e.appendChild(u.toNode())}}catch(e){i=!0,o=e}finally{try{!r&&a.return&&a.return()}finally{if(i)throw o}}return e}},{key:"toMarkup",value:function(){var e="<"+this.type;for(var t in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,t)&&(e+=" "+t+'="',e+=s.default.escape(this.attributes[t]),e+='"');e+=">";for(var r=0;r<this.children.length;r++)e+=this.children[r].toMarkup();return e+="</"+this.type+">"}}]),e}(),c=function(){function e(t){(0,i.default)(this,e),this.text=t}return(0,o.default)(e,[{key:"toNode",value:function(){return document.createTextNode(this.text)}},{key:"toMarkup",value:function(){return s.default.escape(this.text)}}]),e}();r.default={MathNode:u,TextNode:c}},{"./utils":123,"babel-runtime/core-js/get-iterator":3,"babel-runtime/helpers/classCallCheck":8,"babel-runtime/helpers/createClass":9}],117:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n,i=e("./Parser"),o=(n=i)&&n.__esModule?n:{default:n};r.default=function(e,t){if(!("string"==typeof e||e instanceof String))throw new TypeError("KaTeX can only parse string typed expression");return new o.default(e,t).parse()}},{"./Parser":86}],118:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=u(e("babel-runtime/helpers/slicedToArray")),i=u(e("./domTree")),o=u(e("./buildCommon")),s=u(e("./mathMLTree")),a=u(e("./utils"));function u(e){return e&&e.__esModule?e:{default:e}}var c={widehat:"^",widetilde:"~",utilde:"~",overleftarrow:"",underleftarrow:"",xleftarrow:"",overrightarrow:"",underrightarrow:"",xrightarrow:"",underbrace:"",overbrace:"",overleftrightarrow:"",underleftrightarrow:"",xleftrightarrow:"",Overrightarrow:"",xRightarrow:"",overleftharpoon:"",xleftharpoonup:"",overrightharpoon:"",xrightharpoonup:"",xLeftarrow:"",xLeftrightarrow:"",xhookleftarrow:"",xhookrightarrow:"",xmapsto:"",xrightharpoondown:"",xleftharpoondown:"",xrightleftharpoons:"",xleftrightharpoons:"",xtwoheadleftarrow:"",xtwoheadrightarrow:"",xLongequal:"=",xtofrom:""},l={overrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],overleftarrow:[["leftarrow"],.888,522,"xMinYMin"],underrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],underleftarrow:[["leftarrow"],.888,522,"xMinYMin"],xrightarrow:[["rightarrow"],1.469,522,"xMaxYMin"],xleftarrow:[["leftarrow"],1.469,522,"xMinYMin"],Overrightarrow:[["doublerightarrow"],.888,560,"xMaxYMin"],xRightarrow:[["doublerightarrow"],1.526,560,"xMaxYMin"],xLeftarrow:[["doubleleftarrow"],1.526,560,"xMinYMin"],overleftharpoon:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoonup:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoondown:[["leftharpoondown"],.888,522,"xMinYMin"],overrightharpoon:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoonup:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoondown:[["rightharpoondown"],.888,522,"xMaxYMin"],xLongequal:[["longequal"],.888,334,"xMinYMin"],xtwoheadleftarrow:[["twoheadleftarrow"],.888,334,"xMinYMin"],xtwoheadrightarrow:[["twoheadrightarrow"],.888,334,"xMaxYMin"],overleftrightarrow:[["leftarrow","rightarrow"],.888,522],overbrace:[["leftbrace","midbrace","rightbrace"],1.6,548],underbrace:[["leftbraceunder","midbraceunder","rightbraceunder"],1.6,548],underleftrightarrow:[["leftarrow","rightarrow"],.888,522],xleftrightarrow:[["leftarrow","rightarrow"],1.75,522],xLeftrightarrow:[["doubleleftarrow","doublerightarrow"],1.75,560],xrightleftharpoons:[["leftharpoondownplus","rightharpoonplus"],1.75,716],xleftrightharpoons:[["leftharpoonplus","rightharpoondownplus"],1.75,716],xhookleftarrow:[["leftarrow","righthook"],1.08,522],xhookrightarrow:[["lefthook","rightarrow"],1.08,522],overlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],underlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],overgroup:[["leftgroup","rightgroup"],.888,342],undergroup:[["leftgroupunder","rightgroupunder"],.888,342],xmapsto:[["leftmapsto","rightarrow"],1.5,522],xtofrom:[["leftToFrom","rightToFrom"],1.75,528]},f=function(e){return"ordgroup"===e.type?e.value.length:1};r.default={encloseSpan:function(e,t,r,n){var s=void 0,a=e.height+e.depth+2*r;if(/fbox|color/.test(t)){if(s=o.default.makeSpan(["stretchy",t],[],n),"fbox"===t){var u=n.color&&n.getColor();u&&(s.style.borderColor=u)}}else{var c=[];/^[bx]cancel$/.test(t)&&c.push(new i.default.lineNode({x1:"0",y1:"0",x2:"100%",y2:"100%","stroke-width":"0.046em"})),/^x?cancel$/.test(t)&&c.push(new i.default.lineNode({x1:"0",y1:"100%",x2:"100%",y2:"0","stroke-width":"0.046em"}));var l=new i.default.svgNode(c,{width:"100%",height:a+"em"});s=o.default.makeSpan([],[l],n)}return s.height=a,s.style.height=a+"em",s},mathMLnode:function(e){var t=new s.default.MathNode("mo",[new s.default.TextNode(c[e.substr(1)])]);return t.setAttribute("stretchy","true"),t},ruleSpan:function(e,t){var r=new i.default.pathNode("bigRule"),n=new i.default.svgNode([r],{width:"400em",height:"400em",viewBox:"0 0 400000 400000",preserveAspectRatio:"xMinYMin slice"});return o.default.makeSpan([e,"hide-tail"],[n],t)},svgSpan:function(e,t){var r=function(){var r=4e5,s=e.value.label.substr(1);if(a.default.contains(["widehat","widetilde","utilde"],s)){var u=f(e.value.base),c=void 0,h=void 0,p=void 0;if(u>5)c="widehat"===s?420:312,r="widehat"===s?2364:2340,p="widehat"===s?.42:.34,h=("widehat"===s?"widehat":"tilde")+"4";else{var d=[1,1,2,2,3,3][u];"widehat"===s?(r=[0,1062,2364,2364,2364][d],c=[0,239,300,360,420][d],p=[0,.24,.3,.3,.36,.42][d],h="widehat"+d):(r=[0,600,1033,2339,2340][d],c=[0,260,286,306,312][d],p=[0,.26,.286,.3,.306,.34][d],h="tilde"+d)}var v=new i.default.pathNode(h),m=new i.default.svgNode([v],{width:"100%",height:p+"em",viewBox:"0 0 "+r+" "+c,preserveAspectRatio:"none"});return{span:o.default.makeSpan([],[m],t),minWidth:0,height:p}}var b=[],y=(0,n.default)(l[s],4),g=y[0],_=y[1],w=y[2],x=y[3],k=w/1e3,j=g.length,S=void 0,O=void 0;if(1===j)S=["hide-tail"],O=[x];else if(2===j)S=["halfarrow-left","halfarrow-right"],O=["xMinYMin","xMaxYMin"];else{if(3!==j)throw new Error("Correct katexImagesData or update code here to support\n                    "+j+" children.");S=["brace-left","brace-center","brace-right"],O=["xMinYMin","xMidYMin","xMaxYMin"]}for(var E=0;E<j;E++){var C=new i.default.pathNode(g[E]),A=new i.default.svgNode([C],{width:"400em",height:k+"em",viewBox:"0 0 "+r+" "+w,preserveAspectRatio:O[E]+" slice"}),T=o.default.makeSpan([S[E]],[A],t);if(1===j)return{span:T,minWidth:_,height:k};T.style.height=k+"em",b.push(T)}return{span:o.default.makeSpan(["stretchy"],b,t),minWidth:_,height:k}}(),s=r.span,u=r.minWidth,c=r.height;return s.height=c,s.style.height=c+"em",u>0&&(s.style.minWidth=u+"em"),s}}},{"./buildCommon":91,"./domTree":98,"./mathMLTree":116,"./utils":123,"babel-runtime/helpers/slicedToArray":10}],119:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});r.default={path:{bigRule:"M0 0 h400000 v400000 h-400000z M0 0 h400000 v400000 h-400000z",sqrtMain:"M95 622c-2.667 0-7.167-2.667-13.5\n-8S72 604 72 600c0-2 .333-3.333 1-4 1.333-2.667 23.833-20.667 67.5-54s\n65.833-50.333 66.5-51c1.333-1.333 3-2 5-2 4.667 0 8.667 3.333 12 10l173\n378c.667 0 35.333-71 104-213s137.5-285 206.5-429S812 17.333 812 14c5.333\n-9.333 12-14 20-14h399166v40H845.272L620 507 385 993c-2.667 4.667-9 7-19\n7-6 0-10-1-12-3L160 575l-65 47zM834 0h399166v40H845z",sqrtSize1:"M263 601c.667 0 18 39.667 52 119s68.167\n 158.667 102.5 238 51.833 119.333 52.5 120C810 373.333 980.667 17.667 982 11\nc4.667-7.333 11-11 19-11h398999v40H1012.333L741 607c-38.667 80.667-84 175-136\n 283s-89.167 185.333-111.5 232-33.833 70.333-34.5 71c-4.667 4.667-12.333 7-23\n 7l-12-1-109-253c-72.667-168-109.333-252-110-252-10.667 8-22 16.667-34 26-22\n 17.333-33.333 26-34 26l-26-26 76-59 76-60zM1001 0h398999v40H1012z",sqrtSize2:"M1001 0h398999v40H1013.084S929.667 308 749\n 880s-277 876.333-289 913c-4.667 4.667-12.667 7-24 7h-12c-1.333-3.333-3.667\n-11.667-7-25-35.333-125.333-106.667-373.333-214-744-10 12-21 25-33 39l-32 39\nc-6-5.333-15-14-27-26l25-30c26.667-32.667 52-63 76-91l52-60 208 722c56-175.333\n 126.333-397.333 211-666s153.833-488.167 207.5-658.5C944.167 129.167 975 32.667\n 983 10c4-6.667 10-10 18-10zm0 0h398999v40H1013z",sqrtSize3:"M424 2398c-1.333-.667-38.5-172-111.5-514 S202.667 1370.667 202\n 1370c0-2-10.667 14.333-32 49-4.667 7.333-9.833 15.667-15.5 25s-9.833 16-12.5\n 20l-5 7c-4-3.333-8.333-7.667-13-13l-13-13 76-122 77-121 209 968c0-2 84.667\n-361.667 254-1079C896.333 373.667 981.667 13.333 983 10c4-6.667 10-10 18-10\nh398999v40H1014.622S927.332 418.667 742 1206c-185.333 787.333-279.333 1182.333\n-282 1185-2 6-10 9-24 9-8 0-12-.667-12-2zM1001 0h398999v40H1014z",sqrtSize4:"M473 2713C812.333 913.667 982.333 13 983 11c3.333-7.333 9.333\n-11 18-11h399110v40H1017.698S927.168 518 741.5 1506C555.833 2494 462 2989 460\n 2991c-2 6-10 9-24 9-8 0-12-.667-12-2s-5.333-32-16-92c-50.667-293.333-119.667\n-693.333-207-1200 0-1.333-5.333 8.667-16 30l-32 64-16 33-26-26 76-153 77-151\nc.667.667 35.667 202 105 604 67.333 400.667 102 602.667 104 606z\nM1001 0h398999v40H1017z",doubleleftarrow:"M262 157\nl10-10c34-36 62.7-77 86-123 3.3-8 5-13.3 5-16 0-5.3-6.7-8-20-8-7.3\n 0-12.2.5-14.5 1.5-2.3 1-4.8 4.5-7.5 10.5-49.3 97.3-121.7 169.3-217 216-28\n 14-57.3 25-88 33-6.7 2-11 3.8-13 5.5-2 1.7-3 4.2-3 7.5s1 5.8 3 7.5\nc2 1.7 6.3 3.5 13 5.5 68 17.3 128.2 47.8 180.5 91.5 52.3 43.7 93.8 96.2 124.5\n 157.5 9.3 8 15.3 12.3 18 13h6c12-.7 18-4 18-10 0-2-1.7-7-5-15-23.3-46-52-87\n-86-123l-10-10h399738v-40H218c328 0 0 0 0 0l-10-8c-26.7-20-65.7-43-117-69 2.7\n-2 6-3.7 10-5 36.7-16 72.3-37.3 107-64l10-8h399782v-40z\nm8 0v40h399730v-40zm0 194v40h399730v-40z",doublerightarrow:"M399738 392l\n-10 10c-34 36-62.7 77-86 123-3.3 8-5 13.3-5 16 0 5.3 6.7 8 20 8 7.3 0 12.2-.5\n 14.5-1.5 2.3-1 4.8-4.5 7.5-10.5 49.3-97.3 121.7-169.3 217-216 28-14 57.3-25 88\n-33 6.7-2 11-3.8 13-5.5 2-1.7 3-4.2 3-7.5s-1-5.8-3-7.5c-2-1.7-6.3-3.5-13-5.5-68\n-17.3-128.2-47.8-180.5-91.5-52.3-43.7-93.8-96.2-124.5-157.5-9.3-8-15.3-12.3-18\n-13h-6c-12 .7-18 4-18 10 0 2 1.7 7 5 15 23.3 46 52 87 86 123l10 10H0v40h399782\nc-328 0 0 0 0 0l10 8c26.7 20 65.7 43 117 69-2.7 2-6 3.7-10 5-36.7 16-72.3 37.3\n-107 64l-10 8H0v40zM0 157v40h399730v-40zm0 194v40h399730v-40z",leftarrow:"M400000 241H110l3-3c68.7-52.7 113.7-120\n 135-202 4-14.7 6-23 6-25 0-7.3-7-11-21-11-8 0-13.2.8-15.5 2.5-2.3 1.7-4.2 5.8\n-5.5 12.5-1.3 4.7-2.7 10.3-4 17-12 48.7-34.8 92-68.5 130S65.3 228.3 18 247\nc-10 4-16 7.7-18 11 0 8.7 6 14.3 18 17 47.3 18.7 87.8 47 121.5 85S196 441.3 208\n 490c.7 2 1.3 5 2 9s1.2 6.7 1.5 8c.3 1.3 1 3.3 2 6s2.2 4.5 3.5 5.5c1.3 1 3.3\n 1.8 6 2.5s6 1 10 1c14 0 21-3.7 21-11 0-2-2-10.3-6-25-20-79.3-65-146.7-135-202\n l-3-3h399890zM100 241v40h399900v-40z",leftbrace:"M6 548l-6-6v-35l6-11c56-104 135.3-181.3 238-232 57.3-28.7 117\n-45 179-50h399577v120H403c-43.3 7-81 15-113 26-100.7 33-179.7 91-237 174-2.7\n 5-6 9-10 13-.7 1-7.3 1-20 1H6z",leftbraceunder:"M0 6l6-6h17c12.688 0 19.313.3 20 1 4 4 7.313 8.3 10 13\n 35.313 51.3 80.813 93.8 136.5 127.5 55.688 33.7 117.188 55.8 184.5 66.5.688\n 0 2 .3 4 1 18.688 2.7 76 4.3 172 5h399450v120H429l-6-1c-124.688-8-235-61.7\n-331-161C60.687 138.7 32.312 99.3 7 54L0 41V6z",leftgroup:"M400000 80\nH435C64 80 168.3 229.4 21 260c-5.9 1.2-18 0-18 0-2 0-3-1-3-3v-38C76 61 257 0\n 435 0h399565z",leftgroupunder:"M400000 262\nH435C64 262 168.3 112.6 21 82c-5.9-1.2-18 0-18 0-2 0-3 1-3 3v38c76 158 257 219\n 435 219h399565z",leftharpoon:"M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3\n-3.3 10.2-9.5 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5\n-18.3 3-21-1.3-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7\n-196 228-6.7 4.7-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40z",leftharpoonplus:"M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3-3.3 10.2-9.5\n 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5-18.3 3-21-1.3\n-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7-196 228-6.7 4.7\n-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40zM0 435v40h400000v-40z\nm0 0v40h400000v-40z",leftharpoondown:"M7 241c-4 4-6.333 8.667-7 14 0 5.333.667 9 2 11s5.333\n 5.333 12 10c90.667 54 156 130 196 228 3.333 10.667 6.333 16.333 9 17 2 .667 5\n 1 9 1h5c10.667 0 16.667-2 18-6 2-2.667 1-9.667-3-21-32-87.333-82.667-157.667\n-152-211l-3-3h399907v-40zM93 281 H400000 v-40L7 241z",leftharpoondownplus:"M7 435c-4 4-6.3 8.7-7 14 0 5.3.7 9 2 11s5.3 5.3 12\n 10c90.7 54 156 130 196 228 3.3 10.7 6.3 16.3 9 17 2 .7 5 1 9 1h5c10.7 0 16.7\n-2 18-6 2-2.7 1-9.7-3-21-32-87.3-82.7-157.7-152-211l-3-3h399907v-40H7zm93 0\nv40h399900v-40zM0 241v40h399900v-40zm0 0v40h399900v-40z",lefthook:"M400000 281 H103s-33-11.2-61-33.5S0 197.3 0 164s14.2-61.2 42.5\n-83.5C70.8 58.2 104 47 142 47 c16.7 0 25 6.7 25 20 0 12-8.7 18.7-26 20-40 3.3\n-68.7 15.7-86 37-10 12-15 25.3-15 40 0 22.7 9.8 40.7 29.5 54 19.7 13.3 43.5 21\n 71.5 23h399859zM103 281v-40h399897v40z",leftlinesegment:"M40 281 V428 H0 V94 H40 V241 H400000 v40z\nM40 281 V428 H0 V94 H40 V241 H400000 v40z",leftmapsto:"M40 281 V448H0V74H40V241H400000v40z\nM40 281 V448H0V74H40V241H400000v40z",leftToFrom:"M0 147h400000v40H0zm0 214c68 40 115.7 95.7 143 167h22c15.3 0 23\n-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69-70-101l-7-8h399905v-40H95l7-8\nc28.7-32 52-65.7 70-101 10.7-23.3 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 265.3\n 68 321 0 361zm0-174v-40h399900v40zm100 154v40h399900v-40z",longequal:"M0 50 h400000 v40H0z m0 194h40000v40H0z\nM0 50 h400000 v40H0z m0 194h40000v40H0z",midbrace:"M200428 334\nc-100.7-8.3-195.3-44-280-108-55.3-42-101.7-93-139-153l-9-14c-2.7 4-5.7 8.7-9 14\n-53.3 86.7-123.7 153-211 199-66.7 36-137.3 56.3-212 62H0V214h199568c178.3-11.7\n 311.7-78.3 403-201 6-8 9.7-12 11-12 .7-.7 6.7-1 18-1s17.3.3 18 1c1.3 0 5 4 11\n 12 44.7 59.3 101.3 106.3 170 141s145.3 54.3 229 60h199572v120z",midbraceunder:"M199572 214\nc100.7 8.3 195.3 44 280 108 55.3 42 101.7 93 139 153l9 14c2.7-4 5.7-8.7 9-14\n 53.3-86.7 123.7-153 211-199 66.7-36 137.3-56.3 212-62h199568v120H200432c-178.3\n 11.7-311.7 78.3-403 201-6 8-9.7 12-11 12-.7.7-6.7 1-18 1s-17.3-.3-18-1c-1.3 0\n-5-4-11-12-44.7-59.3-101.3-106.3-170-141s-145.3-54.3-229-60H0V214z",rightarrow:"M0 241v40h399891c-47.3 35.3-84 78-110 128\n-16.7 32-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20\n 11 8 0 13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7\n 39-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85\n-40.5-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5\n-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67\n 151.7 139 205zm0 0v40h399900v-40z",rightbrace:"M400000 542l\n-6 6h-17c-12.7 0-19.3-.3-20-1-4-4-7.3-8.3-10-13-35.3-51.3-80.8-93.8-136.5-127.5\ns-117.2-55.8-184.5-66.5c-.7 0-2-.3-4-1-18.7-2.7-76-4.3-172-5H0V214h399571l6 1\nc124.7 8 235 61.7 331 161 31.3 33.3 59.7 72.7 85 118l7 13v35z",rightbraceunder:"M399994 0l6 6v35l-6 11c-56 104-135.3 181.3-238 232-57.3\n 28.7-117 45-179 50H-300V214h399897c43.3-7 81-15 113-26 100.7-33 179.7-91 237\n-174 2.7-5 6-9 10-13 .7-1 7.3-1 20-1h17z",rightgroup:"M0 80h399565c371 0 266.7 149.4 414 180 5.9 1.2 18 0 18 0 2 0\n 3-1 3-3v-38c-76-158-257-219-435-219H0z",rightgroupunder:"M0 262h399565c371 0 266.7-149.4 414-180 5.9-1.2 18 0 18\n 0 2 0 3 1 3 3v38c-76 158-257 219-435 219H0z",rightharpoon:"M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3\n-3.7-15.3-11-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2\n-10.7 0-16.7 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58\n 69.2 92 94.5zm0 0v40h399900v-40z",rightharpoonplus:"M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3-3.7-15.3-11\n-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2-10.7 0-16.7\n 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58 69.2 92 94.5z\nm0 0v40h399900v-40z m100 194v40h399900v-40zm0 0v40h399900v-40z",rightharpoondown:"M399747 511c0 7.3 6.7 11 20 11 8 0 13-.8 15-2.5s4.7-6.8\n 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3 8.5-5.8 9.5\n-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3-64.7 57-92 95\n-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 241v40h399900v-40z",rightharpoondownplus:"M399747 705c0 7.3 6.7 11 20 11 8 0 13-.8\n 15-2.5s4.7-6.8 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3\n 8.5-5.8 9.5-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3\n-64.7 57-92 95-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 435v40h399900v-40z\nm0-194v40h400000v-40zm0 0v40h400000v-40z",righthook:"M399859 241c-764 0 0 0 0 0 40-3.3 68.7-15.7 86-37 10-12 15-25.3\n 15-40 0-22.7-9.8-40.7-29.5-54-19.7-13.3-43.5-21-71.5-23-17.3-1.3-26-8-26-20 0\n-13.3 8.7-20 26-20 38 0 71 11.2 99 33.5 0 0 7 5.6 21 16.7 14 11.2 21 33.5 21\n 66.8s-14 61.2-42 83.5c-28 22.3-61 33.5-99 33.5L0 241z M0 281v-40h399859v40z",rightlinesegment:"M399960 241 V94 h40 V428 h-40 V281 H0 v-40z\nM399960 241 V94 h40 V428 h-40 V281 H0 v-40z",rightToFrom:"M400000 167c-70.7-42-118-97.7-142-167h-23c-15.3 0-23 .3-23\n 1 0 1.3 5.3 13.7 16 37 18 35.3 41.3 69 70 101l7 8H0v40h399905l-7 8c-28.7 32\n-52 65.7-70 101-10.7 23.3-16 35.7-16 37 0 .7 7.7 1 23 1h23c24-69.3 71.3-125 142\n-167z M100 147v40h399900v-40zM0 341v40h399900v-40z",twoheadleftarrow:"M0 167c68 40\n 115.7 95.7 143 167h22c15.3 0 23-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69\n-70-101l-7-8h125l9 7c50.7 39.3 85 86 103 140h46c0-4.7-6.3-18.7-19-42-18-35.3\n-40-67.3-66-96l-9-9h399716v-40H284l9-9c26-28.7 48-60.7 66-96 12.7-23.333 19\n-37.333 19-42h-46c-18 54-52.3 100.7-103 140l-9 7H95l7-8c28.7-32 52-65.7 70-101\n 10.7-23.333 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 71.3 68 127 0 167z",twoheadrightarrow:"M400000 167\nc-68-40-115.7-95.7-143-167h-22c-15.3 0-23 .3-23 1 0 1.3 5.3 13.7 16 37 18 35.3\n 41.3 69 70 101l7 8h-125l-9-7c-50.7-39.3-85-86-103-140h-46c0 4.7 6.3 18.7 19 42\n 18 35.3 40 67.3 66 96l9 9H0v40h399716l-9 9c-26 28.7-48 60.7-66 96-12.7 23.333\n-19 37.333-19 42h46c18-54 52.3-100.7 103-140l9-7h125l-7 8c-28.7 32-52 65.7-70\n 101-10.7 23.333-16 35.7-16 37 0 .7 7.7 1 23 1h22c27.3-71.3 75-127 143-167z",tilde1:"M200 55.538c-77 0-168 73.953-177 73.953-3 0-7\n-2.175-9-5.437L2 97c-1-2-2-4-2-6 0-4 2-7 5-9l20-12C116 12 171 0 207 0c86 0\n 114 68 191 68 78 0 168-68 177-68 4 0 7 2 9 5l12 19c1 2.175 2 4.35 2 6.525 0\n 4.35-2 7.613-5 9.788l-19 13.05c-92 63.077-116.937 75.308-183 76.128\n-68.267.847-113-73.952-191-73.952z",tilde2:"M344 55.266c-142 0-300.638 81.316-311.5 86.418\n-8.01 3.762-22.5 10.91-23.5 5.562L1 120c-1-2-1-3-1-4 0-5 3-9 8-10l18.4-9C160.9\n 31.9 283 0 358 0c148 0 188 122 331 122s314-97 326-97c4 0 8 2 10 7l7 21.114\nc1 2.14 1 3.21 1 4.28 0 5.347-3 9.626-7 10.696l-22.3 12.622C852.6 158.372 751\n 181.476 676 181.476c-149 0-189-126.21-332-126.21z",tilde3:"M786 59C457 59 32 175.242 13 175.242c-6 0-10-3.457\n-11-10.37L.15 138c-1-7 3-12 10-13l19.2-6.4C378.4 40.7 634.3 0 804.3 0c337 0\n 411.8 157 746.8 157 328 0 754-112 773-112 5 0 10 3 11 9l1 14.075c1 8.066-.697\n 16.595-6.697 17.492l-21.052 7.31c-367.9 98.146-609.15 122.696-778.15 122.696\n -338 0-409-156.573-744-156.573z",tilde4:"M786 58C457 58 32 177.487 13 177.487c-6 0-10-3.345\n-11-10.035L.15 143c-1-7 3-12 10-13l22-6.7C381.2 35 637.15 0 807.15 0c337 0 409\n 177 744 177 328 0 754-127 773-127 5 0 10 3 11 9l1 14.794c1 7.805-3 13.38-9\n 14.495l-20.7 5.574c-366.85 99.79-607.3 139.372-776.3 139.372-338 0-409\n -175.236-744-175.236z",widehat1:"M529 0h5l519 115c5 1 9 5 9 10 0 1-1 2-1 3l-4 22\nc-1 5-5 9-11 9h-2L532 67 19 159h-2c-5 0-9-4-11-9l-5-22c-1-6 2-12 8-13z",widehat2:"M1181 0h2l1171 176c6 0 10 5 10 11l-2 23c-1 6-5 10\n-11 10h-1L1182 67 15 220h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z",widehat3:"M1181 0h2l1171 236c6 0 10 5 10 11l-2 23c-1 6-5 10\n-11 10h-1L1182 67 15 280h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z",widehat4:"M1181 0h2l1171 296c6 0 10 5 10 11l-2 23c-1 6-5 10\n-11 10h-1L1182 67 15 340h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z"}}},{}],120:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n={math:{},text:{}};function i(e,t,r,i,o,s){n[e][o]={font:t,group:r,replace:i},s&&i&&(n[e][i]=n[e][o])}r.default=n;var o="accent",s="close",a="mathord",u="spacing",c="textord";i("math","main","rel","","\\equiv",!0),i("math","main","rel","","\\prec",!0),i("math","main","rel","","\\succ",!0),i("math","main","rel","","\\sim",!0),i("math","main","rel","","\\perp"),i("math","main","rel","","\\preceq",!0),i("math","main","rel","","\\succeq",!0),i("math","main","rel","","\\simeq",!0),i("math","main","rel","","\\mid",!0),i("math","main","rel","","\\ll"),i("math","main","rel","","\\gg",!0),i("math","main","rel","","\\asymp",!0),i("math","main","rel","","\\parallel"),i("math","main","rel","","\\bowtie",!0),i("math","main","rel","","\\smile",!0),i("math","main","rel","","\\sqsubseteq",!0),i("math","main","rel","","\\sqsupseteq",!0),i("math","main","rel","","\\doteq",!0),i("math","main","rel","","\\frown",!0),i("math","main","rel","","\\ni",!0),i("math","main","rel","","\\propto",!0),i("math","main","rel","","\\vdash",!0),i("math","main","rel","","\\dashv",!0),i("math","main","rel","","\\owns"),i("math","main","punct",".","\\ldotp"),i("math","main","punct","","\\cdotp"),i("math","main",c,"#","\\#"),i("text","main",c,"#","\\#"),i("math","main",c,"&","\\&"),i("text","main",c,"&","\\&"),i("math","main",c,"","\\aleph",!0),i("math","main",c,"","\\forall",!0),i("math","main",c,"","\\hbar"),i("math","main",c,"","\\exists",!0),i("math","main",c,"","\\nabla",!0),i("math","main",c,"","\\flat",!0),i("math","main",c,"","\\ell",!0),i("math","main",c,"","\\natural",!0),i("math","main",c,"","\\clubsuit",!0),i("math","main",c,"","\\wp",!0),i("math","main",c,"","\\sharp",!0),i("math","main",c,"","\\diamondsuit",!0),i("math","main",c,"","\\Re",!0),i("math","main",c,"","\\heartsuit",!0),i("math","main",c,"","\\Im",!0),i("math","main",c,"","\\spadesuit",!0),i("math","main",c,"","\\dag"),i("text","main",c,"","\\dag"),i("text","main",c,"","\\textdagger"),i("math","main",c,"","\\ddag"),i("text","main",c,"","\\ddag"),i("text","main",c,"","\\textdaggerdbl"),i("math","main",s,"","\\rmoustache"),i("math","main","open","","\\lmoustache"),i("math","main",s,"","\\rgroup"),i("math","main","open","","\\lgroup"),i("math","main","bin","","\\mp",!0),i("math","main","bin","","\\ominus",!0),i("math","main","bin","","\\uplus",!0),i("math","main","bin","","\\sqcap",!0),i("math","main","bin","","\\ast"),i("math","main","bin","","\\sqcup",!0),i("math","main","bin","","\\bigcirc"),i("math","main","bin","","\\bullet"),i("math","main","bin","","\\ddagger"),i("math","main","bin","","\\wr",!0),i("math","main","bin","","\\amalg"),i("math","main","bin","&","\\And"),i("math","main","rel","","\\longleftarrow",!0),i("math","main","rel","","\\Leftarrow",!0),i("math","main","rel","","\\Longleftarrow",!0),i("math","main","rel","","\\longrightarrow",!0),i("math","main","rel","","\\Rightarrow",!0),i("math","main","rel","","\\Longrightarrow",!0),i("math","main","rel","","\\leftrightarrow",!0),i("math","main","rel","","\\longleftrightarrow",!0),i("math","main","rel","","\\Leftrightarrow",!0),i("math","main","rel","","\\Longleftrightarrow",!0),i("math","main","rel","","\\mapsto",!0),i("math","main","rel","","\\longmapsto",!0),i("math","main","rel","","\\nearrow",!0),i("math","main","rel","","\\hookleftarrow",!0),i("math","main","rel","","\\hookrightarrow",!0),i("math","main","rel","","\\searrow",!0),i("math","main","rel","","\\leftharpoonup",!0),i("math","main","rel","","\\rightharpoonup",!0),i("math","main","rel","","\\swarrow",!0),i("math","main","rel","","\\leftharpoondown",!0),i("math","main","rel","","\\rightharpoondown",!0),i("math","main","rel","","\\nwarrow",!0),i("math","main","rel","","\\rightleftharpoons",!0),i("math","ams","rel","","\\nless",!0),i("math","ams","rel","","\\nleqslant"),i("math","ams","rel","","\\nleqq"),i("math","ams","rel","","\\lneq",!0),i("math","ams","rel","","\\lneqq",!0),i("math","ams","rel","","\\lvertneqq"),i("math","ams","rel","","\\lnsim",!0),i("math","ams","rel","","\\lnapprox",!0),i("math","ams","rel","","\\nprec",!0),i("math","ams","rel","","\\npreceq",!0),i("math","ams","rel","","\\precnsim",!0),i("math","ams","rel","","\\precnapprox",!0),i("math","ams","rel","","\\nsim",!0),i("math","ams","rel","","\\nshortmid"),i("math","ams","rel","","\\nmid",!0),i("math","ams","rel","","\\nvdash",!0),i("math","ams","rel","","\\nvDash",!0),i("math","ams","rel","","\\ntriangleleft"),i("math","ams","rel","","\\ntrianglelefteq",!0),i("math","ams","rel","","\\subsetneq",!0),i("math","ams","rel","","\\varsubsetneq"),i("math","ams","rel","","\\subsetneqq",!0),i("math","ams","rel","","\\varsubsetneqq"),i("math","ams","rel","","\\ngtr",!0),i("math","ams","rel","","\\ngeqslant"),i("math","ams","rel","","\\ngeqq"),i("math","ams","rel","","\\gneq",!0),i("math","ams","rel","","\\gneqq",!0),i("math","ams","rel","","\\gvertneqq"),i("math","ams","rel","","\\gnsim",!0),i("math","ams","rel","","\\gnapprox",!0),i("math","ams","rel","","\\nsucc",!0),i("math","ams","rel","","\\nsucceq",!0),i("math","ams","rel","","\\succnsim",!0),i("math","ams","rel","","\\succnapprox",!0),i("math","ams","rel","","\\ncong",!0),i("math","ams","rel","","\\nshortparallel"),i("math","ams","rel","","\\nparallel",!0),i("math","ams","rel","","\\nVDash",!0),i("math","ams","rel","","\\ntriangleright"),i("math","ams","rel","","\\ntrianglerighteq",!0),i("math","ams","rel","","\\nsupseteqq"),i("math","ams","rel","","\\supsetneq",!0),i("math","ams","rel","","\\varsupsetneq"),i("math","ams","rel","","\\supsetneqq",!0),i("math","ams","rel","","\\varsupsetneqq"),i("math","ams","rel","","\\nVdash",!0),i("math","ams","rel","","\\precneqq",!0),i("math","ams","rel","","\\succneqq",!0),i("math","ams","rel","","\\nsubseteqq"),i("math","ams","bin","","\\unlhd"),i("math","ams","bin","","\\unrhd"),i("math","ams","rel","","\\nleftarrow",!0),i("math","ams","rel","","\\nrightarrow",!0),i("math","ams","rel","","\\nLeftarrow",!0),i("math","ams","rel","","\\nRightarrow",!0),i("math","ams","rel","","\\nleftrightarrow",!0),i("math","ams","rel","","\\nLeftrightarrow",!0),i("math","ams","rel","","\\vartriangle"),i("math","ams",c,"","\\hslash"),i("math","ams",c,"","\\triangledown"),i("math","ams",c,"","\\lozenge"),i("math","ams",c,"","\\circledS"),i("math","ams",c,"","\\circledR"),i("text","ams",c,"","\\circledR"),i("math","ams",c,"","\\measuredangle",!0),i("math","ams",c,"","\\nexists"),i("math","ams",c,"","\\mho"),i("math","ams",c,"","\\Finv",!0),i("math","ams",c,"","\\Game",!0),i("math","ams",c,"k","\\Bbbk"),i("math","ams",c,"","\\backprime"),i("math","ams",c,"","\\blacktriangle"),i("math","ams",c,"","\\blacktriangledown"),i("math","ams",c,"","\\blacksquare"),i("math","ams",c,"","\\blacklozenge"),i("math","ams",c,"","\\bigstar"),i("math","ams",c,"","\\sphericalangle",!0),i("math","ams",c,"","\\complement",!0),i("math","ams",c,"","\\eth",!0),i("math","ams",c,"","\\diagup"),i("math","ams",c,"","\\diagdown"),i("math","ams",c,"","\\square"),i("math","ams",c,"","\\Box"),i("math","ams",c,"","\\Diamond"),i("math","ams",c,"","\\yen",!0),i("math","ams",c,"","\\checkmark",!0),i("text","ams",c,"","\\checkmark"),i("math","ams",c,"","\\beth",!0),i("math","ams",c,"","\\daleth",!0),i("math","ams",c,"","\\gimel",!0),i("math","ams",c,"","\\digamma"),i("math","ams",c,"","\\varkappa"),i("math","ams","open","","\\ulcorner"),i("math","ams",s,"","\\urcorner"),i("math","ams","open","","\\llcorner"),i("math","ams",s,"","\\lrcorner"),i("math","ams","rel","","\\leqq",!0),i("math","ams","rel","","\\leqslant"),i("math","ams","rel","","\\eqslantless",!0),i("math","ams","rel","","\\lesssim"),i("math","ams","rel","","\\lessapprox"),i("math","ams","rel","","\\approxeq",!0),i("math","ams","bin","","\\lessdot"),i("math","ams","rel","","\\lll"),i("math","ams","rel","","\\lessgtr"),i("math","ams","rel","","\\lesseqgtr"),i("math","ams","rel","","\\lesseqqgtr"),i("math","ams","rel","","\\doteqdot"),i("math","ams","rel","","\\risingdotseq",!0),i("math","ams","rel","","\\fallingdotseq",!0),i("math","ams","rel","","\\backsim",!0),i("math","ams","rel","","\\backsimeq",!0),i("math","ams","rel","","\\subseteqq",!0),i("math","ams","rel","","\\Subset",!0),i("math","ams","rel","","\\sqsubset",!0),i("math","ams","rel","","\\preccurlyeq",!0),i("math","ams","rel","","\\curlyeqprec",!0),i("math","ams","rel","","\\precsim",!0),i("math","ams","rel","","\\precapprox",!0),i("math","ams","rel","","\\vartriangleleft"),i("math","ams","rel","","\\trianglelefteq"),i("math","ams","rel","","\\vDash"),i("math","ams","rel","","\\Vvdash",!0),i("math","ams","rel","","\\smallsmile"),i("math","ams","rel","","\\smallfrown"),i("math","ams","rel","","\\bumpeq",!0),i("math","ams","rel","","\\Bumpeq",!0),i("math","ams","rel","","\\geqq",!0),i("math","ams","rel","","\\geqslant",!0),i("math","ams","rel","","\\eqslantgtr",!0),i("math","ams","rel","","\\gtrsim",!0),i("math","ams","rel","","\\gtrapprox",!0),i("math","ams","bin","","\\gtrdot"),i("math","ams","rel","","\\ggg",!0),i("math","ams","rel","","\\gtrless",!0),i("math","ams","rel","","\\gtreqless",!0),i("math","ams","rel","","\\gtreqqless",!0),i("math","ams","rel","","\\eqcirc",!0),i("math","ams","rel","","\\circeq",!0),i("math","ams","rel","","\\triangleq",!0),i("math","ams","rel","","\\thicksim"),i("math","ams","rel","","\\thickapprox"),i("math","ams","rel","","\\supseteqq",!0),i("math","ams","rel","","\\Supset",!0),i("math","ams","rel","","\\sqsupset",!0),i("math","ams","rel","","\\succcurlyeq",!0),i("math","ams","rel","","\\curlyeqsucc",!0),i("math","ams","rel","","\\succsim",!0),i("math","ams","rel","","\\succapprox",!0),i("math","ams","rel","","\\vartriangleright"),i("math","ams","rel","","\\trianglerighteq"),i("math","ams","rel","","\\Vdash",!0),i("math","ams","rel","","\\shortmid"),i("math","ams","rel","","\\shortparallel"),i("math","ams","rel","","\\between",!0),i("math","ams","rel","","\\pitchfork",!0),i("math","ams","rel","","\\varpropto"),i("math","ams","rel","","\\blacktriangleleft"),i("math","ams","rel","","\\therefore",!0),i("math","ams","rel","","\\backepsilon"),i("math","ams","rel","","\\blacktriangleright"),i("math","ams","rel","","\\because",!0),i("math","ams","rel","","\\llless"),i("math","ams","rel","","\\gggtr"),i("math","ams","bin","","\\lhd"),i("math","ams","bin","","\\rhd"),i("math","ams","rel","","\\eqsim",!0),i("math","main","rel","","\\Join"),i("math","ams","rel","","\\Doteq",!0),i("math","ams","bin","","\\dotplus",!0),i("math","ams","bin","","\\smallsetminus"),i("math","ams","bin","","\\Cap",!0),i("math","ams","bin","","\\Cup",!0),i("math","ams","bin","","\\doublebarwedge",!0),i("math","ams","bin","","\\boxminus",!0),i("math","ams","bin","","\\boxplus",!0),i("math","ams","bin","","\\divideontimes",!0),i("math","ams","bin","","\\ltimes",!0),i("math","ams","bin","","\\rtimes",!0),i("math","ams","bin","","\\leftthreetimes",!0),i("math","ams","bin","","\\rightthreetimes",!0),i("math","ams","bin","","\\curlywedge",!0),i("math","ams","bin","","\\curlyvee",!0),i("math","ams","bin","","\\circleddash",!0),i("math","ams","bin","","\\circledast",!0),i("math","ams","bin","","\\centerdot"),i("math","ams","bin","","\\intercal",!0),i("math","ams","bin","","\\doublecap"),i("math","ams","bin","","\\doublecup"),i("math","ams","bin","","\\boxtimes",!0),i("math","ams","rel","","\\dashrightarrow",!0),i("math","ams","rel","","\\dashleftarrow",!0),i("math","ams","rel","","\\leftleftarrows",!0),i("math","ams","rel","","\\leftrightarrows",!0),i("math","ams","rel","","\\Lleftarrow",!0),i("math","ams","rel","","\\twoheadleftarrow",!0),i("math","ams","rel","","\\leftarrowtail",!0),i("math","ams","rel","","\\looparrowleft",!0),i("math","ams","rel","","\\leftrightharpoons",!0),i("math","ams","rel","","\\curvearrowleft",!0),i("math","ams","rel","","\\circlearrowleft",!0),i("math","ams","rel","","\\Lsh",!0),i("math","ams","rel","","\\upuparrows",!0),i("math","ams","rel","","\\upharpoonleft",!0),i("math","ams","rel","","\\downharpoonleft",!0),i("math","ams","rel","","\\multimap",!0),i("math","ams","rel","","\\leftrightsquigarrow",!0),i("math","ams","rel","","\\rightrightarrows",!0),i("math","ams","rel","","\\rightleftarrows",!0),i("math","ams","rel","","\\twoheadrightarrow",!0),i("math","ams","rel","","\\rightarrowtail",!0),i("math","ams","rel","","\\looparrowright",!0),i("math","ams","rel","","\\curvearrowright",!0),i("math","ams","rel","","\\circlearrowright",!0),i("math","ams","rel","","\\Rsh",!0),i("math","ams","rel","","\\downdownarrows",!0),i("math","ams","rel","","\\upharpoonright",!0),i("math","ams","rel","","\\downharpoonright",!0),i("math","ams","rel","","\\rightsquigarrow",!0),i("math","ams","rel","","\\leadsto"),i("math","ams","rel","","\\Rrightarrow",!0),i("math","ams","rel","","\\restriction"),i("math","main",c,"","`"),i("math","main",c,"$","\\$"),i("text","main",c,"$","\\$"),i("text","main",c,"$","\\textdollar"),i("math","main",c,"%","\\%"),i("text","main",c,"%","\\%"),i("math","main",c,"_","\\_"),i("text","main",c,"_","\\_"),i("text","main",c,"_","\\textunderscore"),i("math","main",c,"","\\angle",!0),i("math","main",c,"","\\infty",!0),i("math","main",c,"","\\prime"),i("math","main",c,"","\\triangle"),i("math","main",c,"","\\Gamma",!0),i("math","main",c,"","\\Delta",!0),i("math","main",c,"","\\Theta",!0),i("math","main",c,"","\\Lambda",!0),i("math","main",c,"","\\Xi",!0),i("math","main",c,"","\\Pi",!0),i("math","main",c,"","\\Sigma",!0),i("math","main",c,"","\\Upsilon",!0),i("math","main",c,"","\\Phi",!0),i("math","main",c,"","\\Psi",!0),i("math","main",c,"","\\Omega",!0),i("math","main",c,"","\\neg"),i("math","main",c,"","\\lnot"),i("math","main",c,"","\\top"),i("math","main",c,"","\\bot"),i("math","main",c,"","\\emptyset"),i("math","ams",c,"","\\varnothing"),i("math","main",a,"","\\alpha",!0),i("math","main",a,"","\\beta",!0),i("math","main",a,"","\\gamma",!0),i("math","main",a,"","\\delta",!0),i("math","main",a,"","\\epsilon",!0),i("math","main",a,"","\\zeta",!0),i("math","main",a,"","\\eta",!0),i("math","main",a,"","\\theta",!0),i("math","main",a,"","\\iota",!0),i("math","main",a,"","\\kappa",!0),i("math","main",a,"","\\lambda",!0),i("math","main",a,"","\\mu",!0),i("math","main",a,"","\\nu",!0),i("math","main",a,"","\\xi",!0),i("math","main",a,"","\\omicron",!0),i("math","main",a,"","\\pi",!0),i("math","main",a,"","\\rho",!0),i("math","main",a,"","\\sigma",!0),i("math","main",a,"","\\tau",!0),i("math","main",a,"","\\upsilon",!0),i("math","main",a,"","\\phi",!0),i("math","main",a,"","\\chi",!0),i("math","main",a,"","\\psi",!0),i("math","main",a,"","\\omega",!0),i("math","main",a,"","\\varepsilon",!0),i("math","main",a,"","\\vartheta",!0),i("math","main",a,"","\\varpi",!0),i("math","main",a,"","\\varrho",!0),i("math","main",a,"","\\varsigma",!0),i("math","main",a,"","\\varphi",!0),i("math","main","bin","","*"),i("math","main","bin","+","+"),i("math","main","bin","","-"),i("math","main","bin","","\\cdot"),i("math","main","bin","","\\circ"),i("math","main","bin","","\\div",!0),i("math","main","bin","","\\pm",!0),i("math","main","bin","","\\times",!0),i("math","main","bin","","\\cap",!0),i("math","main","bin","","\\cup",!0),i("math","main","bin","","\\setminus"),i("math","main","bin","","\\land"),i("math","main","bin","","\\lor"),i("math","main","bin","","\\wedge",!0),i("math","main","bin","","\\vee",!0),i("math","main",c,"","\\surd"),i("math","main","open","(","("),i("math","main","open","[","["),i("math","main","open","","\\langle"),i("math","main","open","","\\lvert"),i("math","main","open","","\\lVert"),i("math","main",s,")",")"),i("math","main",s,"]","]"),i("math","main",s,"?","?"),i("math","main",s,"!","!"),i("math","main",s,"","\\rangle"),i("math","main",s,"","\\rvert"),i("math","main",s,"","\\rVert"),i("math","main","rel","=","="),i("math","main","rel","<","<"),i("math","main","rel",">",">"),i("math","main","rel",":",":"),i("math","main","rel","","\\approx",!0),i("math","main","rel","","\\cong",!0),i("math","main","rel","","\\ge"),i("math","main","rel","","\\geq",!0),i("math","main","rel","","\\gets"),i("math","main","rel",">","\\gt"),i("math","main","rel","","\\in",!0),i("math","main","rel","","\\notin",!0),i("math","main","rel","","\\not"),i("math","main","rel","","\\subset",!0),i("math","main","rel","","\\supset",!0),i("math","main","rel","","\\subseteq",!0),i("math","main","rel","","\\supseteq",!0),i("math","ams","rel","","\\nsubseteq",!0),i("math","ams","rel","","\\nsupseteq",!0),i("math","main","rel","","\\models"),i("math","main","rel","","\\leftarrow",!0),i("math","main","rel","","\\le"),i("math","main","rel","","\\leq",!0),i("math","main","rel","<","\\lt"),i("math","main","rel","","\\ne",!0),i("math","main","rel","","\\neq"),i("math","main","rel","","\\rightarrow",!0),i("math","main","rel","","\\to"),i("math","ams","rel","","\\ngeq",!0),i("math","ams","rel","","\\nleq",!0),i("math","main",u,null,"\\!"),i("math","main",u,"","\\ "),i("math","main",u,"","~"),i("math","main",u,null,"\\,"),i("math","main",u,null,"\\:"),i("math","main",u,null,"\\;"),i("math","main",u,null,"\\enspace"),i("math","main",u,null,"\\qquad"),i("math","main",u,null,"\\quad"),i("math","main",u,"","\\space"),i("math","main","punct",",",","),i("math","main","punct",";",";"),i("math","main","punct",":","\\colon"),i("math","ams","bin","","\\barwedge",!0),i("math","ams","bin","","\\veebar",!0),i("math","main","bin","","\\odot",!0),i("math","main","bin","","\\oplus",!0),i("math","main","bin","","\\otimes",!0),i("math","main",c,"","\\partial",!0),i("math","main","bin","","\\oslash",!0),i("math","ams","bin","","\\circledcirc",!0),i("math","ams","bin","","\\boxdot",!0),i("math","main","bin","","\\bigtriangleup"),i("math","main","bin","","\\bigtriangledown"),i("math","main","bin","","\\dagger"),i("math","main","bin","","\\diamond"),i("math","main","bin","","\\star"),i("math","main","bin","","\\triangleleft"),i("math","main","bin","","\\triangleright"),i("math","main","open","{","\\{"),i("text","main",c,"{","\\{"),i("text","main",c,"{","\\textbraceleft"),i("math","main",s,"}","\\}"),i("text","main",c,"}","\\}"),i("text","main",c,"}","\\textbraceright"),i("math","main","open","{","\\lbrace"),i("math","main",s,"}","\\rbrace"),i("math","main","open","[","\\lbrack"),i("math","main",s,"]","\\rbrack"),i("text","main",c,"<","\\textless"),i("text","main",c,">","\\textgreater"),i("math","main","open","","\\lfloor"),i("math","main",s,"","\\rfloor"),i("math","main","open","","\\lceil"),i("math","main",s,"","\\rceil"),i("math","main",c,"\\","\\backslash"),i("math","main",c,"","|"),i("math","main",c,"","\\vert"),i("text","main",c,"|","\\textbar"),i("math","main",c,"","\\|"),i("math","main",c,"","\\Vert"),i("text","main",c,"","\\textbardbl"),i("math","main","rel","","\\uparrow",!0),i("math","main","rel","","\\Uparrow",!0),i("math","main","rel","","\\downarrow",!0),i("math","main","rel","","\\Downarrow",!0),i("math","main","rel","","\\updownarrow",!0),i("math","main","rel","","\\Updownarrow",!0),i("math","main","op","","\\coprod"),i("math","main","op","","\\bigvee"),i("math","main","op","","\\bigwedge"),i("math","main","op","","\\biguplus"),i("math","main","op","","\\bigcap"),i("math","main","op","","\\bigcup"),i("math","main","op","","\\int"),i("math","main","op","","\\intop"),i("math","main","op","","\\iint"),i("math","main","op","","\\iiint"),i("math","main","op","","\\prod"),i("math","main","op","","\\sum"),i("math","main","op","","\\bigotimes"),i("math","main","op","","\\bigoplus"),i("math","main","op","","\\bigodot"),i("math","main","op","","\\oint"),i("math","main","op","","\\bigsqcup"),i("math","main","op","","\\smallint"),i("text","main","inner","","\\textellipsis"),i("math","main","inner","","\\mathellipsis"),i("text","main","inner","","\\ldots",!0),i("math","main","inner","","\\ldots",!0),i("math","main","inner","","\\@cdots",!0),i("math","main","inner","","\\ddots",!0),i("math","main",c,"","\\vdots",!0),i("math","main",o,"","\\acute"),i("math","main",o,"`","\\grave"),i("math","main",o,"","\\ddot"),i("math","main",o,"~","\\tilde"),i("math","main",o,"","\\bar"),i("math","main",o,"","\\breve"),i("math","main",o,"","\\check"),i("math","main",o,"^","\\hat"),i("math","main",o,"","\\vec"),i("math","main",o,"","\\dot"),i("math","main",a,"","\\imath"),i("math","main",a,"","\\jmath"),i("text","main",o,"","\\'"),i("text","main",o,"","\\`"),i("text","main",o,"","\\^"),i("text","main",o,"","\\~"),i("text","main",o,"","\\="),i("text","main",o,"","\\u"),i("text","main",o,"","\\."),i("text","main",o,"","\\r"),i("text","main",o,"","\\v"),i("text","main",o,"",'\\"'),i("text","main",o,"","\\H"),i("text","main",c,"","--"),i("text","main",c,"","\\textendash"),i("text","main",c,"","---"),i("text","main",c,"","\\textemdash"),i("text","main",c,"","`"),i("text","main",c,"","\\textquoteleft"),i("text","main",c,"","'"),i("text","main",c,"","\\textquoteright"),i("text","main",c,"","``"),i("text","main",c,"","\\textquotedblleft"),i("text","main",c,"","''"),i("text","main",c,"","\\textquotedblright"),i("math","main",c,"","\\degree"),i("text","main",c,"","\\degree"),i("math","main",a,"","\\pounds"),i("math","main",a,"","\\mathsterling",!0),i("text","main",a,"","\\pounds"),i("text","main",a,"","\\textsterling"),i("math","ams",c,"","\\maltese"),i("text","ams",c,"","\\maltese"),i("text","main",u,"","\\ "),i("text","main",u,""," "),i("text","main",u,"","~");for(var l=0;l<'0123456789/@."'.length;l++){var f='0123456789/@."'.charAt(l);i("math","main",c,f,f)}for(var h='0123456789!@*()-=+[]<>|";:?/.,',p=0;p<h.length;p++){var d=h.charAt(p);i("text","main",c,d,d)}for(var v="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",m=0;m<v.length;m++){var b=v.charAt(m);i("math","main",a,b,b),i("text","main",c,b,b)}for(var y=192;y<=214;y++){var g=String.fromCharCode(y);i("math","main",a,g,g),i("text","main",c,g,g)}for(var _=216;_<=246;_++){var w=String.fromCharCode(_);i("math","main",a,w,w),i("text","main",c,w,w)}for(var x=248;x<=255;x++){var k=String.fromCharCode(x);i("math","main",a,k,k),i("text","main",c,k,k)}for(var j=1040;j<=1103;j++){var S=String.fromCharCode(j);i("text","main",c,S,S)}i("text","main",c,"",""),i("text","main",c,"",""),i("text","main",c,"",""),i("text","main",c,"",""),i("text","main",c,"",""),i("text","main",c,"","")},{}],121:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});r.hangulRegex=/[\uAC00-\uD7AF]/,r.cjkRegex=/[\u3000-\u30FF\u4E00-\u9FAF\uAC00-\uD7AF\uFF00-\uFF60]/},{}],122:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.calculateSize=r.validUnit=void 0;var n=i(e("./ParseError"));i(e("./Options"));function i(e){return e&&e.__esModule?e:{default:e}}var o={pt:1,mm:7227/2540,cm:7227/254,in:72.27,bp:1.00375,pc:12,dd:1238/1157,cc:14856/1157,nd:685/642,nc:1370/107,sp:1/65536,px:1.00375},s={ex:!0,em:!0,mu:!0};r.validUnit=function(e){return"string"!=typeof e&&(e=e.unit),e in o||e in s||"ex"===e},r.calculateSize=function(e,t){var r=void 0;if(e.unit in o)r=o[e.unit]/t.fontMetrics().ptPerEm/t.sizeMultiplier;else if("mu"===e.unit)r=t.fontMetrics().cssEmPerMu;else{var i=void 0;if(i=t.style.isTight()?t.havingStyle(t.style.text()):t,"ex"===e.unit)r=i.fontMetrics().xHeight;else{if("em"!==e.unit)throw new n.default("Invalid unit: '"+e.unit+"'");r=i.fontMetrics().quad}i!==t&&(r*=i.sizeMultiplier/t.sizeMultiplier)}return Math.min(e.number*r,t.maxSize)}},{"./Options":83,"./ParseError":84}],123:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=Array.prototype.indexOf,i=function(e,t){if(null==e)return-1;if(n&&e.indexOf===n)return e.indexOf(t);for(var r=e.length,i=0;i<r;i++)if(e[i]===t)return i;return-1},o=/([A-Z])/g,s={"&":"&amp;",">":"&gt;","<":"&lt;",'"':"&quot;","'":"&#x27;"},a=/[&><"']/g;var u=void 0;if("undefined"!=typeof document){var c=document.createElement("span");u="textContent"in c?function(e,t){e.textContent=t}:function(e,t){e.innerText=t}}r.default={contains:function(e,t){return-1!==i(e,t)},deflt:function(e,t){return void 0===e?t:e},escape:function(e){return String(e).replace(a,function(e){return s[e]})},hyphenate:function(e){return e.replace(o,"-$1").toLowerCase()},indexOf:i,setTextContent:u,clearNode:function(e){u(e,"")}}},{}]},{},[1])(1)})}),e.entry="dist/katex.js"}),e.pkg("core-js",{},function(e){return e.file("library/fn/array/from.js",function(e,t,r,n,i){t("../../modules/es6.string.iterator"),t("../../modules/es6.array.from"),r.exports=t("../../modules/_core").Array.from}),e.file("library/modules/es6.string.iterator.js",function(e,t,r,n,i){"use strict";var o=t("./_string-at")(!0);t("./_iter-define")(String,"String",function(e){this._t=String(e),this._i=0},function(){var e,t=this._t,r=this._i;return r>=t.length?{value:void 0,done:!0}:(e=o(t,r),this._i+=e.length,{value:e,done:!1})})}),e.file("library/modules/_string-at.js",function(e,t,r,n,i){var o=t("./_to-integer"),s=t("./_defined");r.exports=function(e){return function(t,r){var n,i,a=String(s(t)),u=o(r),c=a.length;return u<0||u>=c?e?"":void 0:(n=a.charCodeAt(u))<55296||n>56319||u+1===c||(i=a.charCodeAt(u+1))<56320||i>57343?e?a.charAt(u):n:e?a.slice(u,u+2):i-56320+(n-55296<<10)+65536}}}),e.file("library/modules/_to-integer.js",function(e,t,r,n,i){var o=Math.ceil,s=Math.floor;r.exports=function(e){return isNaN(e=+e)?0:(e>0?s:o)(e)}}),e.file("library/modules/_defined.js",function(e,t,r,n,i){r.exports=function(e){if(void 0==e)throw TypeError("Can't call method on  "+e);return e}}),e.file("library/modules/_iter-define.js",function(e,t,r,n,i){"use strict";var o=t("./_library"),s=t("./_export"),a=t("./_redefine"),u=t("./_hide"),c=t("./_has"),l=t("./_iterators"),f=t("./_iter-create"),h=t("./_set-to-string-tag"),p=t("./_object-gpo"),d=t("./_wks")("iterator"),v=!([].keys&&"next"in[].keys()),m=function(){return this};r.exports=function(e,t,r,n,i,b,y){f(r,t,n);var g,_,w,x=function(e){if(!v&&e in O)return O[e];switch(e){case"keys":case"values":return function(){return new r(this,e)}}return function(){return new r(this,e)}},k=t+" Iterator",j="values"==i,S=!1,O=e.prototype,E=O[d]||O["@@iterator"]||i&&O[i],C=!v&&E||x(i),A=i?j?x("entries"):C:void 0,T="Array"==t?O.entries||E:E;if(T&&(w=p(T.call(new e)))!==Object.prototype&&w.next&&(h(w,k,!0),o||c(w,d)||u(w,d,m)),j&&E&&"values"!==E.name&&(S=!0,C=function(){return E.call(this)}),o&&!y||!v&&!S&&O[d]||u(O,d,C),l[t]=C,l[k]=m,i)if(g={values:j?C:x("values"),keys:b?C:x("keys"),entries:A},y)for(_ in g)_ in O||a(O,_,g[_]);else s(s.P+s.F*(v||S),t,g);return g}}),e.file("library/modules/_library.js",function(e,t,r,n,i){r.exports=!0}),e.file("library/modules/_export.js",function(e,t,r,n,i){var o=t("./_global"),s=t("./_core"),a=t("./_ctx"),u=t("./_hide"),c="prototype",l=function(e,t,r){var n,i,f,h=e&l.F,p=e&l.G,d=e&l.S,v=e&l.P,m=e&l.B,b=e&l.W,y=p?s:s[t]||(s[t]={}),g=y[c],_=p?o:d?o[t]:(o[t]||{})[c];p&&(r=t);for(n in r)(i=!h&&_&&void 0!==_[n])&&n in y||(f=i?_[n]:r[n],y[n]=p&&"function"!=typeof _[n]?r[n]:m&&i?a(f,o):b&&_[n]==f?function(e){var t=function(t,r,n){if(this instanceof e){switch(arguments.length){case 0:return new e;case 1:return new e(t);case 2:return new e(t,r)}return new e(t,r,n)}return e.apply(this,arguments)};return t[c]=e[c],t}(f):v&&"function"==typeof f?a(Function.call,f):f,v&&((y.virtual||(y.virtual={}))[n]=f,e&l.R&&g&&!g[n]&&u(g,n,f)))};l.F=1,l.G=2,l.S=4,l.P=8,l.B=16,l.W=32,l.U=64,l.R=128,r.exports=l}),e.file("library/modules/_global.js",function(e,t,r,n,i){var o=r.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=o)}),e.file("library/modules/_core.js",function(e,t,r,n,i){var o=r.exports={version:"2.5.3"};"number"==typeof __e&&(__e=o)}),e.file("library/modules/_ctx.js",function(e,t,r,n,i){var o=t("./_a-function");r.exports=function(e,t,r){if(o(e),void 0===t)return e;switch(r){case 1:return function(r){return e.call(t,r)};case 2:return function(r,n){return e.call(t,r,n)};case 3:return function(r,n,i){return e.call(t,r,n,i)}}return function(){return e.apply(t,arguments)}}}),e.file("library/modules/_a-function.js",function(e,t,r,n,i){r.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}}),e.file("library/modules/_hide.js",function(e,t,r,n,i){var o=t("./_object-dp"),s=t("./_property-desc");r.exports=t("./_descriptors")?function(e,t,r){return o.f(e,t,s(1,r))}:function(e,t,r){return e[t]=r,e}}),e.file("library/modules/_object-dp.js",function(e,t,r,n,i){var o=t("./_an-object"),s=t("./_ie8-dom-define"),a=t("./_to-primitive"),u=Object.defineProperty;e.f=t("./_descriptors")?Object.defineProperty:function(e,t,r){if(o(e),t=a(t,!0),o(r),s)try{return u(e,t,r)}catch(e){}if("get"in r||"set"in r)throw TypeError("Accessors not supported!");return"value"in r&&(e[t]=r.value),e}}),e.file("library/modules/_an-object.js",function(e,t,r,n,i){var o=t("./_is-object");r.exports=function(e){if(!o(e))throw TypeError(e+" is not an object!");return e}}),e.file("library/modules/_is-object.js",function(e,t,r,n,i){r.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}}),e.file("library/modules/_ie8-dom-define.js",function(e,t,r,n,i){r.exports=!t("./_descriptors")&&!t("./_fails")(function(){return 7!=Object.defineProperty(t("./_dom-create")("div"),"a",{get:function(){return 7}}).a})}),e.file("library/modules/_descriptors.js",function(e,t,r,n,i){r.exports=!t("./_fails")(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})}),e.file("library/modules/_fails.js",function(e,t,r,n,i){r.exports=function(e){try{return!!e()}catch(e){return!0}}}),e.file("library/modules/_dom-create.js",function(e,t,r,n,i){var o=t("./_is-object"),s=t("./_global").document,a=o(s)&&o(s.createElement);r.exports=function(e){return a?s.createElement(e):{}}}),e.file("library/modules/_to-primitive.js",function(e,t,r,n,i){var o=t("./_is-object");r.exports=function(e,t){if(!o(e))return e;var r,n;if(t&&"function"==typeof(r=e.toString)&&!o(n=r.call(e)))return n;if("function"==typeof(r=e.valueOf)&&!o(n=r.call(e)))return n;if(!t&&"function"==typeof(r=e.toString)&&!o(n=r.call(e)))return n;throw TypeError("Can't convert object to primitive value")}}),e.file("library/modules/_property-desc.js",function(e,t,r,n,i){r.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}}),e.file("library/modules/_redefine.js",function(e,t,r,n,i){r.exports=t("./_hide")}),e.file("library/modules/_has.js",function(e,t,r,n,i){var o={}.hasOwnProperty;r.exports=function(e,t){return o.call(e,t)}}),e.file("library/modules/_iterators.js",function(e,t,r,n,i){r.exports={}}),e.file("library/modules/_iter-create.js",function(e,t,r,n,i){"use strict";var o=t("./_object-create"),s=t("./_property-desc"),a=t("./_set-to-string-tag"),u={};t("./_hide")(u,t("./_wks")("iterator"),function(){return this}),r.exports=function(e,t,r){e.prototype=o(u,{next:s(1,r)}),a(e,t+" Iterator")}}),e.file("library/modules/_object-create.js",function(e,t,r,n,i){var o=t("./_an-object"),s=t("./_object-dps"),a=t("./_enum-bug-keys"),u=t("./_shared-key")("IE_PROTO"),c=function(){},l=function(){var e,r=t("./_dom-create")("iframe"),n=a.length;for(r.style.display="none",t("./_html").appendChild(r),r.src="javascript:",(e=r.contentWindow.document).open(),e.write("<script>document.F=Object<\/script>"),e.close(),l=e.F;n--;)delete l.prototype[a[n]];return l()};r.exports=Object.create||function(e,t){var r;return null!==e?(c.prototype=o(e),r=new c,c.prototype=null,r[u]=e):r=l(),void 0===t?r:s(r,t)}}),e.file("library/modules/_object-dps.js",function(e,t,r,n,i){var o=t("./_object-dp"),s=t("./_an-object"),a=t("./_object-keys");r.exports=t("./_descriptors")?Object.defineProperties:function(e,t){s(e);for(var r,n=a(t),i=n.length,u=0;i>u;)o.f(e,r=n[u++],t[r]);return e}}),e.file("library/modules/_object-keys.js",function(e,t,r,n,i){var o=t("./_object-keys-internal"),s=t("./_enum-bug-keys");r.exports=Object.keys||function(e){return o(e,s)}}),e.file("library/modules/_object-keys-internal.js",function(e,t,r,n,i){var o=t("./_has"),s=t("./_to-iobject"),a=t("./_array-includes")(!1),u=t("./_shared-key")("IE_PROTO");r.exports=function(e,t){var r,n=s(e),i=0,c=[];for(r in n)r!=u&&o(n,r)&&c.push(r);for(;t.length>i;)o(n,r=t[i++])&&(~a(c,r)||c.push(r));return c}}),e.file("library/modules/_to-iobject.js",function(e,t,r,n,i){var o=t("./_iobject"),s=t("./_defined");r.exports=function(e){return o(s(e))}}),e.file("library/modules/_iobject.js",function(e,t,r,n,i){var o=t("./_cof");r.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==o(e)?e.split(""):Object(e)}}),e.file("library/modules/_cof.js",function(e,t,r,n,i){var o={}.toString;r.exports=function(e){return o.call(e).slice(8,-1)}}),e.file("library/modules/_array-includes.js",function(e,t,r,n,i){var o=t("./_to-iobject"),s=t("./_to-length"),a=t("./_to-absolute-index");r.exports=function(e){return function(t,r,n){var i,u=o(t),c=s(u.length),l=a(n,c);if(e&&r!=r){for(;c>l;)if((i=u[l++])!=i)return!0}else for(;c>l;l++)if((e||l in u)&&u[l]===r)return e||l||0;return!e&&-1}}}),e.file("library/modules/_to-length.js",function(e,t,r,n,i){var o=t("./_to-integer"),s=Math.min;r.exports=function(e){return e>0?s(o(e),9007199254740991):0}}),e.file("library/modules/_to-absolute-index.js",function(e,t,r,n,i){var o=t("./_to-integer"),s=Math.max,a=Math.min;r.exports=function(e,t){return(e=o(e))<0?s(e+t,0):a(e,t)}}),e.file("library/modules/_shared-key.js",function(e,t,r,n,i){var o=t("./_shared")("keys"),s=t("./_uid");r.exports=function(e){return o[e]||(o[e]=s(e))}}),e.file("library/modules/_shared.js",function(e,t,r,n,i){var o=t("./_global"),s=o["__core-js_shared__"]||(o["__core-js_shared__"]={});r.exports=function(e){return s[e]||(s[e]={})}}),e.file("library/modules/_uid.js",function(e,t,r,n,i){var o=0,s=Math.random();r.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++o+s).toString(36))}}),e.file("library/modules/_enum-bug-keys.js",function(e,t,r,n,i){r.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")}),e.file("library/modules/_html.js",function(e,t,r,n,i){var o=t("./_global").document;r.exports=o&&o.documentElement}),e.file("library/modules/_set-to-string-tag.js",function(e,t,r,n,i){var o=t("./_object-dp").f,s=t("./_has"),a=t("./_wks")("toStringTag");r.exports=function(e,t,r){e&&!s(e=r?e:e.prototype,a)&&o(e,a,{configurable:!0,value:t})}}),e.file("library/modules/_wks.js",function(e,t,r,n,i){var o=t("./_shared")("wks"),s=t("./_uid"),a=t("./_global").Symbol,u="function"==typeof a;(r.exports=function(e){return o[e]||(o[e]=u&&a[e]||(u?a:s)("Symbol."+e))}).store=o}),e.file("library/modules/_object-gpo.js",function(e,t,r,n,i){var o=t("./_has"),s=t("./_to-object"),a=t("./_shared-key")("IE_PROTO"),u=Object.prototype;r.exports=Object.getPrototypeOf||function(e){return e=s(e),o(e,a)?e[a]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?u:null}}),e.file("library/modules/_to-object.js",function(e,t,r,n,i){var o=t("./_defined");r.exports=function(e){return Object(o(e))}}),e.file("library/modules/es6.array.from.js",function(e,t,r,n,i){"use strict";var o=t("./_ctx"),s=t("./_export"),a=t("./_to-object"),u=t("./_iter-call"),c=t("./_is-array-iter"),l=t("./_to-length"),f=t("./_create-property"),h=t("./core.get-iterator-method");s(s.S+s.F*!t("./_iter-detect")(function(e){Array.from(e)}),"Array",{from:function(e){var t,r,n,i,s=a(e),p="function"==typeof this?this:Array,d=arguments.length,v=d>1?arguments[1]:void 0,m=void 0!==v,b=0,y=h(s);if(m&&(v=o(v,d>2?arguments[2]:void 0,2)),void 0==y||p==Array&&c(y))for(r=new p(t=l(s.length));t>b;b++)f(r,b,m?v(s[b],b):s[b]);else for(i=y.call(s),r=new p;!(n=i.next()).done;b++)f(r,b,m?u(i,v,[n.value,b],!0):n.value);return r.length=b,r}})}),e.file("library/modules/_iter-call.js",function(e,t,r,n,i){var o=t("./_an-object");r.exports=function(e,t,r,n){try{return n?t(o(r)[0],r[1]):t(r)}catch(t){var i=e.return;throw void 0!==i&&o(i.call(e)),t}}}),e.file("library/modules/_is-array-iter.js",function(e,t,r,n,i){var o=t("./_iterators"),s=t("./_wks")("iterator"),a=Array.prototype;r.exports=function(e){return void 0!==e&&(o.Array===e||a[s]===e)}}),e.file("library/modules/_create-property.js",function(e,t,r,n,i){"use strict";var o=t("./_object-dp"),s=t("./_property-desc");r.exports=function(e,t,r){t in e?o.f(e,t,s(0,r)):e[t]=r}}),e.file("library/modules/core.get-iterator-method.js",function(e,t,r,n,i){var o=t("./_classof"),s=t("./_wks")("iterator"),a=t("./_iterators");r.exports=t("./_core").getIteratorMethod=function(e){if(void 0!=e)return e[s]||e["@@iterator"]||a[o(e)]}}),e.file("library/modules/_classof.js",function(e,t,r,n,i){var o=t("./_cof"),s=t("./_wks")("toStringTag"),a="Arguments"==o(function(){return arguments}());r.exports=function(e){var t,r,n;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(r=function(e,t){try{return e[t]}catch(e){}}(t=Object(e),s))?r:a?o(t):"Object"==(n=o(t))&&"function"==typeof t.callee?"Arguments":n}}),e.file("library/modules/_iter-detect.js",function(e,t,r,n,i){var o=t("./_wks")("iterator"),s=!1;try{var a=[7][o]();a.return=function(){s=!0},Array.from(a,function(){throw 2})}catch(e){}r.exports=function(e,t){if(!t&&!s)return!1;var r=!1;try{var n=[7],i=n[o]();i.next=function(){return{done:r=!0}},n[o]=function(){return i},e(n)}catch(e){}return r}}),e.file("library/fn/get-iterator.js",function(e,t,r,n,i){t("../modules/web.dom.iterable"),t("../modules/es6.string.iterator"),r.exports=t("../modules/core.get-iterator")}),e.file("library/modules/web.dom.iterable.js",function(e,t,r,n,i){t("./es6.array.iterator");for(var o=t("./_global"),s=t("./_hide"),a=t("./_iterators"),u=t("./_wks")("toStringTag"),c="CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList".split(","),l=0;l<c.length;l++){var f=c[l],h=o[f],p=h&&h.prototype;p&&!p[u]&&s(p,u,f),a[f]=a.Array}}),e.file("library/modules/es6.array.iterator.js",function(e,t,r,n,i){"use strict";var o=t("./_add-to-unscopables"),s=t("./_iter-step"),a=t("./_iterators"),u=t("./_to-iobject");r.exports=t("./_iter-define")(Array,"Array",function(e,t){this._t=u(e),this._i=0,this._k=t},function(){var e=this._t,t=this._k,r=this._i++;return!e||r>=e.length?(this._t=void 0,s(1)):s(0,"keys"==t?r:"values"==t?e[r]:[r,e[r]])},"values"),a.Arguments=a.Array,o("keys"),o("values"),o("entries")}),e.file("library/modules/_add-to-unscopables.js",function(e,t,r,n,i){r.exports=function(){}}),e.file("library/modules/_iter-step.js",function(e,t,r,n,i){r.exports=function(e,t){return{value:t,done:!!e}}}),e.file("library/modules/core.get-iterator.js",function(e,t,r,n,i){var o=t("./_an-object"),s=t("./core.get-iterator-method");r.exports=t("./_core").getIterator=function(e){var t=s(e);if("function"!=typeof t)throw TypeError(e+" is not iterable!");return o(t.call(e))}}),e.file("library/fn/is-iterable.js",function(e,t,r,n,i){t("../modules/web.dom.iterable"),t("../modules/es6.string.iterator"),r.exports=t("../modules/core.is-iterable")}),e.file("library/modules/core.is-iterable.js",function(e,t,r,n,i){var o=t("./_classof"),s=t("./_wks")("iterator"),a=t("./_iterators");r.exports=t("./_core").isIterable=function(e){var t=Object(e);return void 0!==t[s]||"@@iterator"in t||a.hasOwnProperty(o(t))}}),e.file("library/fn/json/stringify.js",function(e,t,r,n,i){var o=t("../../modules/_core"),s=o.JSON||(o.JSON={stringify:JSON.stringify});r.exports=function(e){return s.stringify.apply(s,arguments)}}),e.file("library/fn/object/define-property.js",function(e,t,r,n,i){t("../../modules/es6.object.define-property");var o=t("../../modules/_core").Object;r.exports=function(e,t,r){return o.defineProperty(e,t,r)}}),e.file("library/modules/es6.object.define-property.js",function(e,t,r,n,i){var o=t("./_export");o(o.S+o.F*!t("./_descriptors"),"Object",{defineProperty:t("./_object-dp").f})}),e.file("library/fn/object/freeze.js",function(e,t,r,n,i){t("../../modules/es6.object.freeze"),r.exports=t("../../modules/_core").Object.freeze}),e.file("library/modules/es6.object.freeze.js",function(e,t,r,n,i){var o=t("./_is-object"),s=t("./_meta").onFreeze;t("./_object-sap")("freeze",function(e){return function(t){return e&&o(t)?e(s(t)):t}})}),e.file("library/modules/_meta.js",function(e,t,r,n,i){var o=t("./_uid")("meta"),s=t("./_is-object"),a=t("./_has"),u=t("./_object-dp").f,c=0,l=Object.isExtensible||function(){return!0},f=!t("./_fails")(function(){return l(Object.preventExtensions({}))}),h=function(e){u(e,o,{value:{i:"O"+ ++c,w:{}}})},p=r.exports={KEY:o,NEED:!1,fastKey:function(e,t){if(!s(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!a(e,o)){if(!l(e))return"F";if(!t)return"E";h(e)}return e[o].i},getWeak:function(e,t){if(!a(e,o)){if(!l(e))return!0;if(!t)return!1;h(e)}return e[o].w},onFreeze:function(e){return f&&p.NEED&&l(e)&&!a(e,o)&&h(e),e}}}),e.file("library/modules/_object-sap.js",function(e,t,r,n,i){var o=t("./_export"),s=t("./_core"),a=t("./_fails");r.exports=function(e,t){var r=(s.Object||{})[e]||Object[e],n={};n[e]=t(r),o(o.S+o.F*a(function(){r(1)}),"Object",n)}}),e.entry="index.js"}),e.pkg("babel-runtime",{},function(e){return e.file("helpers/classCallCheck.js",function(e,t,r,n,i){"use strict";e.__esModule=!0,e.default=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}}),e.file("helpers/createClass.js",function(e,t,r,n,i){"use strict";e.__esModule=!0;var o,s=t("../core-js/object/define-property"),a=(o=s)&&o.__esModule?o:{default:o};e.default=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),(0,a.default)(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}()}),e.file("core-js/object/define-property.js",function(e,t,r,n,i){r.exports={default:t("core-js/library/fn/object/define-property"),__esModule:!0}}),e.file("helpers/toConsumableArray.js",function(e,t,r,n,i){"use strict";e.__esModule=!0;var o,s=t("../core-js/array/from"),a=(o=s)&&o.__esModule?o:{default:o};e.default=function(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return(0,a.default)(e)}}),e.file("core-js/array/from.js",function(e,t,r,n,i){r.exports={default:t("core-js/library/fn/array/from"),__esModule:!0}}),e.file("core-js/object/freeze.js",function(e,t,r,n,i){r.exports={default:t("core-js/library/fn/object/freeze"),__esModule:!0}}),e.file("core-js/get-iterator.js",function(e,t,r,n,i){r.exports={default:t("core-js/library/fn/get-iterator"),__esModule:!0}}),e.file("core-js/json/stringify.js",function(e,t,r,n,i){r.exports={default:t("core-js/library/fn/json/stringify"),__esModule:!0}}),e.file("helpers/slicedToArray.js",function(e,t,r,n,i){"use strict";e.__esModule=!0;var o=a(t("../core-js/is-iterable")),s=a(t("../core-js/get-iterator"));function a(e){return e&&e.__esModule?e:{default:e}}e.default=function(){return function(e,t){if(Array.isArray(e))return e;if((0,o.default)(Object(e)))return function(e,t){var r=[],n=!0,i=!1,o=void 0;try{for(var a,u=(0,s.default)(e);!(n=(a=u.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){i=!0,o=e}finally{try{!n&&u.return&&u.return()}finally{if(i)throw o}}return r}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}()}),e.file("core-js/is-iterable.js",function(e,t,r,n,i){r.exports={default:t("core-js/library/fn/is-iterable"),__esModule:!0}}),e.entry="index.js"}),e.pkg("match-at",{},function(e){return e.file("lib/matchAt.js",function(e,t,r,n,i){r.exports=function(e,t,r){if(e.global||e.sticky)throw new Error("matchAt(...): Only non-global regexes are supported");var n=function(e){if(!e.__matchAtRelocatable){var t=e.source+"|()",r="g"+(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"");e.__matchAtRelocatable=new RegExp(t,r)}return e.__matchAtRelocatable}(e);n.lastIndex=r;var i=n.exec(t);return null==i[i.length-1]?(i.length=i.length-1,i):null}}),e.entry="lib/matchAt.js"}),e.pkg("object-assign",{},function(e){return e.file("index.js",function(e,t,r,n,i){"use strict";var o=Object.getOwnPropertySymbols,s=Object.prototype.hasOwnProperty,a=Object.prototype.propertyIsEnumerable;r.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},r=0;r<10;r++)t["_"+String.fromCharCode(r)]=r;if("0123456789"!==Object.getOwnPropertyNames(t).map(function(e){return t[e]}).join(""))return!1;var n={};return"abcdefghijklmnopqrst".split("").forEach(function(e){n[e]=e}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},n)).join("")}catch(e){return!1}}()?Object.assign:function(e,t){for(var r,n,i=function(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}(e),u=1;u<arguments.length;u++){r=Object(arguments[u]);for(var c in r)s.call(r,c)&&(i[c]=r[c]);if(o){n=o(r);for(var l=0;l<n.length;l++)a.call(r,n[l])&&(i[n[l]]=r[n[l]])}}return i}}),e.entry="index.js"}),e.pkg("@cycle/isolate",{},function(e){return e.file("lib/cjs/index.js",function(e,t,r,n,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=0;function s(){return"cycle"+ ++o}function a(e,t){void 0===t&&(t=s()),function(e,t){if("function"!=typeof e)throw new Error("First argument given to isolate() must be a 'dataflowComponent' function");if(null===t)throw new Error("Second argument given to isolate() must not be null")}(e,t);var r="object"==typeof t?s():"",n="string"==typeof t||"object"==typeof t?t:t.toString();return function(t){for(var i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];var s,a,u,c,l=(s=t,a=n,u=r,c={},Object.keys(s).forEach(function(e){if("string"!=typeof a){var t=a[e];if(void 0===t){var r=a["*"];c[e]=void 0===r?u:r}else c[e]=t}else c[e]=a}),c),f=function(e,t){var r={};for(var n in e){var i=e[n];e.hasOwnProperty(n)&&i&&null!==t[n]&&"function"==typeof i.isolateSource?r[n]=i.isolateSource(i,t[n]):e.hasOwnProperty(n)&&(r[n]=e[n])}return r}(t,l);return function(e,t,r){var n={};for(var i in t){var o=e[i],s=t[i];t.hasOwnProperty(i)&&o&&null!==r[i]&&"function"==typeof o.isolateSink?n[i]=o.isolateSink(s,r[i]):t.hasOwnProperty(i)&&(n[i]=t[i])}return n}(t,e.apply(void 0,[f].concat(i)),l)}}a.reset=function(){return o=0},e.default=a}),e.entry="lib/cjs/index.js"}),e.target="browser",e.import("default/main.js"),e.main("default/main.js")}(function(e){function t(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var r=[],n=0,i=arguments.length;n<i;n++)r=r.concat(arguments[n].split("/"));var o=[];for(n=0,i=r.length;n<i;n++){var s=r[n];s&&"."!==s&&(".."===s?o.pop():o.push(s))}return""===r[0]&&o.unshift(""),o.join("/")||(o.length?"/":".")}function r(e,t){for(var r in e)e.hasOwnProperty(r)&&t(r,e[r])}function n(e){return{server:require(e)}}function i(e,r){var i=r.path||"./",o=r.pkg||"default",s=function(e){var t=e.charCodeAt(0),r=e.charCodeAt(1);if((u||58!==r)&&(t>=97&&t<=122||64===t)){if(64===t){var n=e.split("/"),i=n.splice(2,n.length).join("/");return[n[0]+"/"+n[1],i||void 0]}var o=e.indexOf("/");return-1===o?[e]:[e.substring(0,o),e.substring(o+1)]}}(e);if(s&&(i="./",o=s[0],r.v&&r.v[o]&&(o=o+"@"+r.v[o]),e=s[1]),e)if(126===e.charCodeAt(0))e=e.slice(2,e.length),i="./";else if(!u&&(47===e.charCodeAt(0)||58===e.charCodeAt(1)))return n(e);var a=f[o];if(!a){if(u&&"electron"!==p.target)throw"Package not found "+o;return n(o+(e?"/"+e:""))}var c,l,h,d=t(i,e=e||"./"+a.s.entry),v=(h=(l=d).match(/\.(\w{1,})$/))&&h[1]?l:l+".js",m=a.f[v];return!m&&v.indexOf("*")>-1&&(c=v),m||c||(v=t(d,"/","index.js"),(m=a.f[v])||"."!==d||(v=a.s&&a.s.entry||"index.js",m=a.f[v]),m||(v=d+".js",m=a.f[v]),m||(m=a.f[d+".jsx"]),m||(v=d+"/index.jsx",m=a.f[v])),{file:m,wildcard:c,pkgName:o,versions:a.v,filePath:d,validPath:v}}function o(e,t){var r=h[e];if(r)for(var n in r){if(!1===r[n].apply(null,t))return!1}}function s(e,r){if(void 0===r&&(r={}),58===e.charCodeAt(4)||58===e.charCodeAt(5))return function(e){if(u){var t,r=document,n=r.getElementsByTagName("head")[0];/\.css$/.test(e)?((t=r.createElement("link")).rel="stylesheet",t.type="text/css",t.href=e):((t=r.createElement("script")).type="text/javascript",t.src=e,t.async=!0),n.insertBefore(t,n.firstChild)}}(e);var n=i(e,r);if(n.server)return n.server;var a=n.file;if(n.wildcard){var l=new RegExp(n.wildcard.replace(/\*/g,"@").replace(/[.?*+^$[\]\\(){}|-]/g,"\\$&").replace(/@@/g,".*").replace(/@/g,"[a-z0-9$_-]+"),"i"),h=f[n.pkgName];if(h){var d={};for(var v in h.f)l.test(v)&&(d[v]=s(n.pkgName+"/"+v));return d}}if(!a){var m="function"==typeof r;if(!1===o("async",[e,r]))return;return function(e,r,n){if(void 0===n&&(n={}),!u)return r(/\.(js|json)$/.test(e)?c.require(e):"");if(n&&n.ajaxed===e)return console.error(e,"does not provide a module");var i=new XMLHttpRequest;i.onreadystatechange=function(){if(4==i.readyState)if(200==i.status){var n=i.getResponseHeader("Content-Type"),o=i.responseText;/json/.test(n)?o="module.exports = "+o:/javascript/.test(n)||(o="module.exports = "+JSON.stringify(o));var s=t("./",e);p.dynamic(s,o),r(p.import(e,{ajaxed:e}))}else console.error(e,"not found on request"),r(void 0)},i.open("GET",e,!0),i.send()}(e,function(e){return m?r(e):null},r)}var b=n.pkgName;if(a.locals&&a.locals.module)return a.locals.module.exports;var y,g=a.locals={},_=(y=n.validPath).substring(0,y.lastIndexOf("/"))||"./";g.exports={},g.module={exports:g.exports},g.require=function(e,t){return s(e,{pkg:b,path:_,v:n.versions})},u||!c.require.main?g.require.main={filename:"./",paths:[]}:g.require.main=c.require.main;var w=[g.module.exports,g.require,g.module,n.validPath,_,b];return o("before-import",w),a.fn.apply(0,w),o("after-import",w),g.module.exports}if(e.FuseBox)return e.FuseBox;var a="undefined"!=typeof WorkerGlobalScope,u="undefined"!=typeof window&&window.navigator||a,c=u?a?{}:window:global;u&&(c.global=a?{}:window),e=u&&"undefined"==typeof __fbx__dnm__?e:module.exports;var l=u?a?{}:window.__fsbx__=window.__fsbx__||{}:c.$fsbx=c.$fsbx||{};u||(c.require=require);var f=l.p=l.p||{},h=l.e=l.e||{},p=function(){function t(){}return t.global=function(e,t){return void 0===t?c[e]:void(c[e]=t)},t.import=function(e,t){return s(e,t)},t.on=function(e,t){h[e]=h[e]||[],h[e].push(t)},t.exists=function(e){try{return void 0!==i(e,{}).file}catch(e){return!1}},t.remove=function(e){var t=i(e,{}),r=f[t.pkgName];r&&r.f[t.validPath]&&delete r.f[t.validPath]},t.main=function(e){return this.mainFile=e,t.import(e,{})},t.expose=function(t){var n=function(n){var i=t[n].alias,o=s(t[n].pkg);"*"===i?r(o,function(t,r){return e[t]=r}):"object"==typeof i?r(i,function(t,r){return e[r]=o[t]}):e[i]=o};for(var i in t)n(i)},t.dynamic=function(t,r,n){this.pkg(n&&n.pkg||"default",{},function(n){n.file(t,function(t,n,i,o,s){new Function("__fbx__dnm__","exports","require","module","__filename","__dirname","__root__",r)(!0,t,n,i,o,s,e)})})},t.flush=function(e){var t=f.default;for(var r in t.f)e&&!e(r)||delete t.f[r].locals},t.pkg=function(e,t,r){if(f[e])return r(f[e].s);var n=f[e]={};return n.f={},n.v=t,n.s={file:function(e,t){return n.f[e]={fn:t}}},r(n.s)},t.addPlugin=function(e){this.plugins.push(e)},t.packages=f,t.isBrowser=u,t.isServer=!u,t.plugins=[],t}();return u||(c.FuseBox=p),e.FuseBox=p}(this));